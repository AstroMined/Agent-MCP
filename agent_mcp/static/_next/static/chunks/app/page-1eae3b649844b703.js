(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2207:(e,t,s)=>{Promise.resolve().then(s.bind(s,2942))},2942:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>s_});var a=s(5155),r=s(2115),n=s(2098),i=s(3509),l=s(5203),d=s(7168),o=s(8698),c=s(3999);function m(e){let{...t}=e;return(0,a.jsx)(o.bL,{"data-slot":"dropdown-menu",...t})}function x(e){let{...t}=e;return(0,a.jsx)(o.l9,{"data-slot":"dropdown-menu-trigger",...t})}function u(e){let{className:t,sideOffset:s=4,...r}=e;return(0,a.jsx)(o.ZL,{children:(0,a.jsx)(o.UC,{"data-slot":"dropdown-menu-content",sideOffset:s,className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function h(e){let{className:t,inset:s,variant:r="default",...n}=e;return(0,a.jsx)(o.q7,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":r,className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function g(e){let{className:t,inset:s,...r}=e;return(0,a.jsx)(o.JU,{"data-slot":"dropdown-menu-label","data-inset":s,className:(0,c.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...r})}function p(e){let{className:t,...s}=e;return(0,a.jsx)(o.wv,{"data-slot":"dropdown-menu-separator",className:(0,c.cn)("bg-border -mx-1 my-1 h-px",t),...s})}function f(){let{setTheme:e}=(0,l.DP)();return(0,a.jsxs)(m,{children:[(0,a.jsx)(x,{asChild:!0,children:(0,a.jsxs)(d.$,{variant:"ghost",size:"icon",className:"h-9 w-9",children:[(0,a.jsx)(n.A,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,a.jsx)(i.A,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,a.jsxs)(u,{align:"end",children:[(0,a.jsx)(h,{onClick:()=>e("light"),children:"Light"}),(0,a.jsx)(h,{onClick:()=>e("dark"),children:"Dark"}),(0,a.jsx)(h,{onClick:()=>e("system"),children:"System"})]})]})}var j=s(6517),b=s(1154),v=s(5339),N=s(4449),y=s(381),w=s(5487),k=s(4616);function _(e){let{className:t,type:s,...r}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var A=s(968);function C(e){let{className:t,...s}=e;return(0,a.jsx)(A.b,{"data-slot":"label",className:(0,c.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}var S=s(8145);function T(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function E(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function z(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",t),...s})}function D(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",t),...s})}function I(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",t),...s})}var P=s(5452),M=s(4416);function O(e){let{...t}=e;return(0,a.jsx)(P.bL,{"data-slot":"dialog",...t})}function L(e){let{...t}=e;return(0,a.jsx)(P.l9,{"data-slot":"dialog-trigger",...t})}function F(e){let{...t}=e;return(0,a.jsx)(P.ZL,{"data-slot":"dialog-portal",...t})}function R(e){let{className:t,...s}=e;return(0,a.jsx)(P.hJ,{"data-slot":"dialog-overlay",className:(0,c.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function U(e){let{className:t,children:s,showCloseButton:r=!0,...n}=e;return(0,a.jsxs)(F,{"data-slot":"dialog-portal",children:[(0,a.jsx)(R,{}),(0,a.jsxs)(P.UC,{"data-slot":"dialog-content",className:(0,c.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[s,r&&(0,a.jsxs)(P.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(M.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function $(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,c.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function q(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,c.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function V(e){let{className:t,...s}=e;return(0,a.jsx)(P.hE,{"data-slot":"dialog-title",className:(0,c.cn)("text-lg leading-none font-semibold",t),...s})}function W(e){let{className:t,...s}=e;return(0,a.jsx)(P.VY,{"data-slot":"dialog-description",className:(0,c.cn)("text-muted-foreground text-sm",t),...s})}var K=s(8990);function G(){let{servers:e,activeServerId:t,isConnecting:s,connectionError:n,setActiveServer:i,refreshAllServers:l,disconnectServer:o}=(0,K.m)(),[c,f]=(0,r.useState)(!1),k=e.find(e=>e.id===t);(0,r.useEffect)(()=>{let e=setInterval(()=>{l()},3e4);return()=>clearInterval(e)},[l]);let _=async e=>{await i(e),f(!1)},A=e=>{switch(e){case"connected":return(0,a.jsx)(j.A,{className:"h-4 w-4 text-primary"});case"connecting":return(0,a.jsx)(b.A,{className:"h-4 w-4 text-info animate-spin"});case"error":return(0,a.jsx)(v.A,{className:"h-4 w-4 text-destructive"});default:return(0,a.jsx)(N.A,{className:"h-4 w-4 text-muted-foreground"})}};return(0,a.jsxs)(m,{open:c,onOpenChange:f,children:[(0,a.jsx)(x,{asChild:!0,children:(0,a.jsxs)(d.$,{variant:"outline",className:"justify-between min-w-[200px]",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[s?(0,a.jsx)(b.A,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(k?(e=>{switch(e){case"connected":return"bg-primary";case"connecting":return"bg-info";case"error":return"bg-destructive";default:return"bg-muted-foreground"}})(k.status):"bg-muted-foreground")}),(0,a.jsx)("span",{className:"truncate",children:k?k.name:"Select Project"})]}),(0,a.jsx)(y.A,{className:"h-4 w-4 ml-2 opacity-50"})]})}),(0,a.jsxs)(u,{className:"w-80",align:"start",children:[(0,a.jsxs)(g,{className:"flex items-center justify-between",children:["MCP Server Projects",(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>l(),className:"h-6 w-6 p-0",children:(0,a.jsx)(w.A,{className:"h-3 w-3"})})]}),(0,a.jsx)(p,{}),n&&(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(T,{className:"border-destructive/20 bg-destructive/10",children:(0,a.jsx)(I,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(v.A,{className:"h-4 w-4 text-destructive"}),(0,a.jsx)("span",{className:"text-sm text-destructive",children:n})]})})})}),(0,a.jsx)("div",{className:"max-h-[300px] overflow-y-auto",children:e.map(e=>(0,a.jsxs)(h,{onClick:()=>_(e.id),className:"flex items-center justify-between p-3 cursor-pointer",disabled:s,children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[A(e.status),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-medium",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.host,":",e.port]}),e.description&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.description})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e.id===t&&(0,a.jsx)(S.E,{variant:"secondary",className:"text-xs",children:"Active"}),(0,a.jsx)(S.E,{variant:"connected"===e.status?"default":"secondary",className:"text-xs",children:e.status})]})]},e.id))}),(0,a.jsx)(p,{}),(0,a.jsxs)("div",{className:"p-2 space-y-2",children:[(0,a.jsx)(B,{}),t&&(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:o,className:"w-full",children:"Disconnect"})]})]})]})}function B(){let{addServer:e}=(0,K.m)(),[t,s]=(0,r.useState)(!1),[n,i]=(0,r.useState)({name:"",host:"localhost",port:8080,description:""});return(0,a.jsxs)(O,{open:t,onOpenChange:s,children:[(0,a.jsx)(L,{asChild:!0,children:(0,a.jsxs)(d.$,{variant:"outline",size:"sm",className:"w-full",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Add Server"]})}),(0,a.jsxs)(U,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)($,{children:[(0,a.jsx)(V,{children:"Add MCP Server"}),(0,a.jsx)(W,{children:"Add a new MCP server to connect to. This could be a local development server or a remote instance."})]}),(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault(),n.name.trim()&&(e({name:n.name.trim(),host:n.host.trim()||"localhost",port:n.port,description:n.description.trim()}),i({name:"",host:"localhost",port:8080,description:""}),s(!1))},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(C,{htmlFor:"name",children:"Project Name"}),(0,a.jsx)(_,{id:"name",value:n.name,onChange:e=>i(t=>({...t,name:e.target.value})),placeholder:"My Project",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(C,{htmlFor:"host",children:"Host"}),(0,a.jsx)(_,{id:"host",value:n.host,onChange:e=>i(t=>({...t,host:e.target.value})),placeholder:"localhost"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{htmlFor:"port",children:"Port"}),(0,a.jsx)(_,{id:"port",type:"number",value:n.port,onChange:e=>i(t=>({...t,port:parseInt(e.target.value)||8080})),placeholder:"8080"})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(C,{htmlFor:"description",children:"Description (Optional)"}),(0,a.jsx)(_,{id:"description",value:n.description,onChange:e=>i(t=>({...t,description:e.target.value})),placeholder:"Brief description of this server"})]}),(0,a.jsxs)(q,{children:[(0,a.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),(0,a.jsx)(d.$,{type:"submit",children:"Add Server"})]})]})]})]})}function J(){return(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between px-[var(--space-fluid-lg)]",children:[(0,a.jsx)(G,{}),(0,a.jsx)(f,{})]})})}var H=s(6559),Q=s(4861),Y=s(2085),X=s(7489);function Z(e){let{className:t,orientation:s="horizontal",decorative:r=!0,...n}=e;return(0,a.jsx)(X.b,{"data-slot":"separator",decorative:r,orientation:s,className:(0,c.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}function ee(e){let{...t}=e;return(0,a.jsx)(P.bL,{"data-slot":"sheet",...t})}function et(e){let{...t}=e;return(0,a.jsx)(P.ZL,{"data-slot":"sheet-portal",...t})}function es(e){let{className:t,...s}=e;return(0,a.jsx)(P.hJ,{"data-slot":"sheet-overlay",className:(0,c.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function ea(e){let{className:t,children:s,side:r="right",...n}=e;return(0,a.jsxs)(et,{children:[(0,a.jsx)(es,{}),(0,a.jsxs)(P.UC,{"data-slot":"sheet-content",className:(0,c.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[s,(0,a.jsxs)(P.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,a.jsx)(M.A,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function er(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"sheet-header",className:(0,c.cn)("flex flex-col gap-1.5 p-4",t),...s})}function en(e){let{className:t,...s}=e;return(0,a.jsx)(P.hE,{"data-slot":"sheet-title",className:(0,c.cn)("text-foreground font-semibold",t),...s})}function ei(e){let{className:t,...s}=e;return(0,a.jsx)(P.VY,{"data-slot":"sheet-description",className:(0,c.cn)("text-muted-foreground text-sm",t),...s})}var el=s(9613);function ed(e){let{delayDuration:t=0,...s}=e;return(0,a.jsx)(el.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...s})}function eo(e){let{...t}=e;return(0,a.jsx)(ed,{children:(0,a.jsx)(el.bL,{"data-slot":"tooltip",...t})})}function ec(e){let{...t}=e;return(0,a.jsx)(el.l9,{"data-slot":"tooltip-trigger",...t})}function em(e){let{className:t,sideOffset:s=0,children:r,...n}=e;return(0,a.jsx)(el.ZL,{children:(0,a.jsxs)(el.UC,{"data-slot":"tooltip-content",sideOffset:s,className:(0,c.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...n,children:[r,(0,a.jsx)(el.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}let ex=r.createContext(null);function eu(){let e=r.useContext(ex);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}function eh(e){let{defaultOpen:t=!0,open:s,onOpenChange:n,className:i,style:l,children:d,...o}=e,m=function(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),s=()=>{t(window.innerWidth<768)};return e.addEventListener("change",s),t(window.innerWidth<768),()=>e.removeEventListener("change",s)},[]),!!e}(),[x,u]=r.useState(!1),[h,g]=r.useState(t),p=null!=s?s:h,f=r.useCallback(e=>{let t="function"==typeof e?e(p):e;n?n(t):g(t),document.cookie="".concat("sidebar_state","=").concat(t,"; path=/; max-age=").concat(604800)},[n,p]),j=r.useCallback(()=>m?u(e=>!e):f(e=>!e),[m,f,u]);r.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),j())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[j]);let b=p?"expanded":"collapsed",v=r.useMemo(()=>({state:b,open:p,setOpen:f,isMobile:m,openMobile:x,setOpenMobile:u,toggleSidebar:j}),[b,p,f,m,x,u,j]);return(0,a.jsx)(ex.Provider,{value:v,children:(0,a.jsx)(ed,{delayDuration:0,children:(0,a.jsx)("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...l},className:(0,c.cn)("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",i),...o,children:d})})})}function eg(e){let{side:t="left",variant:s="sidebar",collapsible:r="offcanvas",className:n,children:i,...l}=e,{isMobile:d,state:o,openMobile:m,setOpenMobile:x}=eu();return"none"===r?(0,a.jsx)("div",{"data-slot":"sidebar",className:(0,c.cn)("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",n),...l,children:i}):d?(0,a.jsx)(ee,{open:m,onOpenChange:x,...l,children:(0,a.jsxs)(ea,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:t,children:[(0,a.jsxs)(er,{className:"sr-only",children:[(0,a.jsx)(en,{children:"Sidebar"}),(0,a.jsx)(ei,{children:"Displays the mobile sidebar."})]}),(0,a.jsx)("div",{className:"flex h-full w-full flex-col",children:i})]})}):(0,a.jsxs)("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":o,"data-collapsible":"collapsed"===o?r:"","data-variant":s,"data-side":t,"data-slot":"sidebar",children:[(0,a.jsx)("div",{"data-slot":"sidebar-gap",className:(0,c.cn)("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===s||"inset"===s?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),(0,a.jsx)("div",{"data-slot":"sidebar-container",className:(0,c.cn)("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex","left"===t?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===s||"inset"===s?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...l,children:(0,a.jsx)("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function ep(e){let{className:t,...s}=e,{toggleSidebar:r}=eu();return(0,a.jsx)("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:(0,c.cn)("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...s})}function ef(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:(0,c.cn)("flex flex-col gap-2 p-2",t),...s})}function ej(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:(0,c.cn)("flex flex-col gap-2 p-2",t),...s})}function eb(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:(0,c.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...s})}(0,Y.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});var ev=s(3783),eN=s(7580),ey=s(9145),ew=s(9376),ek=s(5040);let e_=[{title:"Overview",icon:ev.A,view:"overview",description:"System overview and metrics"},{title:"Agents",icon:eN.A,view:"agents",description:"Manage and monitor agents"},{title:"Tasks",icon:ey.A,view:"tasks",description:"Task orchestration and management"},{title:"Memories",icon:ew.A,view:"memories",description:"Memory bank and context management"},{title:"Prompt Book",icon:ek.A,view:"prompts",description:"Standardized prompts and workflows"}];function eA(){let{currentView:e,setCurrentView:t}=(0,l.MZ)(),{isCollapsed:s}=(0,l.cL)(),r=e=>{let{item:r,isActive:n=!1}=e,i=(0,a.jsxs)(d.$,{variant:n?"secondary":"ghost",className:(0,c.cn)("w-full justify-start gap-3 h-11",s&&"justify-center px-2",n&&"bg-secondary text-secondary-foreground font-medium"),onClick:()=>t(r.view),children:[(0,a.jsx)(r.icon,{className:(0,c.cn)("h-5 w-5",n&&"text-primary")}),!s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"truncate",children:r.title}),r.badge&&(0,a.jsx)("span",{className:"ml-auto text-xs bg-primary text-primary-foreground px-1.5 py-0.5 rounded-full",children:r.badge})]})]});return s&&r.description?(0,a.jsxs)(eo,{children:[(0,a.jsx)(ec,{asChild:!0,children:i}),(0,a.jsxs)(em,{side:"right",children:[(0,a.jsx)("p",{className:"font-medium",children:r.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:r.description})]})]}):i};return(0,a.jsx)(ed,{children:(0,a.jsxs)("nav",{className:"space-y-2 p-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[!s&&(0,a.jsx)("h3",{className:"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Dashboard"}),e_.map(t=>(0,a.jsx)(r,{item:t,isActive:e===t.view},t.view))]}),!s&&(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"System Online"})]})})]})})}function eC(){let{isCollapsed:e,toggle:t}=(0,l.cL)();return(0,a.jsxs)(eg,{variant:"sidebar",collapsible:"icon",className:(0,c.cn)("flex flex-col h-screen z-40 transition-all duration-300",e?"w-16":"w-64"),children:[(0,a.jsx)(ef,{className:"border-b px-3 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[!e&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"h-6 w-6 rounded bg-primary/20 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-semibold text-primary",children:"M"})}),(0,a.jsx)("span",{className:"font-semibold text-sm text-foreground",children:"MCP Control"})]}),(0,a.jsxs)(d.$,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8 shrink-0",children:[e?(0,a.jsx)(H.A,{className:"h-4 w-4"}):(0,a.jsx)(Q.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle sidebar"})]})]})}),(0,a.jsx)(eb,{className:"px-0",children:(0,a.jsx)(eA,{})}),(0,a.jsx)(ej,{className:"border-t p-3",children:!e&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground text-center",children:[(0,a.jsx)("div",{className:"font-medium text-foreground",children:"AgentMCP Dashboard"}),(0,a.jsx)("div",{className:"text-muted-foreground",children:"v2.2 • Improved Dashboard"})]})}),(0,a.jsx)(ep,{})]})}function eS(e){let{children:t}=e,{setTheme:s,theme:n}=(0,l.DP)();return(0,r.useEffect)(()=>{"system"===n?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"):"dark"===n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");let e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>{"system"===n&&s("system")};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[n,s]),(0,a.jsx)(eh,{children:(0,a.jsxs)("div",{className:"h-screen bg-background flex overflow-hidden",children:[(0,a.jsx)(eC,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[(0,a.jsx)(J,{}),(0,a.jsx)("main",{className:"flex-1 overflow-auto min-h-0",children:(0,a.jsx)("div",{className:"fluid-container h-full animate-fade-in",children:t})})]})]})})}function eT(){let[e,t]=(0,r.useState)("localhost"),[s,n]=(0,r.useState)(""),[i,l]=(0,r.useState)(""),{addServer:o,setActiveServer:c}=(0,K.m)(),[m,x]=(0,r.useState)(!1),u=async()=>{if(!s||!i)return;x(!0);let t=parseInt(s);if(isNaN(t)||t<1||t>65535){alert("Please enter a valid port number (1-65535)"),x(!1);return}try{o({name:i,host:e,port:t,description:"Custom server on port ".concat(t)});let s=K.m.getState().servers,a=s[s.length-1];a&&await c(a.id),l(""),n("")}catch(e){console.error("Failed to add server:",e)}finally{x(!1)}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"name",children:"Server Name"}),(0,a.jsx)(_,{id:"name",placeholder:"My MCP Server",value:i,onChange:e=>l(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"port",children:"Port"}),(0,a.jsx)(_,{id:"port",type:"number",placeholder:"8080",value:s,onChange:e=>n(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"host",children:"Host (optional)"}),(0,a.jsx)(_,{id:"host",placeholder:"localhost",value:e,onChange:e=>t(e.target.value)})]}),(0,a.jsxs)(d.$,{onClick:u,disabled:!s||!i||m,className:"w-full",children:[(0,a.jsx)(k.A,{className:"w-4 h-4 mr-2"}),m?"Connecting...":"Add Server"]})]})}var eE=s(1204);function ez(){let{servers:e,activeServerId:t,setActiveServer:s,autoDetectServers:n,clearPersistedData:i,isConnecting:l}=(0,K.m)();e.find(e=>e.id===t);let[d,o]=(0,r.useState)(!1),c=e.filter(e=>"connected"===e.status),m=e.filter(e=>"connected"!==e.status);(0,r.useEffect)(()=>{!eE.$.autoDetect.enabled||t||l||x()},[]);let x=async()=>{o(!0);try{let e=await n();e&&eE.$.autoDetect.enabled&&await s(e.id)}catch(e){console.error("Auto-detection failed:",e)}finally{o(!1)}};return(0,a.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center p-[var(--space-fluid-xl)]",children:(0,a.jsxs)("div",{className:"max-w-2xl w-full space-y-[var(--space-fluid-lg)]",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"mx-auto w-16 h-16 bg-teal-500/20 rounded-full flex items-center justify-center",children:(0,a.jsx)(w.A,{className:"w-8 h-8 text-teal-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-fluid-2xl font-bold text-foreground",children:"Connect to MCP Server"}),(0,a.jsx)("p",{className:"text-muted-foreground text-fluid-base mt-2",children:"Choose a server to start managing agents and tasks"})]})]}),c.length>0&&(0,a.jsxs)("div",{className:"space-y-[var(--space-fluid-sm)]",children:[(0,a.jsxs)("h3",{className:"text-fluid-sm font-medium text-foreground flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"w-4 h-4 text-green-500"}),"Connected Servers"]}),(0,a.jsx)("div",{className:"grid gap-[var(--space-fluid-sm)]",children:c.map(e=>(0,a.jsx)(T,{className:"cursor-pointer transition-all hover:shadow-md ".concat(t===e.id?"ring-2 ring-teal-500 bg-teal-50/50 dark:bg-teal-950/20":""),onClick:()=>s(e.id),children:(0,a.jsx)(I,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-foreground",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.host,":",e.port]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(S.E,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 dark:bg-green-950 dark:text-green-300 dark:border-green-800",children:"Connected"}),t===e.id&&(0,a.jsx)(S.E,{className:"bg-teal-500 text-white",children:"Active"})]})]})})},e.id))})]}),m.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 text-orange-500"}),"Available Servers"]}),(0,a.jsx)("div",{className:"grid gap-3",children:m.map(e=>(0,a.jsx)(T,{className:"cursor-pointer transition-all hover:shadow-md opacity-60",onClick:()=>s(e.id),children:(0,a.jsx)(I,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-foreground",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.host,":",e.port]})]})]}),(0,a.jsx)(S.E,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200 dark:bg-orange-950 dark:text-orange-300 dark:border-orange-800",children:"connecting"===e.status?"Connecting...":"Disconnected"})]})})},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[(0,a.jsx)(k.A,{className:"w-4 h-4 text-blue-500"}),"Add New Server"]}),(0,a.jsx)(T,{className:"border-dashed border-2 border-muted-foreground/20 hover:border-muted-foreground/40 transition-colors",children:(0,a.jsx)(I,{className:"p-6",children:(0,a.jsx)(eT,{})})})]}),0===c.length&&(0,a.jsx)("div",{className:"text-center pt-4",children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No servers connected. Add a server above or check your connection settings."})})]})})}function eD(e){let{children:t}=e,{activeServerId:s,servers:r}=(0,K.m)(),n=r.find(e=>e.id===s);return s&&(null==n?void 0:n.status)==="connected"?(0,a.jsx)("div",{className:"h-full w-full",children:t}):(0,a.jsx)(ez,{})}var eI=s(3904),eP=s(5453),eM=s(1886);let eO=new Map,eL=(0,eP.v)((e,t)=>({data:null,loading:!1,error:null,lastFetch:0,isRefreshing:!1,fetchAllData:async function(){let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=t();if(a.loading||a.isRefreshing)return;let r=Date.now();if(s||!a.data||!(r-a.lastFetch<3e4)){!a.data||s?e({loading:!0,error:null}):e({isRefreshing:!0,error:null});try{var n,i,l,d;let t;try{let e=await fetch("".concat(eM.uE.getServerUrl(),"/api/all-data"),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"});if(!e.ok)throw Error("Failed to fetch: ".concat(e.statusText));t=await e.json()}catch(n){console.log("⚠️ All-data endpoint not available, using fallback..."),console.log("\uD83D\uDD0D All-data endpoint error:",n);let[e,s,a]=await Promise.all([eM.uE.getAgents(),eM.uE.getTasks(),eM.uE.getTokens()]),r=[];try{let e=await fetch("".concat(eM.uE.getServerUrl(),"/api/all-data"));e.ok&&(r=(await e.json()).context||[])}catch(e){console.log("⚠️ Could not fetch context data in fallback:",e),console.log("\uD83D\uDD0D Server URL:",eM.uE.getServerUrl())}t={agents:e.map(e=>{var t;let s=(null==(t=a.agent_tokens.find(t=>t.agent_id===e.agent_id))?void 0:t.token)||("Admin"===e.agent_id?a.admin_token:void 0);return{...e,auth_token:s}}),tasks:s,context:r,actions:[],file_metadata:[],file_map:{},admin_token:a.admin_token,timestamp:new Date().toISOString()}}console.log("✅ Fetched all data:",{agents:(null==(n=t.agents)?void 0:n.length)||0,tasks:(null==(i=t.tasks)?void 0:i.length)||0,context:(null==(l=t.context)?void 0:l.length)||0,actions:(null==(d=t.actions)?void 0:d.length)||0}),console.log("\uD83D\uDD0D Debug - Context data received:",t.context),eO.clear(),e({data:t,loading:!1,isRefreshing:!1,error:null,lastFetch:r})}catch(t){console.error("❌ Failed to fetch all data:",t),e({loading:!1,isRefreshing:!1,error:t instanceof Error?t.message:"Failed to fetch data"})}}},getAgent:e=>{let s=t();if(!s.data)return;if("Admin"===e||"admin"===e)return s.data.agents.find(e=>"Admin"===e.agent_id);let a=e.startsWith("agent_")?e.substring(6):e;return s.data.agents.find(e=>e.agent_id===a)},getAgentTasks:e=>{let s=t();return s.data?function(e,t){let s=eO.get(e),a=Date.now();if(s&&a-s.timestamp<5e3)return s.data;let r=t();return eO.set(e,{data:r,timestamp:a}),r}("agent-tasks-".concat(e,"-").concat(s.data.timestamp),()=>{let t=e.startsWith("agent_")?e.substring(6):e,a="Admin"===t?"admin":t,r=s.data.tasks.filter(e=>e.assigned_to===a||e.assigned_to===t||"admin"===a&&("Admin"===e.assigned_to||"admin"===e.assigned_to)),n=new Set;return s.data.actions.filter(e=>e.agent_id===a||e.agent_id===t||"admin"===a&&("Admin"===e.agent_id||"admin"===e.agent_id)).forEach(e=>{e.task_id&&n.add(e.task_id)}),[...r,...s.data.tasks.filter(e=>n.has(e.task_id)&&e.assigned_to!==a&&e.assigned_to!==t&&("admin"!==a||"Admin"!==e.assigned_to&&"admin"!==e.assigned_to))].filter((e,t,s)=>s.findIndex(t=>t.task_id===e.task_id)===t)}):[]},getAgentActions:e=>{let s=t();if(!s.data)return[];let a=e.startsWith("agent_")?e.substring(6):e,r="Admin"===a?"admin":a;return s.data.actions.filter(e=>e.agent_id===r||e.agent_id===a||"admin"===r&&("Admin"===e.agent_id||"admin"===e.agent_id))},getTask:e=>{let s=t();if(!s.data)return;let a=e.startsWith("task_")?e.substring(5):e;return s.data.tasks.find(e=>e.task_id===a)},getContext:e=>{let s=t();if(!s.data)return;let a=e.startsWith("context_")?e.substring(8):e;return s.data.context.find(e=>e.context_key===a)},getAdminToken:()=>{var e;return null==(e=t().data)?void 0:e.admin_token},getAgentToken:e=>{let s=t().getAgent(e);return null==s?void 0:s.auth_token},getAgentTaskAnalysis:e=>{let s=t();if(!s.data)return{assignedTasks:[],workedOnTasks:[],completedTasks:[],completionActions:[],totalTasks:0,assignedCount:0,workedOnCount:0,completedCount:0,completionActionCount:0};let a=e.startsWith("agent_")?e.substring(6):e,r="Admin"===a?"admin":a,n=t().getAgentTasks(e),i=n.filter(e=>e.assigned_to===r||e.assigned_to===a||"admin"===r&&("Admin"===e.assigned_to||"admin"===e.assigned_to)),l=n.filter(e=>e.assigned_to!==r&&e.assigned_to!==a&&("admin"!==r||"Admin"!==e.assigned_to&&"admin"!==e.assigned_to)),d=n.filter(e=>"completed"===e.status),o=s.data.actions.filter(e=>(e.agent_id===r||e.agent_id===a)&&("task_completed"===e.action_type||"complete_task"===e.action_type||e.action_type.includes("complet")));return{assignedTasks:i,workedOnTasks:l,completedTasks:d,completionActions:o,totalTasks:n.length,assignedCount:i.length,workedOnCount:l.length,completedCount:d.length,completionActionCount:o.length}},updateAgent:s=>{let a=t();if(!a.data)return;let r=a.data.agents.findIndex(e=>e.agent_id===s.agent_id);if(-1!==r){let t=[...a.data.agents];t[r]=s,e({data:{...a.data,agents:t}})}},updateTask:s=>{let a=t();if(!a.data)return;let r=a.data.tasks.findIndex(e=>e.task_id===s.task_id);if(-1!==r){let t=[...a.data.tasks];t[r]=s,e({data:{...a.data,tasks:t}})}},refreshData:async()=>{await t().fetchAllData(!0)},debouncedRefresh:function(e,t){let s=null;return function(){for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];s&&clearTimeout(s),s=setTimeout(()=>{e(...r)},t)}}(async()=>{await t().fetchAllData()},500),shouldDisplayAgent:e=>{if("Admin"===e.agent_id||"admin"===e.agent_id||e.current_task)return!0;let t=new Date,s=new Date(e.created_at);return(t.getTime()-s.getTime())/6e4<=10},getActiveAgents:()=>{let e=t();return e.data?e.data.agents.filter(e=>t().shouldDisplayAgent(e)):[]},getIdleAgentsForCleanup:()=>{let e=t();if(!e.data)return[];let s=new Date;return e.data.agents.filter(e=>{if("Admin"===e.agent_id||"admin"===e.agent_id||e.current_task||"terminated"===e.status)return!1;let t=new Date(e.created_at);return(s.getTime()-t.getTime())/6e4>10})}}));setInterval(()=>{let e=eL.getState();e.data&&e.refreshData()},6e4);let eF=(0,s(5028).default)(()=>Promise.all([s.e(918),s.e(456)]).then(s.bind(s,6456)),{loadableGenerated:{webpack:()=>[6456]},loading:()=>(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading graph visualization..."})]})}),ssr:!1});function eR(e){let{fullscreen:t=!1,onNodeSelect:s}=e;return(0,a.jsx)(eF,{fullscreen:t,onNodeSelect:s})}var eU=s(4186),e$=s(646),eq=s(7242),eV=s(9397),eW=s(1007),eK=s(6785),eG=s(2332),eB=s(5525),eJ=s(4357),eH=s(1539),eQ=s(7434),eY=s(2775),eX=s(3052),eZ=s(5448),e0=s(4213),e2=s(5863);function e1(e){let{className:t,value:s,...r}=e;return(0,a.jsx)(e2.bL,{"data-slot":"progress",className:(0,c.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:(0,a.jsx)(e2.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})}var e3=s(7655);function e5(e){let{className:t,children:s,...r}=e;return(0,a.jsxs)(e3.bL,{"data-slot":"scroll-area",className:(0,c.cn)("relative",t),...r,children:[(0,a.jsx)(e3.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:s}),(0,a.jsx)(e4,{}),(0,a.jsx)(e3.OK,{})]})}function e4(e){let{className:t,orientation:s="vertical",...r}=e;return(0,a.jsx)(e3.VM,{"data-slot":"scroll-area-scrollbar",orientation:s,className:(0,c.cn)("flex touch-none p-px transition-colors select-none","vertical"===s&&"h-full w-2.5 border-l border-l-transparent","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:(0,a.jsx)(e3.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}let e6={pending:eU.A,running:b.A,in_progress:b.A,completed:e$.A,terminated:eq.A,failed:v.A,cancelled:eq.A},e8={pending:"bg-yellow-500/10 text-yellow-600 border-yellow-500/30",running:"bg-blue-500/10 text-blue-600 border-blue-500/30",in_progress:"bg-blue-500/10 text-blue-600 border-blue-500/30",completed:"bg-green-500/10 text-green-600 border-green-500/30",terminated:"bg-red-500/10 text-red-600 border-red-500/30",failed:"bg-red-500/10 text-red-600 border-red-500/30",cancelled:"bg-gray-500/10 text-gray-600 border-gray-500/30"},e9={low:"bg-slate-500/10 text-slate-600 border-slate-500/30",medium:"bg-amber-500/10 text-amber-600 border-amber-500/30",high:"bg-red-500/10 text-red-600 border-red-500/30"};function e7(e){let{nodeId:t,nodeType:s,isOpen:n,onClose:i,nodeData:l}=e,[o,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)(null),[h,g]=(0,r.useState)(null),{data:p,fetchAllData:f,getAgent:j,getTask:N,getContext:y,getAdminToken:w}=eL();return((0,r.useEffect)(()=>{t&&s&&n&&(async()=>{m(!0),g(null);try{p||await f();let e=null;if("agent"===s?e=j(t):"task"===s?e=N(t):"context"===s?e=y(t):"admin"===s&&(e={agent_id:"Admin",name:"System Administrator",status:"active",auth_token:w(),capabilities:["All permissions"],created_at:"System"}),e)u(e);else{let e="task"!==s||t.startsWith("task_")?"agent"!==s||t.startsWith("agent_")?t:"agent_".concat(t):"task_".concat(t),a=await eM.uE.getNodeDetails(e);if(a.data)u(a.data);else throw Error("".concat(s," details not found"))}}catch(e){g(e instanceof Error?e.message:"Failed to load details")}finally{m(!1)}})()},[t,s,n,p,f,j,N,y,w]),n)?(0,a.jsx)("div",{className:(0,c.cn)("fixed right-0 top-16 h-[calc(100vh-4rem)] bg-background border-l transform transition-all duration-500 z-30","shadow-lg",n?"translate-x-0 w-[384px]":"translate-x-full w-0"),children:n&&(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsx)("div",{className:"bg-card border-b px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("h2",{className:"text-base font-semibold",children:"agent"===s||"admin"===s?"Agent Details":"task"===s?"Task Details":"context"===s?"Context Details":"Node Details"})}),(0,a.jsx)(d.$,{variant:"ghost",size:"icon",onClick:i,className:"h-7 w-7",children:(0,a.jsx)(M.A,{className:"h-3.5 w-3.5"})})]})}),(0,a.jsx)(e5,{className:"flex-1",children:(0,a.jsxs)("div",{className:"px-6 py-4 space-y-4",children:[o&&(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)(b.A,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),h&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,a.jsx)(v.A,{className:"h-8 w-8 text-destructive mb-2"}),(0,a.jsx)("p",{className:"text-sm text-destructive",children:h})]}),x&&!o&&!h&&(0,a.jsxs)(a.Fragment,{children:[("agent"===s||"admin"===s)&&(e=>{let t=e6[e.status]||eV.A,s="running"===e.status;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-full bg-primary/10",children:(0,a.jsx)(eW.A,{className:"h-5 w-5 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e.agent_id}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Agent ID"})]})]}),(0,a.jsxs)(S.E,{variant:"outline",className:(0,c.cn)(e8[e.status]),children:[(0,a.jsx)(t,{className:(0,c.cn)("h-3 w-3 mr-1",s&&"animate-spin")}),e.status]})]}),(0,a.jsx)(Z,{className:"mb-4"}),(0,a.jsxs)("div",{className:"space-y-4",children:[e.current_task&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eK.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Current Task"})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:e.current_task})]}),e.working_directory&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eG.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Working Directory"})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground font-mono",children:e.working_directory})]}),e.auth_token&&(0,a.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eB.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Authentication Token"})]}),(0,a.jsxs)(d.$,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText(e.auth_token)},className:"h-7 px-2",children:[(0,a.jsx)(eJ.A,{className:"h-3 w-3 mr-1"}),"Copy"]})]}),(0,a.jsx)("div",{className:"font-mono text-xs bg-background/50 p-2 rounded break-all",children:e.auth_token})]}),e.capabilities&&(()=>{let t=[];try{"string"==typeof e.capabilities?t=JSON.parse(e.capabilities):Array.isArray(e.capabilities)&&(t=e.capabilities)}catch(e){t=[]}return t.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eH.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Capabilities"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map((e,t)=>(0,a.jsx)(S.E,{variant:"secondary",className:"text-xs",children:e},t))})]})})(),(0,a.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Created"}),(0,a.jsx)("span",{className:"font-mono",children:new Date(e.created_at).toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Last Updated"}),(0,a.jsx)("span",{className:"font-mono",children:new Date(e.updated_at).toLocaleString()})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex gap-2",children:["running"===e.status&&(0,a.jsx)(d.$,{variant:"destructive",size:"sm",className:"flex-1",children:"Terminate Agent"}),(0,a.jsx)(d.$,{variant:"outline",size:"sm",className:"flex-1",children:"View Logs"})]})]})})(x),"task"===s&&(e=>{let t=e6[e.status]||eV.A,s="in_progress"===e.status;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-full bg-primary/10",children:(0,a.jsx)(eQ.A,{className:"h-5 w-5 text-primary"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold line-clamp-2",children:e.title||"Untitled Task"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Task #",e.task_id?e.task_id.slice(0,8):"unknown"]})]})]})}),(0,a.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,a.jsxs)(S.E,{variant:"outline",className:(0,c.cn)(e8[e.status]),children:[(0,a.jsx)(t,{className:(0,c.cn)("h-3 w-3 mr-1",s&&"animate-spin")}),e.status]}),(0,a.jsxs)(S.E,{variant:"outline",className:(0,c.cn)(e9[e.priority]),children:[e.priority," priority"]})]}),(0,a.jsx)(Z,{className:"mb-4"}),(0,a.jsx)(e5,{className:"h-[300px] pr-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[e.description&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Description"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]}),e.assigned_to&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eW.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Assigned To"})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:e.assigned_to})]}),e.depends_on_tasks&&(()=>{let t=[];try{"string"==typeof e.depends_on_tasks?t=JSON.parse(e.depends_on_tasks):Array.isArray(e.depends_on_tasks)&&(t=e.depends_on_tasks)}catch(e){t=[]}return t.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eY.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Dependencies"})]}),(0,a.jsx)("div",{className:"space-y-1",children:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)(eX.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"font-mono",children:e.slice(0,8)})]},e))})]})})(),e.child_tasks&&(()=>{let t=[];try{"string"==typeof e.child_tasks?t=JSON.parse(e.child_tasks):Array.isArray(e.child_tasks)&&(t=e.child_tasks)}catch(e){t=[]}return t.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eZ.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:["Subtasks (",t.length,")"]})]}),(0,a.jsx)(e1,{value:33,className:"h-2"})]})})(),e.notes&&(()=>{let t=[];try{"string"==typeof e.notes?t=JSON.parse(e.notes):Array.isArray(e.notes)&&(t=e.notes)}catch(e){t=[]}return t.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Notes"}),(0,a.jsx)("div",{className:"space-y-2",children:t.map((e,t)=>(0,a.jsxs)("div",{className:"p-3 rounded-lg bg-muted/30 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:e.author}),(0,a.jsx)("span",{children:new Date(e.timestamp).toLocaleString()})]}),(0,a.jsx)("p",{className:"text-sm",children:e.content})]},t))})]})})(),(0,a.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Created"}),(0,a.jsx)("span",{className:"font-mono",children:new Date(e.created_at).toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Last Updated"}),(0,a.jsx)("span",{className:"font-mono",children:new Date(e.updated_at).toLocaleString()})]})]})]})}),(0,a.jsxs)("div",{className:"mt-6 flex gap-2",children:["pending"===e.status&&(0,a.jsx)(d.$,{variant:"default",size:"sm",className:"flex-1",children:"Start Task"}),"in_progress"===e.status&&(0,a.jsx)(d.$,{variant:"secondary",size:"sm",className:"flex-1",children:"Mark Complete"}),(0,a.jsx)(d.$,{variant:"outline",size:"sm",className:"flex-1",children:"Edit Task"})]})]})})(x),"context"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-full bg-primary/10",children:(0,a.jsx)(e0.A,{className:"h-5 w-5 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:x.context_key}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Context Entry"})]})]})}),(0,a.jsx)(Z,{className:"mb-4"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"text-sm font-medium",children:"Value"})}),(0,a.jsx)("div",{className:"p-3 rounded-lg bg-muted/50",children:(0,a.jsx)("pre",{className:"text-sm whitespace-pre-wrap break-all",children:"string"==typeof x.context_value?x.context_value:JSON.stringify(x.context_value,null,2)})})]}),x.summary&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Summary"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:x.summary})]}),x.metadata&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Metadata"}),(0,a.jsx)("div",{className:"p-3 rounded-lg bg-muted/50",children:(0,a.jsx)("pre",{className:"text-sm whitespace-pre-wrap",children:JSON.stringify(x.metadata,null,2)})})]}),(0,a.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Created"}),(0,a.jsx)("span",{className:"font-mono",children:x.created_at?new Date(x.created_at).toLocaleString():"N/A"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Last Updated"}),(0,a.jsx)("span",{className:"font-mono",children:x.updated_at?new Date(x.updated_at).toLocaleString():"N/A"})]})]})]})]})]}),!x&&!o&&!h&&l&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"p-2 rounded-full bg-primary/10",children:(0,a.jsx)(eZ.A,{className:"h-5 w-5 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:(null==l?void 0:l.label)||t}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground capitalize",children:s})]})]}),(0,a.jsx)(Z,{}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,a.jsx)("p",{children:"No additional details available for this node type."})})]})]})})]})}):null}function te(){let{servers:e,activeServerId:t}=(0,K.m)(),s=e.find(e=>e.id===t),{data:n,loading:i,fetchAllData:l,isRefreshing:o}=eL(),[c,m]=(0,r.useState)(null),[x,u]=(0,r.useState)(null),[h,g]=(0,r.useState)(null),[p,f]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{t&&(null==s?void 0:s.status)==="connected"&&l()},[t,null==s?void 0:s.status,l]),t&&(null==s?void 0:s.status)==="connected")?(0,a.jsxs)("div",{className:"w-full space-y-[var(--space-fluid-lg)]",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-fluid-2xl font-bold text-foreground",children:"Multi-Agent Collaboration Network"}),(0,a.jsx)("p",{className:"text-muted-foreground text-fluid-base mt-1",children:"Real-time visualization of agent-task relationships"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs bg-green-500/15 text-green-600 border-green-500/30 font-medium",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),null==s?void 0:s.name]}),(null==n?void 0:n.timestamp)&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date(n.timestamp).toLocaleTimeString()]}),(0,a.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>l(!0),disabled:i||o,className:"text-xs",children:[(0,a.jsx)(eI.A,{className:"h-3.5 w-3.5 mr-1.5 ".concat(i||o?"animate-spin":"")}),"Refresh"]})]})]}),(0,a.jsx)("div",{className:"bg-card/30 border border-border/50 rounded-lg backdrop-blur-sm overflow-hidden",style:{height:"calc(100vh - 280px)"},children:(0,a.jsx)(eR,{fullscreen:!0,onNodeSelect:(e,t,s)=>{m(e),u(t),g(s),f(!0)}})}),(0,a.jsx)(e7,{nodeId:c,nodeType:x,nodeData:h,isOpen:p,onClose:()=>{f(!1),m(null),u(null),g(null)}})]}):(0,a.jsx)("div",{className:"h-full flex items-center justify-center p-4",children:(0,a.jsx)(T,{className:"max-w-md",children:(0,a.jsxs)(I,{className:"flex flex-col items-center justify-center py-12 px-8 text-center",children:[(0,a.jsx)(w.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Connect to an MCP Server"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Select an MCP server from the project picker in the header to view the system graph and manage agents."}),s&&"error"===s.status&&(0,a.jsxs)("div",{className:"text-sm text-destructive mt-4",children:["Failed to connect to ",s.name," (",s.host,":",s.port,")"]})]})})})}var tt=s(3314),ts=s(1684),ta=s(2657),tr=s(9629),tn=s(4020),ti=s(9302),tl=s(3453),td=s(7924),to=s(1992),tc=s(6474),tm=s(5196),tx=s(7863);function tu(e){let{...t}=e;return(0,a.jsx)(to.bL,{"data-slot":"select",...t})}function th(e){let{...t}=e;return(0,a.jsx)(to.WT,{"data-slot":"select-value",...t})}function tg(e){let{className:t,size:s="default",children:r,...n}=e;return(0,a.jsxs)(to.l9,{"data-slot":"select-trigger","data-size":s,className:(0,c.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,(0,a.jsx)(to.In,{asChild:!0,children:(0,a.jsx)(tc.A,{className:"size-4 opacity-50"})})]})}function tp(e){let{className:t,children:s,position:r="popper",...n}=e;return(0,a.jsx)(to.ZL,{children:(0,a.jsxs)(to.UC,{"data-slot":"select-content",className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[(0,a.jsx)(tj,{}),(0,a.jsx)(to.LM,{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(tb,{})]})})}function tf(e){let{className:t,children:s,...r}=e;return(0,a.jsxs)(to.q7,{"data-slot":"select-item",className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(to.VF,{children:(0,a.jsx)(tm.A,{className:"size-4"})})}),(0,a.jsx)(to.p4,{children:s})]})}function tj(e){let{className:t,...s}=e;return(0,a.jsx)(to.PP,{"data-slot":"select-scroll-up-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(tx.A,{className:"size-4"})})}function tb(e){let{className:t,...s}=e;return(0,a.jsx)(to.wn,{"data-slot":"select-scroll-down-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(tc.A,{className:"size-4"})})}function tv(e){let{className:t,...s}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...s})}function tN(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",t),...s})})}function ty(e){let{className:t,...s}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",t),...s})}function tw(e){let{className:t,...s}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",t),...s})}function tk(e){let{className:t,...s}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...s})}function t_(e){let{className:t,...s}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s})}function tA(e){let{className:t,...s}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s})}function tC(e){let{task:t,open:s,onOpenChange:r}=e;if(!t)return null;let n=e=>{if(!e)return[];if(Array.isArray(e))return e;if("string"==typeof e)try{let t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){}return[]};return(0,a.jsx)(O,{open:s,onOpenChange:r,children:(0,a.jsxs)(U,{className:"max-w-2xl max-h-[80vh]",children:[(0,a.jsx)($,{children:(0,a.jsxs)(V,{className:"flex items-center justify-between pr-8",children:[(0,a.jsx)("span",{className:"text-lg font-semibold",children:t.title}),(0,a.jsx)(S.E,{variant:"outline",className:(0,c.cn)("text-xs",(e=>{let t={pending:"bg-warning/15 text-warning border-warning/30",in_progress:"bg-primary/15 text-primary border-primary/30",completed:"bg-green-500/15 text-green-600 border-green-500/30",cancelled:"bg-muted/50 text-muted-foreground border-border",failed:"bg-destructive/15 text-destructive border-destructive/30"};return t[e]||t.pending})(t.status)),children:t.status.replace(/_/g," ")})]})}),(0,a.jsx)(e5,{className:"max-h-[60vh] pr-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Task ID"}),(0,a.jsx)("p",{className:"font-mono text-xs mt-1",children:t.task_id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Priority"}),(0,a.jsx)(S.E,{variant:"outline",className:(0,c.cn)("text-xs mt-1",(e=>{let t={low:"bg-muted text-muted-foreground",medium:"bg-primary/10 text-primary",high:"bg-destructive/10 text-destructive"};return t[e]||t.medium})(t.priority)),children:t.priority})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Assigned To"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:t.assigned_to||"Unassigned"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Created"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:new Date(t.created_at).toLocaleDateString()})]})]}),(0,a.jsx)(Z,{}),t.description&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Description"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:t.description})]}),(0,a.jsx)(Z,{})]}),(()=>{let e=n(t.notes);return e.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold mb-3",children:"Notes"}),(0,a.jsx)("div",{className:"space-y-3",children:e.map((e,t)=>(0,a.jsxs)("div",{className:"bg-muted rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs font-medium",children:e.author}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleString()})]}),(0,a.jsx)("p",{className:"text-sm",children:e.content})]},t))})]})})(),(()=>{let e=n(t.depends_on_tasks);return e.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Dependencies"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map((e,t)=>(0,a.jsx)(S.E,{variant:"outline",className:"text-xs",children:e},t))})]})]})})(),(()=>{let e=n(t.child_tasks);return e.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Subtasks"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map((e,t)=>(0,a.jsx)(S.E,{variant:"outline",className:"text-xs",children:e},t))})]})]})})()]})})]})})}function tS(e){let{agent:t,onClose:s}=e,[n,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(null),[m,x]=(0,r.useState)(!1),{getAgentTasks:u,getAgentActions:h}=eL(),g=t?u(t.agent_id):[],p=t?h(t.agent_id):[],f=g.find(e=>e.task_id===(null==t?void 0:t.current_task)),j=e=>{o(e),x(!0)},b=e=>{let t=new Date(e),s=new Date().getTime()-t.getTime();return s<6e4?"Just now":s<36e5?"".concat(Math.floor(s/6e4),"m ago"):s<864e5?"".concat(Math.floor(s/36e5),"h ago"):t.toLocaleDateString()};return(0,a.jsxs)("div",{className:(0,c.cn)("fixed right-0 top-16 h-[calc(100vh-4rem)] bg-background border-l transform transition-all duration-500 z-30","shadow-lg",t?"translate-x-0 w-[360px]":"translate-x-full w-0"),children:[t&&(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsx)("div",{className:"bg-card border-b px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h2",{className:"text-base font-semibold",children:t.agent_id}),(0,a.jsx)(S.E,{variant:"outline",className:(0,c.cn)("text-xs",(e=>{let t={running:"bg-primary/15 text-primary border-primary/30",pending:"bg-warning/15 text-warning border-warning/30",terminated:"bg-muted/50 text-muted-foreground border-border",failed:"bg-destructive/15 text-destructive border-destructive/30"};return t[e]||t.pending})(t.status)),children:t.status})]}),(0,a.jsx)(d.$,{variant:"ghost",size:"icon",onClick:s,className:"h-7 w-7",children:(0,a.jsx)(M.A,{className:"h-3.5 w-3.5"})})]})}),(0,a.jsx)(e5,{className:"flex-1",children:(0,a.jsxs)("div",{className:"px-6 py-4 space-y-4",children:[t.auth_token&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Authentication Token"}),(0,a.jsx)("div",{className:"bg-muted rounded-lg p-3 border border-border",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)("code",{className:"text-xs font-mono truncate flex-1",children:t.auth_token}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>{(null==t?void 0:t.auth_token)&&(navigator.clipboard.writeText(t.auth_token),i(!0),setTimeout(()=>i(!1),2e3))},className:"h-6 px-2 shrink-0",children:n?(0,a.jsx)(tl.A,{className:"h-3 w-3 text-green-500"}):(0,a.jsx)(eJ.A,{className:"h-3 w-3"})})]})})]}),f&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Current Task"}),(0,a.jsxs)("div",{className:"bg-muted rounded-lg p-4 border border-border",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-foreground mb-2",children:f.title}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:["ID: ",f.task_id.slice(-8)]}),(0,a.jsx)(S.E,{variant:"outline",className:"text-xs",children:f.status})]}),f.description&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:f.description})]})]}),p.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Recent Activity"}),(0,a.jsx)("div",{className:"space-y-2",children:p.slice(0,10).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-3 text-sm",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,a.jsx)("div",{className:(0,c.cn)("w-2 h-2 rounded-full","task_completed"===e.action_type?"bg-green-500":"task_failed"===e.action_type?"bg-destructive":e.action_type.includes("create")?"bg-primary":"bg-muted-foreground")})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"font-medium",children:e.action_type.replace(/_/g," ")}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:b(e.timestamp)})]}),e.task_id&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Task: ",e.task_id.slice(-8)]})]})]},t))})]}),g.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-foreground mb-3",children:["All Tasks (",g.length,")"]}),(0,a.jsx)("div",{className:"space-y-2",children:g.map(e=>(0,a.jsx)("button",{onClick:()=>j(e),className:"bg-muted rounded-lg p-3 border border-border hover:bg-muted/80 transition-colors w-full text-left",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:e.title}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["ID: ",e.task_id.slice(-8)]})]}),(0,a.jsx)(S.E,{variant:"outline",className:"text-xs ml-2",children:e.status})]})},e.task_id))})]}),(0,a.jsx)("div",{className:"pt-4 border-t",children:(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Agent ID"}),(0,a.jsx)("span",{className:"font-mono",children:t.agent_id})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Created"}),(0,a.jsx)("span",{children:new Date(t.created_at).toLocaleDateString()})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Status"}),(0,a.jsx)(S.E,{variant:"outline",className:"text-xs",children:t.status})]})]})})]})})]}),(0,a.jsx)(tC,{task:l,open:m,onOpenChange:e=>{x(e),e||o(null)}})]})}let tT=r.memo(e=>{let{status:t}=e,s={running:"bg-primary shadow-primary/50 shadow-md",pending:"bg-warning shadow-warning/50 shadow-md animate-pulse",terminated:"bg-muted-foreground shadow-muted-foreground/50 shadow-md",failed:"bg-destructive shadow-destructive/50 shadow-md animate-pulse"};return(0,a.jsx)("div",{className:(0,c.cn)("w-2.5 h-2.5 rounded-full",s[t]||s.pending)})}),tE=r.memo(e=>{let{agentId:t}=e,s=t.includes("admin")?eB.A:t.includes("worker")?tt.A:t.includes("analysis")?e0.A:t.includes("security")?eB.A:ts.A;return(0,a.jsx)(s,{className:"h-4 w-4 text-muted-foreground"})}),tz=r.memo(e=>{let{agent:t,onTerminate:s,onSelect:r,onTaskClick:n}=e,{getAgentTasks:i}=eL(),l=i(t.agent_id),o=l.find(e=>e.task_id===t.current_task),m=t.agent_id.startsWith("agent_")?t.agent_id.substring(6):t.agent_id,x="Admin"===m?"admin":m,u=l.filter(e=>e.assigned_to===x||e.assigned_to===m||"admin"===x&&("Admin"===e.assigned_to||"admin"===e.assigned_to)),h=l.filter(e=>e.assigned_to!==x&&e.assigned_to!==m&&("admin"!==x||"Admin"!==e.assigned_to&&"admin"!==e.assigned_to)),g={total:l.length,assigned:u.length,workedOn:h.length,pending:l.filter(e=>"pending"===e.status).length,inProgress:l.filter(e=>"in_progress"===e.status).length,completed:l.filter(e=>"completed"===e.status).length};return(0,a.jsxs)(tk,{className:"border-border/50 hover:bg-muted/30 group transition-all duration-200",children:[(0,a.jsx)(tA,{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(tT,{status:t.status}),(0,a.jsx)(tE,{agentId:t.agent_id}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-sm text-foreground truncate",children:t.agent_id}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground font-mono",children:["#",t.agent_id.slice(-6)]})]})]})}),(0,a.jsx)(tA,{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(S.E,{variant:"outline",className:(0,c.cn)("text-xs font-semibold border-0 px-3 py-1.5 rounded-md","running"===t.status&&"bg-primary/15 text-primary ring-1 ring-primary/20","pending"===t.status&&"bg-warning/15 text-warning ring-1 ring-warning/20","terminated"===t.status&&"bg-muted/50 text-muted-foreground ring-1 ring-border","failed"===t.status&&"bg-destructive/15 text-destructive ring-1 ring-destructive/20"),children:t.status.toUpperCase()}),(()=>{if("Admin"===t.agent_id||"N/A"===t.created_at)return!1;let e=new Date,s=new Date(t.created_at);return(e.getTime()-s.getTime())/6e4<=10&&!t.current_task})()&&(0,a.jsx)(S.E,{variant:"outline",className:"text-xs bg-blue-500/15 text-blue-600 border-blue-500/30 font-medium",children:"NEW"})]})}),(0,a.jsx)(tA,{className:"py-3 max-w-xs",children:o?(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:()=>n(o),className:"text-sm text-foreground hover:text-primary truncate block text-left hover:underline",children:o.title}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[g.assigned>0&&"".concat(g.assigned," assigned"),g.assigned>0&&g.workedOn>0&&", ",g.workedOn>0&&"".concat(g.workedOn," contributed"),0===g.total&&"No tasks"]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground truncate",children:"No active task"}),g.total>0&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[g.assigned>0&&"".concat(g.assigned," assigned"),g.assigned>0&&g.workedOn>0&&", ",g.workedOn>0&&"".concat(g.workedOn," contributed")]})]})}),(0,a.jsx)(tA,{className:"py-3",children:t.auth_token?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("code",{className:"text-xs font-mono text-muted-foreground max-w-[120px] truncate",children:[t.auth_token.slice(0,8),"..."]}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText(t.auth_token||"")},className:"h-6 w-6 p-0",children:(0,a.jsx)(eJ.A,{className:"h-3 w-3"})})]}):(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"No token"})}),(0,a.jsx)(tA,{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>r(t),className:"h-7 w-7 p-0 text-muted-foreground hover:text-foreground hover:bg-muted",children:(0,a.jsx)(ta.A,{className:"h-3.5 w-3.5"})}),"running"===t.status&&(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>s(t.agent_id),className:"h-7 w-7 p-0 text-destructive hover:text-destructive/80 hover:bg-destructive/10",children:(0,a.jsx)(tr.A,{className:"h-3.5 w-3.5"})}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-muted-foreground hover:text-foreground hover:bg-muted",children:(0,a.jsx)(tn.A,{className:"h-3.5 w-3.5"})})]})})]})}),tD=e=>{let{icon:t,label:s,value:r,change:n,trend:i}=e;return(0,a.jsx)("div",{className:"bg-card/80 border border-border/60 rounded-xl p-[var(--space-fluid-md)] backdrop-blur-sm hover:bg-card transition-all duration-200 group",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(t,{className:"h-4 w-4 text-muted-foreground group-hover:text-foreground transition-colors"}),(0,a.jsx)("span",{className:"text-fluid-xs font-semibold text-muted-foreground uppercase tracking-wider",children:s})]}),(0,a.jsx)("div",{className:"text-fluid-2xl font-bold text-foreground mb-1",children:r}),n&&(0,a.jsx)("div",{className:(0,c.cn)("text-fluid-xs font-medium","up"===i&&"text-primary","down"===i&&"text-destructive","neutral"===i&&"text-muted-foreground"),children:n})]})})})},tI=e=>{let{onCreateAgent:t}=e,[s,n]=(0,r.useState)(!1),[i,l]=(0,r.useState)({agent_id:"",capabilities:"",working_directory:""});return(0,a.jsxs)(O,{open:s,onOpenChange:n,children:[(0,a.jsx)(L,{asChild:!0,children:(0,a.jsxs)(d.$,{size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg hover:shadow-primary/25 transition-all duration-200",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-1.5"}),"Deploy"]})}),(0,a.jsxs)(U,{className:"sm:max-w-md bg-card border-border text-card-foreground",children:[(0,a.jsxs)($,{children:[(0,a.jsx)(V,{className:"text-lg",children:"Deploy Agent"}),(0,a.jsx)(W,{className:"text-muted-foreground",children:"Configure a new agent for deployment."})]}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!i.agent_id.trim())return;let s=i.capabilities.split(",").map(e=>e.trim()).filter(e=>e.length>0);t({agent_id:i.agent_id.trim(),capabilities:s.length>0?s:void 0,working_directory:i.working_directory.trim()||void 0}),l({agent_id:"",capabilities:"",working_directory:""}),n(!1)},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider block mb-2",children:"Agent ID"}),(0,a.jsx)(_,{value:i.agent_id,onChange:e=>l(t=>({...t,agent_id:e.target.value})),placeholder:"worker-analytics-01",className:"bg-background border-border text-foreground",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider block mb-2",children:"Capabilities"}),(0,a.jsx)(tv,{value:i.capabilities,onChange:e=>l(t=>({...t,capabilities:e.target.value})),placeholder:"data-analysis, file-ops, web-search",className:"bg-background border-border text-foreground h-20 resize-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider block mb-2",children:"Working Directory"}),(0,a.jsx)(_,{value:i.working_directory,onChange:e=>l(t=>({...t,working_directory:e.target.value})),placeholder:"/workspace/analytics",className:"bg-background border-border text-foreground font-mono text-sm"})]}),(0,a.jsxs)(q,{className:"gap-2",children:[(0,a.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>n(!1),size:"sm",children:"Cancel"}),(0,a.jsx)(d.$,{type:"submit",size:"sm",className:"bg-primary hover:bg-primary/90 shadow-lg hover:shadow-primary/25 transition-all",children:"Deploy"})]})]})]})]})},tP=(e,t,s,a,r,n)=>{};function tM(){let{servers:e,activeServerId:t}=(0,K.m)(),s=e.find(e=>e.id===t),{data:n,loading:i,error:l,fetchAllData:o,refreshData:m,getActiveAgents:x,getIdleAgentsForCleanup:u}=eL(),[h,g]=(0,r.useState)(""),[p,f]=(0,r.useState)("all"),[j,b]=(0,r.useState)(null),[N,y]=(0,r.useState)(null),[w,k]=(0,r.useState)(!1),A=(null==n?void 0:n.agents)||[],C=x(),T=!!t&&(null==s?void 0:s.status)==="connected";(0,r.useEffect)(()=>{t&&(null==s?void 0:s.status)==="connected"&&o()},[t,null==s?void 0:s.status,o]),(0,r.useEffect)(()=>{if(!T)return;let e=setInterval(async()=>{let e=u();if(e.length>0){for(let t of(console.log("\uD83E\uDDF9 Found ".concat(e.length," idle agents for cleanup:"),e.map(e=>e.agent_id)),e))try{await P(t.agent_id),console.log("✅ Terminated idle agent: ".concat(t.agent_id))}catch(e){console.error("❌ Failed to terminate idle agent ".concat(t.agent_id,":"),e)}await m()}},12e4);return()=>clearInterval(e)},[T,u,m]);let E=e=>{y(e),k(!0)},z=C.filter(e=>{let t=e.agent_id.toLowerCase().includes(h.toLowerCase())||e.current_task&&e.current_task.toLowerCase().includes(h.toLowerCase()),s="all"===p||e.status===p;return t&&s}),D={total:C.length,running:C.filter(e=>"running"===e.status).length,pending:C.filter(e=>"pending"===e.status).length,failed:C.filter(e=>"failed"===e.status).length,totalInSystem:A.length,idleForCleanup:u().length},I=async e=>{try{await eM.uE.createAgent(e)}catch(e){console.error("Failed to create agent:",e)}},P=async e=>{try{await eM.uE.terminateAgent(e)}catch(e){console.error("Failed to terminate agent:",e)}};return T?i?(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Loading agents..."})]})}):l?(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(v.A,{className:"h-12 w-12 text-destructive mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Connection Error"}),(0,a.jsx)("p",{className:"text-destructive text-sm",children:l})]})]})}):(0,a.jsx)(r.Profiler,{id:"AgentsDashboard",onRender:tP,children:(0,a.jsxs)("div",{className:"w-full space-y-[var(--space-fluid-lg)] -mx-[var(--container-padding)] px-[var(--container-padding)] -my-[var(--space-fluid-lg)] py-[var(--space-fluid-lg)]",style:{paddingRight:j?"calc(360px + var(--container-padding))":"var(--container-padding)",transition:"padding-right 0.5s ease-in-out"},children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-fluid-2xl font-bold text-foreground",children:"Agent Fleet"}),(0,a.jsx)("p",{className:"text-muted-foreground text-fluid-base mt-1",children:"Monitor and manage autonomous agents"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs bg-primary/15 text-primary border-primary/30 font-medium",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full mr-2 animate-pulse"}),null==s?void 0:s.name]}),(null==n?void 0:n.timestamp)&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date(n.timestamp).toLocaleTimeString()]}),D.idleForCleanup>0&&(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs bg-orange-500/15 text-orange-600 border-orange-500/30 font-medium",children:[D.idleForCleanup," pending cleanup"]}),(0,a.jsxs)(d.$,{variant:"outline",size:"sm",onClick:m,disabled:i,className:"text-xs",children:[(0,a.jsx)(eI.A,{className:(0,c.cn)("h-3.5 w-3.5 mr-1.5",i&&"animate-spin")}),"Refresh"]}),(0,a.jsx)(tI,{onCreateAgent:I})]})]}),(0,a.jsxs)("div",{className:"grid gap-[var(--space-fluid-md)] grid-cols-1 sm:grid-cols-2 xl:grid-cols-4",children:[(0,a.jsx)(tD,{icon:eN.A,label:"Total",value:D.total,change:D.total>0?"".concat(D.running," active"):void 0,trend:"neutral"}),(0,a.jsx)(tD,{icon:tl.A,label:"Running",value:D.running,change:D.total>0?"".concat(Math.round(D.running/D.total*100),"%"):"0%",trend:"up"}),(0,a.jsx)(tD,{icon:eU.A,label:"Pending",value:D.pending,change:D.pending>0?"Waiting":"None",trend:"neutral"}),(0,a.jsx)(tD,{icon:v.A,label:"Failed",value:D.failed,change:D.failed>0?"Need attention":"All good",trend:D.failed>0?"down":"neutral"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-[var(--space-fluid-sm)]",children:[(0,a.jsxs)("div",{className:"relative flex-1 sm:max-w-sm",children:[(0,a.jsx)(td.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,a.jsx)(_,{placeholder:"Search agents...",value:h,onChange:e=>g(e.target.value),className:"pl-10 bg-background border-border text-foreground placeholder:text-muted-foreground focus:border-primary/50 focus:ring-primary/20 transition-all"})]}),(0,a.jsxs)(tu,{value:p,onValueChange:f,children:[(0,a.jsx)(tg,{className:"w-full sm:w-32 bg-background border-border text-foreground",children:(0,a.jsx)(th,{})}),(0,a.jsxs)(tp,{className:"bg-background border-border",children:[(0,a.jsx)(tf,{value:"all",children:"All Status"}),(0,a.jsx)(tf,{value:"running",children:"Running"}),(0,a.jsx)(tf,{value:"pending",children:"Pending"}),(0,a.jsx)(tf,{value:"terminated",children:"Terminated"}),(0,a.jsx)(tf,{value:"failed",children:"Failed"})]})]})]}),(0,a.jsxs)("div",{className:"bg-card/30 border border-border/50 rounded-lg backdrop-blur-sm overflow-x-auto",children:[(0,a.jsxs)(tN,{children:[(0,a.jsx)(ty,{children:(0,a.jsxs)(tk,{className:"border-border/50 hover:bg-transparent",children:[(0,a.jsx)(t_,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider",children:"Agent"}),(0,a.jsx)(t_,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider",children:"Status"}),(0,a.jsx)(t_,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider",children:"Tasks"}),(0,a.jsx)(t_,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider",children:"Token"}),(0,a.jsx)(t_,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider w-24",children:"Actions"})]})}),(0,a.jsx)(tw,{children:z.map(e=>(0,a.jsx)(tz,{agent:e,onTerminate:P,onSelect:b,onTaskClick:E},e.agent_id))})]}),0===z.length&&(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)(eN.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No agents found"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-4",children:0===C.length?"Deploy your first agent to get started":"No agents match your current filters"}),0===C.length&&(0,a.jsx)(tI,{onCreateAgent:I})]})]}),(0,a.jsx)(tS,{agent:j,onClose:()=>b(null)}),(0,a.jsx)(tC,{task:N,open:w,onOpenChange:e=>{k(e),e||y(null)}})]})}):(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(ti.A,{className:"h-12 w-12 text-muted-foreground mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No Server Connection"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Connect to an MCP server to manage agents"})]})]})})}var tO=s(9881),tL=s(7712),tF=s(8832),tR=s(5690),tU=s(2178),t$=s(1497);function tq(e){let{task:t,onClose:s}=e,{data:n}=eL(),[i,l]=(0,r.useState)("details"),o=t?((null==n?void 0:n.actions)||[]).filter(e=>e.task_id===t.task_id).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()):[],m=(null==t?void 0:t.assigned_to)?null==n?void 0:n.agents.find(e=>e.agent_id===t.assigned_to):null,x=e=>{let t=new Date(e),s=new Date().getTime()-t.getTime();return s<6e4?"Just now":s<36e5?"".concat(Math.floor(s/6e4),"m ago"):s<864e5?"".concat(Math.floor(s/36e5),"h ago"):t.toLocaleDateString()},u=e=>e.includes("create")?(0,a.jsx)(eK.A,{className:"h-3.5 w-3.5 text-blue-500"}):e.includes("start")||e.includes("begin")?(0,a.jsx)(eV.A,{className:"h-3.5 w-3.5 text-green-500"}):e.includes("complete")||e.includes("finish")?(0,a.jsx)(tl.A,{className:"h-3.5 w-3.5 text-green-500"}):e.includes("fail")||e.includes("error")?(0,a.jsx)(v.A,{className:"h-3.5 w-3.5 text-red-500"}):e.includes("update")||e.includes("modify")?(0,a.jsx)(eH.A,{className:"h-3.5 w-3.5 text-amber-500"}):(0,a.jsx)(eX.A,{className:"h-3.5 w-3.5 text-gray-500"}),h=e=>{if(Array.isArray(e))return e;if("string"==typeof e)try{return JSON.parse(e)}catch(e){}return[]},g=t?h(t.depends_on_tasks):[],p=t?h(t.child_tasks):[],f=t?h(t.notes):[];return(0,a.jsx)("div",{className:(0,c.cn)("fixed right-0 top-0 h-screen bg-background border-l transform transition-all duration-500 z-30","shadow-lg",t?"translate-x-0 w-[420px]":"translate-x-full w-0"),children:t&&(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsx)("div",{className:"bg-card border-b px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h2",{className:"text-base font-semibold truncate",children:t.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(S.E,{variant:"outline",className:(0,c.cn)("text-xs",(e=>{let t={pending:"bg-amber-500/15 text-amber-600 border-amber-500/30",in_progress:"bg-blue-500/15 text-blue-600 border-blue-500/30",completed:"bg-green-500/15 text-green-600 border-green-500/30",cancelled:"bg-gray-500/15 text-gray-600 border-gray-500/30",failed:"bg-red-500/15 text-red-600 border-red-500/30"};return t[e]||t.pending})(t.status)),children:t.status.replace("_"," ")}),(0,a.jsx)(S.E,{variant:"outline",className:(0,c.cn)("text-xs",(e=>{let t={low:"bg-slate-500/15 text-slate-600 border-slate-500/30",medium:"bg-amber-500/15 text-amber-600 border-amber-500/30",high:"bg-red-500/15 text-red-600 border-red-500/30"};return t[e]||t.medium})(t.priority)),children:t.priority})]})]}),(0,a.jsx)(d.$,{variant:"ghost",size:"icon",onClick:s,className:"h-7 w-7 flex-shrink-0 ml-2",children:(0,a.jsx)(M.A,{className:"h-3.5 w-3.5"})})]})}),(0,a.jsxs)("div",{className:"flex border-b bg-muted/30",children:[(0,a.jsx)("button",{onClick:()=>l("details"),className:(0,c.cn)("flex-1 px-4 py-2 text-sm font-medium transition-colors","details"===i?"text-foreground border-b-2 border-primary bg-background":"text-muted-foreground hover:text-foreground"),children:"Details"}),(0,a.jsxs)("button",{onClick:()=>l("history"),className:(0,c.cn)("flex-1 px-4 py-2 text-sm font-medium transition-colors","history"===i?"text-foreground border-b-2 border-primary bg-background":"text-muted-foreground hover:text-foreground"),children:["History (",o.length,")"]})]}),(0,a.jsx)(e5,{className:"flex-1",children:(0,a.jsxs)("div",{className:"px-4 py-4 space-y-4",children:["details"===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground text-xs uppercase tracking-wider",children:"Task ID"}),(0,a.jsx)("p",{className:"font-mono text-xs mt-1 break-all",children:t.task_id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground text-xs uppercase tracking-wider",children:"Created"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:new Date(t.created_at).toLocaleDateString()})]})]}),m&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground text-xs uppercase tracking-wider",children:"Assigned Agent"}),(0,a.jsx)("div",{className:"bg-muted rounded-lg p-3 mt-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eW.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-medium",children:m.agent_id})]}),(0,a.jsx)(S.E,{variant:"outline",className:"text-xs",children:m.status})]})})]}),t.description&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground text-xs uppercase tracking-wider",children:"Description"}),(0,a.jsx)("p",{className:"text-sm mt-2 whitespace-pre-wrap",children:t.description})]}),g.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground text-xs uppercase tracking-wider",children:"Dependencies"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:g.map((e,t)=>(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs font-mono",children:[(0,a.jsx)(eY.A,{className:"h-3 w-3 mr-1"}),e]},t))})]}),p.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground text-xs uppercase tracking-wider",children:"Subtasks"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:p.map((e,t)=>(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs font-mono",children:[(0,a.jsx)(eZ.A,{className:"h-3 w-3 mr-1"}),e]},t))})]}),f.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground text-xs uppercase tracking-wider",children:"Notes"}),(0,a.jsx)("div",{className:"space-y-2 mt-2",children:f.map((e,t)=>(0,a.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs font-medium",children:e.author}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleString()})]}),(0,a.jsx)("p",{className:"text-sm",children:e.content})]},t))})]}),(0,a.jsxs)("div",{className:"pt-4 border-t space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Created"}),(0,a.jsx)("span",{className:"font-mono text-xs",children:new Date(t.created_at).toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Last Updated"}),(0,a.jsx)("span",{className:"font-mono text-xs",children:new Date(t.updated_at).toLocaleString()})]})]})]}),"history"===i&&(0,a.jsx)("div",{className:"space-y-3",children:o.length>0?o.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-muted/30 transition-colors",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:u(e.action_type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"font-medium text-sm capitalize",children:e.action_type.replace(/_/g," ")}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground flex-shrink-0",children:x(e.timestamp)})]}),e.agent_id&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Agent: ",e.agent_id]}),e.details&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1 break-words",children:e.details})]})]},t)):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(eU.A,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No history available"})]})})]})}),(0,a.jsxs)("div",{className:"border-t p-4 space-y-2",children:["pending"===t.status&&(0,a.jsxs)(d.$,{className:"w-full",size:"sm",children:[(0,a.jsx)(eV.A,{className:"h-3.5 w-3.5 mr-2"}),"Start Task"]}),"in_progress"===t.status&&(0,a.jsxs)(d.$,{className:"w-full",variant:"secondary",size:"sm",children:[(0,a.jsx)(tl.A,{className:"h-3.5 w-3.5 mr-2"}),"Mark Complete"]}),(0,a.jsxs)(d.$,{variant:"outline",className:"w-full",size:"sm",children:[(0,a.jsx)(t$.A,{className:"h-3.5 w-3.5 mr-2"}),"Add Note"]})]})]})})}let tV=new Map,tW=()=>{let{activeServerId:e,servers:t}=(0,K.m)(),s=t.find(t=>t.id===e),[a,n]=(0,r.useState)([]),[i,l]=(0,r.useState)(!1),[d,o]=(0,r.useState)(null),[c,m]=(0,r.useState)(0),x=(0,r.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e||!s||"connected"!==s.status){n([]),o(null),l(!1);return}let r="".concat(e,"-tasks"),i=Date.now(),d=tV.get(r);if(!t&&d&&i-d.timestamp<3e4){n(d.data),o(null),l(!1);return}(0===a.length||t)&&l(!0);try{let e=await eM.uE.getTasks();tV.set(r,{data:e,timestamp:i}),n(e),o(null),m(i)}catch(e){e instanceof Error&&"NO_SERVER_CONNECTED"!==e.message&&(o(e.message),console.error("Error fetching tasks:",e))}finally{l(!1)}},[e,s,a.length]);(0,r.useEffect)(()=>{x();let e=setInterval(()=>{x(!1)},6e4);return()=>clearInterval(e)},[x]);let u=(0,r.useCallback)(()=>x(!0),[x]);return(0,r.useMemo)(()=>({tasks:a,loading:i,error:d,refresh:u,lastFetch:c,isConnected:!!e&&(null==s?void 0:s.status)==="connected"}),[a,i,d,u,c,e,s])},tK=r.memo(e=>{let{status:t}=e,s={in_progress:"bg-teal-400 shadow-teal-400/50 shadow-md animate-pulse",pending:"bg-amber-400 shadow-amber-400/50 shadow-md",completed:"bg-emerald-400 shadow-emerald-400/50 shadow-md",cancelled:"bg-slate-500 shadow-slate-500/50 shadow-md",failed:"bg-orange-400 shadow-orange-400/50 shadow-md animate-pulse"};return(0,a.jsx)("div",{className:(0,c.cn)("w-2.5 h-2.5 rounded-full",s[t]||s.pending)})});tK.displayName="StatusDot";let tG=r.memo(e=>{let{priority:t}=e,s={high:{icon:tO.A,className:"text-orange-400"},medium:{icon:tL.A,className:"text-amber-400"},low:{icon:tF.A,className:"text-slate-400"}},{icon:r,className:n}=s[t]||s.medium;return(0,a.jsx)(r,{className:(0,c.cn)("h-4 w-4",n)})});tG.displayName="PriorityIcon";let tB=r.memo(e=>{let{task:t,onTaskClick:s}=e,[n,i]=(0,r.useState)(!1);(0,r.useEffect)(()=>{i(!0)},[]);let l=(0,r.useCallback)(e=>n?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"...",[n]);return(0,a.jsxs)(tk,{className:"border-teal-500/10 dark:border-teal-500/10 border-teal-600/20 hover:bg-teal-500/5 dark:hover:bg-teal-500/5 hover:bg-teal-600/10 group transition-all duration-200 cursor-pointer",onClick:()=>s(t),children:[(0,a.jsx)(tA,{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(tK,{status:t.status}),(0,a.jsx)(tG,{priority:t.priority}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-sm text-foreground truncate",children:t.title}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground font-mono",children:["#",t.task_id.slice(-6)]})]})]})}),(0,a.jsx)(tA,{className:"py-3",children:(0,a.jsx)(S.E,{variant:"outline",className:(0,c.cn)("text-xs font-semibold border-0 px-3 py-1.5 rounded-md","in_progress"===t.status&&"bg-teal-500/15 text-teal-400 dark:text-teal-300 ring-1 ring-teal-500/20","pending"===t.status&&"bg-amber-500/15 text-amber-500 dark:text-amber-300 ring-1 ring-amber-500/20","completed"===t.status&&"bg-emerald-500/15 text-emerald-500 dark:text-emerald-300 ring-1 ring-emerald-500/20","cancelled"===t.status&&"bg-slate-500/15 text-slate-500 dark:text-slate-300 ring-1 ring-slate-500/20","failed"===t.status&&"bg-orange-500/15 text-orange-500 dark:text-orange-300 ring-1 ring-orange-500/20"),children:t.status.replace("_"," ").toUpperCase()})}),(0,a.jsxs)(tA,{className:"py-3 max-w-xs",children:[(0,a.jsx)("div",{className:"text-sm text-foreground truncate",children:t.description||"No description"}),t.assigned_to&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[(0,a.jsx)(eN.A,{className:"h-3 w-3"}),t.assigned_to]})]}),(0,a.jsx)(tA,{className:"py-3",children:(0,a.jsx)(S.E,{variant:"outline",className:(0,c.cn)("text-xs font-medium px-2 py-0.5","high"===t.priority&&"bg-orange-500/10 text-orange-500 dark:text-orange-300 border-orange-500/20","medium"===t.priority&&"bg-amber-500/10 text-amber-500 dark:text-amber-300 border-amber-500/20","low"===t.priority&&"bg-slate-500/10 text-slate-500 dark:text-slate-300 border-slate-500/20"),children:t.priority.toUpperCase()})}),(0,a.jsx)(tA,{className:"py-3",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.parent_task&&(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs px-2 py-0.5 bg-purple-500/10 text-purple-500 dark:text-purple-300 border-purple-500/20",children:[(0,a.jsx)(eY.A,{className:"h-3 w-3 mr-1"}),"Subtask"]}),t.child_tasks&&t.child_tasks.length>0&&(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs px-2 py-0.5 bg-blue-500/10 text-blue-500 dark:text-blue-300 border-blue-500/20",children:[t.child_tasks.length," children"]})]})}),(0,a.jsx)(tA,{className:"py-3 text-xs text-muted-foreground font-mono",children:l(t.updated_at)}),(0,a.jsx)(tA,{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-muted-foreground hover:text-foreground hover:bg-muted",children:(0,a.jsx)(ta.A,{className:"h-3.5 w-3.5"})}),"pending"===t.status&&(0,a.jsx)(d.$,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-teal-400 hover:text-teal-300 hover:bg-teal-500/10",children:(0,a.jsx)(tR.A,{className:"h-3.5 w-3.5"})}),"in_progress"===t.status&&(0,a.jsx)(d.$,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-amber-400 hover:text-amber-300 hover:bg-amber-500/10",children:(0,a.jsx)(tU.A,{className:"h-3.5 w-3.5"})}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-muted-foreground hover:text-foreground hover:bg-muted",children:(0,a.jsx)(tn.A,{className:"h-3.5 w-3.5"})})]})})]})},(e,t)=>JSON.stringify(e.task)===JSON.stringify(t.task));tB.displayName="CompactTaskRow";let tJ=r.memo(e=>{let{icon:t,label:s,value:r,change:n,trend:i}=e;return(0,a.jsx)("div",{className:"bg-slate-900/60 dark:bg-slate-900/60 bg-white/80 border border-slate-800/60 dark:border-slate-800/60 border-slate-200 rounded-xl p-[var(--space-fluid-md)] backdrop-blur-sm hover:bg-slate-900/80 dark:hover:bg-slate-900/80 hover:bg-white/90 transition-all duration-200 group",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(t,{className:"h-4 w-4 text-slate-400 dark:text-slate-400 text-slate-600 group-hover:text-slate-300 dark:group-hover:text-slate-300 group-hover:text-slate-700 transition-colors"}),(0,a.jsx)("span",{className:"text-fluid-xs font-semibold text-slate-400 dark:text-slate-400 text-slate-600 uppercase tracking-wider",children:s})]}),(0,a.jsx)("div",{className:"text-fluid-2xl font-bold text-white dark:text-white text-slate-900 mb-1",children:r}),n&&(0,a.jsx)("div",{className:(0,c.cn)("text-fluid-xs font-medium","up"===i&&"text-teal-400","down"===i&&"text-orange-400","neutral"===i&&"text-slate-400"),children:n})]})})})});tJ.displayName="StatsCard";let tH=r.memo(e=>{let{onCreateTask:t}=e,[s,n]=(0,r.useState)(!1),[i,l]=(0,r.useState)({title:"",description:"",priority:"medium",assigned_to:""});return(0,a.jsxs)(O,{open:s,onOpenChange:n,children:[(0,a.jsx)(L,{asChild:!0,children:(0,a.jsxs)(d.$,{size:"sm",className:"bg-teal-600 hover:bg-teal-700 text-white shadow-lg hover:shadow-teal-500/25 transition-all duration-200",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-1.5"}),"Create Task"]})}),(0,a.jsxs)(U,{className:"sm:max-w-md bg-card border-border text-card-foreground",children:[(0,a.jsxs)($,{children:[(0,a.jsx)(V,{className:"text-lg",children:"Create Task"}),(0,a.jsx)(W,{className:"text-muted-foreground",children:"Define a new task for the system to execute."})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.title.trim()&&(t({title:i.title.trim(),description:i.description.trim()||void 0,priority:i.priority,assigned_to:i.assigned_to.trim()||void 0}),l({title:"",description:"",priority:"medium",assigned_to:""}),n(!1))},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider block mb-2",children:"Task Title"}),(0,a.jsx)(_,{value:i.title,onChange:e=>l(t=>({...t,title:e.target.value})),placeholder:"Analyze dataset and generate report",className:"bg-background border-border text-foreground",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider block mb-2",children:"Description"}),(0,a.jsx)(tv,{value:i.description,onChange:e=>l(t=>({...t,description:e.target.value})),placeholder:"Detailed task requirements and objectives...",className:"bg-background border-border text-foreground h-20 resize-none"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider block mb-2",children:"Priority"}),(0,a.jsxs)(tu,{value:i.priority,onValueChange:e=>l(t=>({...t,priority:e})),children:[(0,a.jsx)(tg,{className:"bg-background border-border text-foreground",children:(0,a.jsx)(th,{})}),(0,a.jsxs)(tp,{className:"bg-background border-border",children:[(0,a.jsx)(tf,{value:"low",children:"Low"}),(0,a.jsx)(tf,{value:"medium",children:"Medium"}),(0,a.jsx)(tf,{value:"high",children:"High"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider block mb-2",children:"Assign To"}),(0,a.jsx)(_,{value:i.assigned_to,onChange:e=>l(t=>({...t,assigned_to:e.target.value})),placeholder:"agent-01",className:"bg-background border-border text-foreground font-mono text-sm"})]})]}),(0,a.jsxs)(q,{className:"gap-2",children:[(0,a.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>n(!1),size:"sm",children:"Cancel"}),(0,a.jsx)(d.$,{type:"submit",size:"sm",className:"bg-teal-600 hover:bg-teal-700 shadow-lg hover:shadow-teal-500/25 transition-all",children:"Create Task"})]})]})]})]})});function tQ(){let{tasks:e,loading:t,error:s,refresh:n,lastFetch:i,isConnected:l}=tW(),{servers:o,activeServerId:m}=(0,K.m)(),x=o.find(e=>e.id===m),[u,h]=(0,r.useState)(""),[g,p]=(0,r.useState)("all"),[f,j]=(0,r.useState)("all"),[b,N]=(0,r.useState)(null),y=(0,r.useMemo)(()=>e.filter(e=>{let t=e.title.toLowerCase().includes(u.toLowerCase())||e.description&&e.description.toLowerCase().includes(u.toLowerCase()),s="all"===g||e.status===g,a="all"===f||e.priority===f;return t&&s&&a}),[e,u,g,f]),w=(0,r.useMemo)(()=>({total:e.length,in_progress:e.filter(e=>"in_progress"===e.status).length,pending:e.filter(e=>"pending"===e.status).length,completed:e.filter(e=>"completed"===e.status).length,failed:e.filter(e=>"failed"===e.status).length}),[e]),k=(0,r.useCallback)(async e=>{try{await eM.uE.createTask(e),n()}catch(e){console.error("Failed to create task:",e)}},[n]),A=(0,r.useCallback)(e=>{N(e)},[]),C=(0,r.useCallback)(()=>{N(null)},[]);return l?t?(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Loading tasks..."})]})}):s?(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(v.A,{className:"h-12 w-12 text-destructive mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Connection Error"}),(0,a.jsx)("p",{className:"text-destructive text-sm",children:s})]})]})}):(0,a.jsxs)("div",{className:"relative w-full space-y-[var(--space-fluid-lg)]",style:{paddingRight:b?"calc(420px)":"0px",transition:"padding-right 0.5s ease-in-out"},children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-fluid-2xl font-bold text-white dark:text-white text-slate-900",children:"Task Operations"}),(0,a.jsx)("p",{className:"text-slate-400 dark:text-slate-400 text-slate-600 text-fluid-base mt-1",children:"Orchestrate and monitor autonomous tasks"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs bg-teal-500/15 text-teal-300 border-teal-500/30 font-medium",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-teal-400 rounded-full mr-2 animate-pulse"}),null==x?void 0:x.name]}),i>0&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date(i).toLocaleTimeString()]}),(0,a.jsxs)(d.$,{variant:"outline",size:"sm",onClick:n,disabled:t,className:"text-xs",children:[(0,a.jsx)(eI.A,{className:(0,c.cn)("h-3.5 w-3.5 mr-1.5",t&&"animate-spin")}),"Refresh"]}),(0,a.jsx)(tH,{onCreateTask:k})]})]}),(0,a.jsxs)("div",{className:"grid gap-[var(--space-fluid-md)] grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[(0,a.jsx)(tJ,{icon:eK.A,label:"Total",value:w.total,change:w.total>0?"".concat(w.in_progress," active"):void 0,trend:"neutral"}),(0,a.jsx)(tJ,{icon:eH.A,label:"Active",value:w.in_progress,change:w.total>0?"".concat(Math.round(w.in_progress/w.total*100),"%"):"0%",trend:"up"}),(0,a.jsx)(tJ,{icon:eU.A,label:"Pending",value:w.pending,change:w.pending>0?"Queued":"None",trend:"neutral"}),(0,a.jsx)(tJ,{icon:tl.A,label:"Completed",value:w.completed,change:w.total>0?"".concat(Math.round(w.completed/w.total*100),"% done"):"0%",trend:"up"}),(0,a.jsx)(tJ,{icon:v.A,label:"Failed",value:w.failed,change:w.failed>0?"Need review":"All good",trend:w.failed>0?"down":"neutral"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-[var(--space-fluid-sm)]",children:[(0,a.jsxs)("div",{className:"relative flex-1 sm:max-w-sm",children:[(0,a.jsx)(td.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-teal-400 dark:text-teal-400 text-teal-600"}),(0,a.jsx)(_,{placeholder:"Search tasks...",value:u,onChange:e=>h(e.target.value),className:"pl-10 bg-slate-900/60 dark:bg-slate-900/60 bg-white/80 border-slate-700/60 dark:border-slate-700/60 border-slate-300 text-white dark:text-white text-slate-900 placeholder:text-slate-400 focus:border-teal-500/50 focus:ring-teal-500/20 transition-all"})]}),(0,a.jsxs)(tu,{value:g,onValueChange:p,children:[(0,a.jsx)(tg,{className:"w-full sm:w-36 bg-slate-900/60 dark:bg-slate-900/60 bg-white/80 border-slate-700/60 dark:border-slate-700/60 border-slate-300 text-white dark:text-white text-slate-900",children:(0,a.jsx)(th,{})}),(0,a.jsxs)(tp,{className:"bg-slate-900 dark:bg-slate-900 bg-white border-slate-800 dark:border-slate-800 border-slate-200",children:[(0,a.jsx)(tf,{value:"all",children:"All Status"}),(0,a.jsx)(tf,{value:"pending",children:"Pending"}),(0,a.jsx)(tf,{value:"in_progress",children:"In Progress"}),(0,a.jsx)(tf,{value:"completed",children:"Completed"}),(0,a.jsx)(tf,{value:"failed",children:"Failed"}),(0,a.jsx)(tf,{value:"cancelled",children:"Cancelled"})]})]}),(0,a.jsxs)(tu,{value:f,onValueChange:j,children:[(0,a.jsx)(tg,{className:"w-full sm:w-32 bg-slate-900/60 dark:bg-slate-900/60 bg-white/80 border-slate-700/60 dark:border-slate-700/60 border-slate-300 text-white dark:text-white text-slate-900",children:(0,a.jsx)(th,{})}),(0,a.jsxs)(tp,{className:"bg-slate-900 dark:bg-slate-900 bg-white border-slate-800 dark:border-slate-800 border-slate-200",children:[(0,a.jsx)(tf,{value:"all",children:"All Priority"}),(0,a.jsx)(tf,{value:"high",children:"High"}),(0,a.jsx)(tf,{value:"medium",children:"Medium"}),(0,a.jsx)(tf,{value:"low",children:"Low"})]})]})]}),(0,a.jsxs)("div",{className:"bg-slate-900/50 dark:bg-slate-900/50 bg-white/90 border border-teal-500/20 dark:border-teal-500/20 border-teal-600/30 rounded-xl overflow-x-auto backdrop-blur-md shadow-xl shadow-teal-500/10",children:[(0,a.jsxs)(tN,{children:[(0,a.jsx)(ty,{children:(0,a.jsxs)(tk,{className:"border-teal-500/10 dark:border-teal-500/10 border-teal-600/20 hover:bg-transparent",children:[(0,a.jsx)(t_,{className:"text-white/70 dark:text-white/70 text-slate-700 font-medium text-xs uppercase tracking-wider",children:"Task"}),(0,a.jsx)(t_,{className:"text-white/70 dark:text-white/70 text-slate-700 font-medium text-xs uppercase tracking-wider",children:"Status"}),(0,a.jsx)(t_,{className:"text-white/70 dark:text-white/70 text-slate-700 font-medium text-xs uppercase tracking-wider",children:"Details"}),(0,a.jsx)(t_,{className:"text-white/70 dark:text-white/70 text-slate-700 font-medium text-xs uppercase tracking-wider",children:"Priority"}),(0,a.jsx)(t_,{className:"text-white/70 dark:text-white/70 text-slate-700 font-medium text-xs uppercase tracking-wider",children:"Relations"}),(0,a.jsx)(t_,{className:"text-white/70 dark:text-white/70 text-slate-700 font-medium text-xs uppercase tracking-wider",children:"Updated"}),(0,a.jsx)(t_,{className:"text-white/70 dark:text-white/70 text-slate-700 font-medium text-xs uppercase tracking-wider w-24",children:"Actions"})]})}),(0,a.jsx)(tw,{children:y.map(e=>(0,a.jsx)(tB,{task:e,onTaskClick:A},e.task_id))})]}),0===y.length&&(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)(ey.A,{className:"h-12 w-12 text-teal-400/50 dark:text-teal-400/50 text-teal-600/50 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-white dark:text-white text-slate-900 mb-2",children:"No tasks found"}),(0,a.jsx)("p",{className:"text-white/60 dark:text-white/60 text-slate-600 text-sm mb-4",children:0===e.length?"Create your first task to get started":"No tasks match your current filters"}),0===e.length&&(0,a.jsx)(tH,{onCreateTask:k})]})]}),(0,a.jsx)(tq,{task:b,onClose:C})]}):(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(ey.A,{className:"h-12 w-12 text-muted-foreground mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No Server Connection"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Connect to an MCP server to manage tasks"})]})]})})}tH.displayName="CreateTaskModal";var tY=s(3717),tX=s(2525),tZ=s(3500),t0=s(2918),t2=s(2559),t1=s(4884);function t3(e){let{className:t,...s}=e;return(0,a.jsx)(t1.bL,{"data-slot":"switch",className:(0,c.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:(0,a.jsx)(t1.zi,{"data-slot":"switch-thumb",className:(0,c.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function t5(e){let{value:t,onChange:s,className:n}=e,[i,l]=(0,r.useState)("string"),[o,c]=(0,r.useState)(""),[m,x]=(0,r.useState)(0),[u,h]=(0,r.useState)(!1),[g,p]=(0,r.useState)([]),[f,j]=(0,r.useState)({});(0,r.useEffect)(()=>{null==t?l("null"):"string"==typeof t?(l("string"),c(t)):"number"==typeof t?(l("number"),x(t)):"boolean"==typeof t?(l("boolean"),h(t)):Array.isArray(t)?(l("array"),p(t)):"object"==typeof t?(l("object"),j(t)):(l("string"),c(String(t)))},[t]);let b=e=>{s(e)},v=(e,t)=>{let s=[...g],a=isNaN(Number(t))||""===t?t:Number(t);s[e]=a,p(s),b(s)},N=e=>{let t=g.filter((t,s)=>s!==e);p(t),b(t)},y=(e,t)=>{if(e===t)return;let s={...f};s[t]=s[e],delete s[e],j(s),b(s)},w=(e,t)=>{let s=isNaN(Number(t))||""===t?t:Number(t),a={...f,[e]:s};j(a),b(a)},A=e=>{let t={...f};delete t[e],j(t),b(t)};return(0,a.jsxs)("div",{className:"space-y-4 ".concat(n),children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{className:"text-sm font-medium",children:"Data Type"}),(0,a.jsxs)(tu,{value:i,onValueChange:e=>{switch(l(e),e){case"string":c(""),b("");break;case"number":x(0),b(0);break;case"boolean":h(!1),b(!1);break;case"array":let t=[];p(t),b(t);break;case"object":let s={};j(s),b(s);break;case"null":b(null)}},children:[(0,a.jsx)(tg,{className:"w-full",children:(0,a.jsx)(th,{})}),(0,a.jsxs)(tp,{children:[(0,a.jsx)(tf,{value:"string",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(tZ.A,{className:"h-4 w-4"}),"Text (String)"]})}),(0,a.jsx)(tf,{value:"number",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eZ.A,{className:"h-4 w-4"}),"Number"]})}),(0,a.jsx)(tf,{value:"boolean",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t0.A,{className:"h-4 w-4"}),"True/False (Boolean)"]})}),(0,a.jsx)(tf,{value:"array",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-4 w-4 border border-current rounded flex items-center justify-center text-xs",children:"[]"}),"List (Array)"]})}),(0,a.jsx)(tf,{value:"object",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-4 w-4 border border-current rounded flex items-center justify-center text-xs",children:"{}"}),"Object"]})}),(0,a.jsx)(tf,{value:"null",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-4 w-4 border border-current rounded bg-muted"}),"Null/Empty"]})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:["string"===i&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{className:"text-sm",children:"Text Value"}),(0,a.jsx)(tv,{value:o,onChange:e=>{c(e.target.value),b(e.target.value)},placeholder:"Enter text value...",className:"min-h-[80px]"})]}),"number"===i&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{className:"text-sm",children:"Number Value"}),(0,a.jsx)(_,{type:"number",value:m,onChange:e=>{let t=Number(e.target.value);x(t),b(t)},placeholder:"Enter number..."})]}),"boolean"===i&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{className:"text-sm",children:"Boolean Value"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[(0,a.jsx)(t3,{checked:u,onCheckedChange:e=>{h(e),b(e)}}),(0,a.jsx)("span",{className:"text-sm font-medium",children:u?"True":"False"}),u?(0,a.jsx)(t2.A,{className:"h-4 w-4 text-green-600"}):(0,a.jsx)(t0.A,{className:"h-4 w-4 text-gray-400"})]})]}),"array"===i&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(C,{className:"text-sm",children:"Array Items"}),(0,a.jsxs)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=[...g,""];p(e),b(e)},className:"h-8",children:[(0,a.jsx)(k.A,{className:"h-3 w-3 mr-1"}),"Add Item"]})]}),(0,a.jsxs)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[g.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(S.E,{variant:"outline",className:"text-xs px-2 py-0.5 min-w-[2rem] justify-center",children:t}),(0,a.jsx)(_,{value:String(e),onChange:e=>v(t,e.target.value),placeholder:"Item ".concat(t+1),className:"flex-1"}),(0,a.jsx)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>N(t),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:(0,a.jsx)(tX.A,{className:"h-3 w-3"})})]},t)),0===g.length&&(0,a.jsx)("div",{className:"text-center py-6 text-muted-foreground text-sm",children:'No items in array. Click "Add Item" to get started.'})]})]}),"object"===i&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(C,{className:"text-sm",children:"Object Properties"}),(0,a.jsxs)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e="key".concat(Object.keys(f).length+1),t={...f,[e]:""};j(t),b(t)},className:"h-8",children:[(0,a.jsx)(k.A,{className:"h-3 w-3 mr-1"}),"Add Property"]})]}),(0,a.jsxs)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[Object.entries(f).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(_,{value:t,onChange:e=>y(t,e.target.value),placeholder:"Key",className:"w-32"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:":"}),(0,a.jsx)(_,{value:String(s),onChange:e=>w(t,e.target.value),placeholder:"Value",className:"flex-1"}),(0,a.jsx)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>A(t),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:(0,a.jsx)(tX.A,{className:"h-3 w-3"})})]},t)}),0===Object.keys(f).length&&(0,a.jsx)("div",{className:"text-center py-6 text-muted-foreground text-sm",children:'No properties in object. Click "Add Property" to get started.'})]})]}),"null"===i&&(0,a.jsxs)("div",{className:"text-center py-6 text-muted-foreground",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-muted mb-2",children:(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-muted-foreground rounded bg-background"})}),(0,a.jsx)("div",{className:"text-sm",children:"Null/Empty Value"}),(0,a.jsx)("div",{className:"text-xs mt-1",children:"This memory will store a null value"})]})]}),(0,a.jsxs)("div",{className:"pt-2 border-t",children:[(0,a.jsx)(C,{className:"text-xs text-muted-foreground mb-2 block",children:"JSON Preview:"}),(0,a.jsx)("div",{className:"bg-muted/30 border rounded p-2 font-mono text-xs text-muted-foreground max-h-20 overflow-y-auto",children:JSON.stringify("string"===i?o:"number"===i?m:"boolean"===i?u:"array"===i?g:"object"===i?f:null,null,2)})]})]})}function t4(e){let{onCreateMemory:t,trigger:s}=e,[n,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(!1),[c,m]=(0,r.useState)({context_key:"",context_value:"",description:""}),x=async e=>{if(e.preventDefault(),c.context_key.trim()){o(!0);try{await t({context_key:c.context_key.trim(),context_value:c.context_value,description:c.description.trim()||void 0}),m({context_key:"",context_value:"",description:""}),i(!1)}catch(e){console.error("Failed to create memory:",e)}finally{o(!1)}}},u=(0,a.jsxs)(d.$,{size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg hover:shadow-primary/25 transition-all duration-200",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-1.5"}),"New Memory"]});return(0,a.jsxs)(O,{open:n,onOpenChange:i,children:[(0,a.jsx)(L,{asChild:!0,children:s||u}),(0,a.jsxs)(U,{className:"sm:max-w-lg bg-card border-border text-card-foreground max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)($,{children:[(0,a.jsx)(V,{className:"text-lg",children:"Create New Memory"}),(0,a.jsx)(W,{className:"text-muted-foreground",children:"Add a new memory entry to the context bank. Use structured keys for better organization."})]}),(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"context_key",className:"text-sm font-medium text-foreground",children:"Memory Key"}),(0,a.jsx)(_,{id:"context_key",value:c.context_key,onChange:e=>m(t=>({...t,context_key:e.target.value})),placeholder:"e.g., api.config.base_url",className:"bg-background border-border text-foreground font-mono text-sm",required:!0}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Use dot notation for hierarchical organization (e.g., api.endpoints.users)"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{className:"text-sm font-medium text-foreground",children:"Memory Value"}),(0,a.jsx)(t5,{value:c.context_value,onChange:e=>{m(t=>({...t,context_value:e}))},className:"border rounded-lg p-3 bg-background"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"description",className:"text-sm font-medium text-foreground",children:"Description (Optional)"}),(0,a.jsx)(tv,{id:"description",value:c.description,onChange:e=>m(t=>({...t,description:e.target.value})),placeholder:"Brief description of what this memory stores...",className:"bg-background border-border text-foreground h-20 resize-none",rows:3})]}),(0,a.jsxs)("div",{className:"bg-muted/30 border border-border rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-foreground mb-2",children:"Common Key Patterns:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:["api.endpoints.base_url","config.database.connection","settings.ui.theme","memory.system.status","cache.ttl.default"].map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>m(t=>({...t,context_key:e})),className:"text-xs bg-background hover:bg-muted border border-border rounded px-2 py-1 text-muted-foreground hover:text-foreground transition-colors",children:e},e))})]}),(0,a.jsxs)(q,{className:"gap-2 pt-4",children:[(0,a.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>{m({context_key:"",context_value:"",description:""}),i(!1)},size:"sm",disabled:l,children:"Cancel"}),(0,a.jsx)(d.$,{type:"submit",size:"sm",disabled:l||!c.context_key.trim(),className:"bg-primary hover:bg-primary/90 shadow-lg hover:shadow-primary/25 transition-all",children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"h-3 w-3 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin mr-2"}),"Creating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.A,{className:"h-3 w-3 mr-2"}),"Create Memory"]})})]})]})]})]})}var t6=s(1243);function t8(e){let{memory:t,open:s,onOpenChange:r}=e;if(!t)return null;let n=e=>"string"==typeof e?e:JSON.stringify(e,null,2),i=async(e,t)=>{try{await navigator.clipboard.writeText(e),console.log("".concat(t," copied to clipboard"))}catch(e){console.error("Failed to copy to clipboard:",e)}},l=e=>{let t=Math.floor((new Date().getTime()-e.getTime())/1e3);return t<60?"Just now":t<3600?"".concat(Math.floor(t/60)," minutes ago"):t<86400?"".concat(Math.floor(t/3600)," hours ago"):t<2592e3?"".concat(Math.floor(t/86400)," days ago"):"".concat(Math.floor(t/2592e3)," months ago")},o=t._metadata,c=(e=>{try{let t=new Date(e);return{relative:l(t),absolute:t.toLocaleString()}}catch(t){return{relative:"Unknown",absolute:e}}})(t.last_updated);return(0,a.jsx)(O,{open:s,onOpenChange:r,children:(0,a.jsxs)(U,{className:"sm:max-w-2xl bg-card border-border text-card-foreground max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)($,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ta.A,{className:"h-5 w-5 text-primary"}),(0,a.jsx)(V,{className:"text-lg",children:"Memory Details"})]}),(0,a.jsx)(W,{className:"text-muted-foreground",children:"View and inspect memory entry information"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-foreground",children:"Memory Key"}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>i(t.context_key,"Memory key"),className:"h-6 w-6 p-0",children:(0,a.jsx)(eJ.A,{className:"h-3 w-3"})})]}),(0,a.jsx)("div",{className:"bg-muted/30 border border-border rounded-lg p-3",children:(0,a.jsx)("code",{className:"font-mono text-sm text-foreground",children:t.context_key})})]}),t.description&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-foreground",children:"Description"}),(0,a.jsx)("div",{className:"bg-muted/30 border border-border rounded-lg p-3",children:(0,a.jsx)("p",{className:"text-sm text-foreground",children:t.description})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-foreground",children:"Value"}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>i(n(t.value),"Memory value"),className:"h-6 w-6 p-0",children:(0,a.jsx)(eJ.A,{className:"h-3 w-3"})})]}),(0,a.jsx)("div",{className:"bg-muted/30 border border-border rounded-lg p-3 max-h-64 overflow-y-auto",children:(0,a.jsx)("pre",{className:"font-mono text-sm text-foreground whitespace-pre-wrap break-words",children:n(t.value)})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-foreground",children:"Memory Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-muted/30 border border-border rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(eU.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Last Updated"})]}),(0,a.jsx)("div",{className:"text-sm text-foreground",children:c.relative}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:c.absolute})]}),(0,a.jsxs)("div",{className:"bg-muted/30 border border-border rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(eW.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Updated By"})]}),(0,a.jsx)("div",{className:"text-sm text-foreground",children:t.updated_by})]})]}),o&&(0,a.jsxs)("div",{className:"bg-muted/30 border border-border rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(e0.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Storage Information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Size:"}),(0,a.jsxs)("span",{className:"ml-2 text-foreground",children:[o.size_kb," KB"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Bytes:"}),(0,a.jsx)("span",{className:"ml-2 text-foreground",children:o.size_bytes})]}),void 0!==o.days_old&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Age:"}),(0,a.jsxs)("span",{className:"ml-2 text-foreground",children:[o.days_old," days"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status Indicators"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(null==o?void 0:o.json_valid)?(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs bg-green-500/15 text-green-600 border-green-500/30",children:[(0,a.jsx)(tl.A,{className:"h-3 w-3 mr-1"}),"Valid JSON"]}):(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs bg-red-500/15 text-red-600 border-red-500/30",children:[(0,a.jsx)(t6.A,{className:"h-3 w-3 mr-1"}),"Invalid JSON"]}),(null==o?void 0:o.is_stale)&&(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs bg-orange-500/15 text-orange-600 border-orange-500/30",children:[(0,a.jsx)(eU.A,{className:"h-3 w-3 mr-1"}),"Stale (",o.days_old,"+ days)"]}),(null==o?void 0:o.is_large)&&(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs bg-yellow-500/15 text-yellow-600 border-yellow-500/30",children:[(0,a.jsx)(e0.A,{className:"h-3 w-3 mr-1"}),"Large Entry (>10KB)"]}),!(null==o?void 0:o.is_stale)&&!(null==o?void 0:o.is_large)&&(null==o?void 0:o.json_valid)&&(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs bg-green-500/15 text-green-600 border-green-500/30",children:[(0,a.jsx)(tl.A,{className:"h-3 w-3 mr-1"}),"Healthy"]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t border-border",children:[(0,a.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>i(t.context_key,"Memory key"),children:[(0,a.jsx)(eJ.A,{className:"h-3 w-3 mr-2"}),"Copy Key"]}),(0,a.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>i(n(t.value),"Memory value"),children:[(0,a.jsx)(eJ.A,{className:"h-3 w-3 mr-2"}),"Copy Value"]}),(0,a.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>i(JSON.stringify({key:t.context_key,value:t.value,description:t.description,updated_by:t.updated_by,last_updated:t.last_updated},null,2),"Full memory data"),children:[(0,a.jsx)(eJ.A,{className:"h-3 w-3 mr-2"}),"Copy All"]})]})]})})}let t9=e=>{let{icon:t,label:s,value:r,change:n,trend:i}=e;return(0,a.jsx)("div",{className:"bg-card/80 border border-border/60 rounded-xl p-[var(--space-fluid-md)] backdrop-blur-sm hover:bg-card transition-all duration-200 group",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(t,{className:"h-4 w-4 text-muted-foreground group-hover:text-foreground transition-colors"}),(0,a.jsx)("span",{className:"text-fluid-xs font-semibold text-muted-foreground uppercase tracking-wider",children:s})]}),(0,a.jsx)("div",{className:"text-fluid-2xl font-bold text-foreground mb-1",children:r}),n&&(0,a.jsx)("div",{className:(0,c.cn)("text-fluid-xs font-medium","up"===i&&"text-primary","down"===i&&"text-destructive","neutral"===i&&"text-muted-foreground"),children:n})]})})})},t7=e=>{let{memory:t,onView:s,onEdit:r,onDelete:n}=e,i=t._metadata;return(0,a.jsxs)(tk,{className:"border-border/50 hover:bg-muted/30 group transition-all duration-200",children:[(0,a.jsx)(tA,{className:"py-2 px-2 sm:px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ew.A,{className:"h-3 w-3 text-primary flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-xs sm:text-sm text-foreground truncate",title:t.context_key,children:(e=>e.length>25?e.substring(0,25)+"...":e)(t.context_key)}),t.description&&(0,a.jsx)("div",{className:"text-xs text-muted-foreground truncate hidden sm:block",title:t.description,children:t.description.length>20?t.description.substring(0,20)+"...":t.description})]})]})}),(0,a.jsx)(tA,{className:"py-2 px-2 hidden md:table-cell",children:(0,a.jsx)("div",{className:"font-mono text-xs text-foreground truncate max-w-[150px]",title:JSON.stringify(t.value),children:(e=>"string"==typeof e?e.length>30?e.substring(0,30)+"...":e:JSON.stringify(e).length>30?JSON.stringify(e).substring(0,30)+"...":JSON.stringify(e))(t.value)})}),(0,a.jsx)(tA,{className:"py-2 px-2 hidden lg:table-cell",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 flex-wrap",children:[(null==i?void 0:i.size_kb)&&i.size_kb>1&&(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs px-1 py-0",children:[i.size_kb,"KB"]}),(null==i?void 0:i.is_stale)&&(0,a.jsx)(S.E,{variant:"outline",className:"text-xs px-1 py-0 bg-orange-500/15 text-orange-600 border-orange-500/30",children:"Stale"}),(null==i?void 0:i.is_large)&&(0,a.jsx)(S.E,{variant:"outline",className:"text-xs px-1 py-0 bg-red-500/15 text-red-600 border-red-500/30",children:"Large"})]})}),(0,a.jsx)(tA,{className:"py-2 px-2 hidden sm:table-cell",children:(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,a.jsx)("div",{className:"truncate",children:t.updated_by}),(0,a.jsx)("div",{children:t.last_updated?new Date(t.last_updated).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"Unknown"})]})}),(0,a.jsx)(tA,{className:"py-2 px-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-0.5 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>s(t),className:"h-6 w-6 p-0 text-muted-foreground hover:text-foreground hover:bg-muted",title:"View details",children:(0,a.jsx)(ta.A,{className:"h-3 w-3"})}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>r(t),className:"h-6 w-6 p-0 text-muted-foreground hover:text-foreground hover:bg-muted",title:"Edit memory",children:(0,a.jsx)(tY.A,{className:"h-3 w-3"})}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>n(t),className:"h-6 w-6 p-0 text-destructive hover:text-destructive/80 hover:bg-destructive/10",title:"Delete memory",children:(0,a.jsx)(tX.A,{className:"h-3 w-3"})})]})})]})},se=e=>{let{memory:t,open:s,onOpenChange:n,onUpdateMemory:i}=e,[l,o]=(0,r.useState)(!1),[c,m]=(0,r.useState)({context_key:t.context_key,context_value:t.value,description:t.description||""});r.useEffect(()=>{s&&t&&m({context_key:t.context_key,context_value:t.value,description:t.description||""})},[s,t]);let x=async e=>{e.preventDefault(),o(!0);try{await i({context_key:c.context_key,context_value:c.context_value,description:c.description.trim()||void 0})}catch(e){console.error("Failed to update memory:",e)}finally{o(!1)}};return(0,a.jsx)(O,{open:s,onOpenChange:n,children:(0,a.jsxs)(U,{className:"sm:max-w-lg bg-card border-border text-card-foreground max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)($,{children:[(0,a.jsx)(V,{className:"text-lg",children:"Edit Memory"}),(0,a.jsx)(W,{className:"text-muted-foreground",children:"Update the memory entry. The key cannot be changed."})]}),(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"context_key",className:"text-sm font-medium text-foreground",children:"Memory Key (Read-only)"}),(0,a.jsx)(_,{id:"context_key",value:c.context_key,disabled:!0,className:"bg-muted/50 border-border text-muted-foreground font-mono text-sm"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{className:"text-sm font-medium text-foreground",children:"Memory Value"}),(0,a.jsx)(t5,{value:c.context_value,onChange:e=>{m(t=>({...t,context_value:e}))},className:"border rounded-lg p-3 bg-background"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"description",className:"text-sm font-medium text-foreground",children:"Description (Optional)"}),(0,a.jsx)(tv,{id:"description",value:c.description,onChange:e=>m(t=>({...t,description:e.target.value})),placeholder:"Brief description of what this memory stores...",className:"bg-background border-border text-foreground h-20 resize-none",rows:3})]}),(0,a.jsxs)(q,{className:"gap-2 pt-4",children:[(0,a.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>n(!1),size:"sm",disabled:l,children:"Cancel"}),(0,a.jsx)(d.$,{type:"submit",size:"sm",disabled:l,className:"bg-primary hover:bg-primary/90 shadow-lg hover:shadow-primary/25 transition-all",children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"h-3 w-3 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tY.A,{className:"h-3 w-3 mr-2"}),"Update Memory"]})})]})]})]})})};function st(){let{servers:e,activeServerId:t}=(0,K.m)(),s=e.find(e=>e.id===t),{data:n,loading:i,error:l,refreshData:o,getAdminToken:m}=eL(),[x,u]=(0,r.useState)(""),[h,g]=(0,r.useState)("last_updated"),[p,f]=(0,r.useState)(null),[j,b]=(0,r.useState)(!1),[N,y]=(0,r.useState)(!1),[w,A]=(0,r.useState)(!1),[C,T]=(0,r.useState)(!1),[E,z]=(0,r.useState)(null),D=!!t&&(null==s?void 0:s.status)==="connected",I=r.useMemo(()=>{var e;return(console.log("\uD83D\uDD0D Debug - Raw data:",n),console.log("\uD83D\uDD0D Debug - Context data:",null==n?void 0:n.context),console.log("\uD83D\uDD0D Debug - Context length:",null==n||null==(e=n.context)?void 0:e.length),null==n?void 0:n.context)?(console.log("✅ Converting context to memories, count:",n.context.length),n.context.map(e=>({context_key:e.context_key,value:e.value,description:e.description,last_updated:e.last_updated,updated_by:e.updated_by,_metadata:{size_bytes:JSON.stringify(e.value).length,size_kb:Math.round(JSON.stringify(e.value).length/1024*100)/100,json_valid:!0,days_old:e.last_updated?Math.floor((Date.now()-new Date(e.last_updated).getTime())/864e5):void 0,is_stale:!!e.last_updated&&Date.now()-new Date(e.last_updated).getTime()>2592e6,is_large:JSON.stringify(e.value).length>10240}}))):(console.log("❌ No context data found"),[])},[null==n?void 0:n.context]);(0,r.useEffect)(()=>{t&&(null==s?void 0:s.status)==="connected"&&o()},[t,null==s?void 0:s.status,o]);let P=r.useMemo(()=>{let e=I.filter(e=>e.context_key.toLowerCase().includes(x.toLowerCase())||e.description&&e.description.toLowerCase().includes(x.toLowerCase())||JSON.stringify(e.value).toLowerCase().includes(x.toLowerCase()));return e.sort((e,t)=>{switch(h){case"key":return e.context_key.localeCompare(t.context_key);case"size":var s,a;return((null==(s=t._metadata)?void 0:s.size_bytes)||0)-((null==(a=e._metadata)?void 0:a.size_bytes)||0);default:return new Date(t.last_updated).getTime()-new Date(e.last_updated).getTime()}}),e},[I,x,h]),M=r.useMemo(()=>{let e=I.length,t=I.filter(e=>{var t;return null==(t=e._metadata)?void 0:t.is_stale}).length;return{total:e,stale:t,large:I.filter(e=>{var t;return null==(t=e._metadata)?void 0:t.is_large}).length,errors:I.filter(e=>{var t;return!(null==(t=e._metadata)?void 0:t.json_valid)}).length}},[I]),O=e=>{f(e),b(!0)},L=e=>{f(e),y(!0)},F=async e=>{if(!window.confirm('Are you sure you want to delete the memory "'.concat(e.context_key,'"? This action cannot be undone.')))return;let t=m();if(!t)return void z("No admin token available for delete operation");T(!0),z(null);try{await eM.uE.deleteMemory(e.context_key,t),await o(),console.log("Memory deleted successfully:",e.context_key)}catch(e){console.error("Failed to delete memory:",e),z(e instanceof Error?e.message:"Failed to delete memory")}finally{T(!1)}},R=async e=>{let t=m();if(!t)throw Error("No admin token available for create operation");await eM.uE.createMemory({context_key:e.context_key,context_value:e.context_value,description:e.description,token:t}),await o(),console.log("Memory created successfully:",e.context_key)},U=async e=>{let t=m();if(!t)throw Error("No admin token available for update operation");await eM.uE.updateMemory(e.context_key,{context_value:e.context_value,description:e.description,token:t}),await o(),y(!1),f(null),console.log("Memory updated successfully:",e.context_key)};return D?i?(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Loading memories..."})]})}):l?(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(v.A,{className:"h-12 w-12 text-destructive mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Connection Error"}),(0,a.jsx)("p",{className:"text-destructive text-sm",children:l})]})]})}):(0,a.jsxs)("div",{className:"w-full space-y-[var(--space-fluid-lg)] -mx-[var(--container-padding)] px-[var(--container-padding)] -my-[var(--space-fluid-lg)] py-[var(--space-fluid-lg)]",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-fluid-2xl font-bold text-foreground",children:"Memory Bank"}),(0,a.jsx)("p",{className:"text-muted-foreground text-fluid-base mt-1",children:"Manage system context and memories"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs bg-primary/15 text-primary border-primary/30 font-medium",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full mr-2 animate-pulse"}),null==s?void 0:s.name]}),(null==n?void 0:n.timestamp)&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date(n.timestamp).toLocaleTimeString()]}),(0,a.jsxs)(d.$,{variant:"outline",size:"sm",onClick:o,disabled:i,className:"text-xs",children:[(0,a.jsx)(eI.A,{className:(0,c.cn)("h-3.5 w-3.5 mr-1.5",i&&"animate-spin")}),"Refresh"]}),(0,a.jsx)(t4,{onCreateMemory:R})]})]}),(0,a.jsxs)("div",{className:"grid gap-[var(--space-fluid-md)] grid-cols-1 sm:grid-cols-2 xl:grid-cols-4",children:[(0,a.jsx)(t9,{icon:e0.A,label:"Total",value:M.total,change:M.total>0?"".concat(I.length," entries"):void 0,trend:"neutral"}),(0,a.jsx)(t9,{icon:tl.A,label:"Healthy",value:M.total-M.stale-M.errors,change:M.total>0?"".concat(Math.round((M.total-M.stale-M.errors)/M.total*100),"%"):"0%",trend:"up"}),(0,a.jsx)(t9,{icon:eU.A,label:"Stale",value:M.stale,change:M.stale>0?"Need review":"All fresh",trend:M.stale>0?"down":"neutral"}),(0,a.jsx)(t9,{icon:v.A,label:"Issues",value:M.errors+M.large,change:M.errors+M.large>0?"Need attention":"All good",trend:M.errors+M.large>0?"down":"neutral"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-[var(--space-fluid-sm)]",children:[(0,a.jsxs)("div",{className:"relative flex-1 sm:max-w-sm",children:[(0,a.jsx)(td.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,a.jsx)(_,{placeholder:"Search memories...",value:x,onChange:e=>u(e.target.value),className:"pl-10 bg-background border-border text-foreground placeholder:text-muted-foreground focus:border-primary/50 focus:ring-primary/20 transition-all"})]}),(0,a.jsxs)(tu,{value:h,onValueChange:g,children:[(0,a.jsx)(tg,{className:"w-full sm:w-40 bg-background border-border text-foreground",children:(0,a.jsx)(th,{})}),(0,a.jsxs)(tp,{className:"bg-background border-border",children:[(0,a.jsx)(tf,{value:"last_updated",children:"Latest First"}),(0,a.jsx)(tf,{value:"key",children:"Alphabetical"}),(0,a.jsx)(tf,{value:"size",children:"Size (Large First)"})]})]})]}),(0,a.jsxs)("div",{className:"bg-card/30 border border-border/50 rounded-lg backdrop-blur-sm overflow-x-auto",children:[(0,a.jsxs)(tN,{children:[(0,a.jsx)(ty,{children:(0,a.jsxs)(tk,{className:"border-border/50 hover:bg-transparent",children:[(0,a.jsx)(t_,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider",children:"Memory Key"}),(0,a.jsx)(t_,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider",children:"Value"}),(0,a.jsx)(t_,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider",children:"Status"}),(0,a.jsx)(t_,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider",children:"Updated"}),(0,a.jsx)(t_,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider w-24",children:"Actions"})]})}),(0,a.jsx)(tw,{children:P.map(e=>(0,a.jsx)(t7,{memory:e,onView:O,onEdit:L,onDelete:F},e.context_key))})]}),0===P.length&&(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)(ew.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No memories found"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-4",children:0===I.length?"Create your first memory to get started":"No memories match your current filters"}),0===I.length&&(0,a.jsx)(t4,{onCreateMemory:R,trigger:(0,a.jsxs)(d.$,{children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Create First Memory"]})})]})]}),E&&(0,a.jsx)("div",{className:"fixed bottom-4 right-4 bg-destructive/90 text-destructive-foreground px-4 py-2 rounded-lg shadow-lg z-50",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm",children:E}),(0,a.jsx)("button",{onClick:()=>z(null),className:"ml-2 hover:bg-destructive-foreground/20 rounded p-1",children:"\xd7"})]})}),C&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:(0,a.jsx)("div",{className:"bg-card border border-border rounded-lg p-6 shadow-xl",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-primary border-t-transparent rounded-full"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Processing..."})]})})}),(0,a.jsx)(t8,{memory:p,open:j,onOpenChange:b}),p&&N&&(0,a.jsx)(se,{memory:p,open:N,onOpenChange:y,onUpdateMemory:U})]}):(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(ti.A,{className:"h-12 w-12 text-muted-foreground mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No Server Connection"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Connect to an MCP server to manage memories"})]})]})})}var ss=s(2318),sa=s(446),sr=s(3311),sn=s(9947),si=s(704);function sl(e){let{className:t,...s}=e;return(0,a.jsx)(si.bL,{"data-slot":"tabs",className:(0,c.cn)("flex flex-col gap-2",t),...s})}function sd(e){let{className:t,...s}=e;return(0,a.jsx)(si.B8,{"data-slot":"tabs-list",className:(0,c.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...s})}function so(e){let{className:t,...s}=e;return(0,a.jsx)(si.l9,{"data-slot":"tabs-trigger",className:(0,c.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function sc(e){let{className:t,...s}=e;return(0,a.jsx)(si.UC,{"data-slot":"tabs-content",className:(0,c.cn)("flex-1 outline-none",t),...s})}let sm=[{id:"initialization",name:"Agent Initialization",description:"Prompts for setting up admin and worker agents",icon:"UserPlus"},{id:"task-management",name:"Task Management",description:"Prompts for creating, assigning, and managing tasks",icon:"CheckSquare"},{id:"context-management",name:"Context Management",description:"Prompts for managing project context and memory",icon:"Database"},{id:"debugging",name:"Debugging & Analysis",description:"Prompts for troubleshooting and system analysis",icon:"Bug"},{id:"coordination",name:"Agent Coordination",description:"Prompts for multi-agent coordination and communication",icon:"Users"}],sx=[{id:"admin-init",title:"Admin Agent Initialization",description:"Initialize an admin agent with authentication token and context setup",category:"initialization",template:"Initialize as an admin agent with this token: {{ADMIN_TOKEN}}\nPlease add the MCD.md file to the project context. Don't summarize it.",variables:[{name:"ADMIN_TOKEN",description:"The admin authentication token from the MCP database",placeholder:"admin_token_here",required:!0}],usage:"Use this prompt to set up the main admin agent that will coordinate other agents and manage the project.",examples:["Initialize as an admin agent with this token: abc123def456\nPlease add the MCD.md file to the project context. Don't summarize it."],tags:["admin","initialization","setup","auth"]},{id:"worker-init",title:"Worker Agent Initialization",description:"Initialize a worker agent with specific role and autonomous behavior",category:"initialization",template:'You are {{AGENT_ID}} agent, your Worker Token: "{{WORKER_TOKEN}}"\n\nLook at your tasks and ask the project RAG agent at least 5-7 questions to understand what you need to do. I want you to critically think when asking a question, then criticize yourself before asking that question. How you criticize yourself is by proposing an idea, criticizing it, and based on that criticism you pull through with that idea.\n\nAUTO --worker --memory',variables:[{name:"AGENT_ID",description:"Unique identifier for the worker agent (e.g., frontend-worker, backend-worker)",placeholder:"frontend-worker",required:!0},{name:"WORKER_TOKEN",description:"The specific worker token provided by the admin agent",placeholder:"worker_token_here",required:!0}],usage:"Use this prompt in a new AI assistant window to initialize a worker agent that will autonomously work on assigned tasks.",examples:['You are frontend-worker agent, your Worker Token: "xyz789abc123"\n\nLook at your tasks and ask the project RAG agent at least 5-7 questions...'],tags:["worker","initialization","autonomous","tasks"]},{id:"worker-init-legacy",title:"Worker Agent Initialization (Legacy)",description:"Legacy worker initialization format using admin token",category:"initialization",template:'You are {{AGENT_ID}} agent, your Admin Token: "{{ADMIN_TOKEN}}"\n\nLook at your tasks and ask the project RAG agent at least 5-7 questions to understand what you need to do. I want you to critically think when asking a question, then criticize yourself before asking that question. How you criticize yourself is by proposing an idea, criticizing it, and based on that criticism you pull through with that idea.\n\nAUTO --worker --memory',variables:[{name:"AGENT_ID",description:"Unique identifier for the worker agent",placeholder:"worker-id",required:!0},{name:"ADMIN_TOKEN",description:"The admin token (legacy format)",placeholder:"admin-token",required:!0}],usage:"Legacy format for worker initialization. Use the newer worker-init template when possible.",tags:["worker","initialization","legacy","deprecated"]},{id:"create-worker",title:"Create Worker Agent",description:"Request admin agent to create a new worker agent for specific tasks",category:"task-management",template:'Create a worker agent with ID "{{AGENT_ID}}" to {{TASK_DESCRIPTION}}.',variables:[{name:"AGENT_ID",description:"Unique identifier for the new worker agent",placeholder:"frontend-worker",required:!0},{name:"TASK_DESCRIPTION",description:"Brief description of what the worker should accomplish",placeholder:"implement the login page",required:!0}],usage:"Tell this to your admin agent to create a new specialized worker for specific tasks.",examples:['Create a worker agent with ID "frontend-worker" to implement the login page.','Create a worker agent with ID "api-worker" to build the REST API endpoints.','Create a worker agent with ID "database-worker" to design and implement the database schema.'],tags:["admin","worker-creation","task-assignment"]},{id:"assign-task",title:"Assign Task to Agent",description:"Assign a specific task to an existing agent",category:"task-management",template:"Assign the following task to {{AGENT_ID}}:\n\nTitle: {{TASK_TITLE}}\nDescription: {{TASK_DESCRIPTION}}\nPriority: {{PRIORITY}}\n\n{{ADDITIONAL_CONTEXT}}",variables:[{name:"AGENT_ID",description:"ID of the agent to assign the task to",placeholder:"frontend-worker",required:!0},{name:"TASK_TITLE",description:"Brief title for the task",placeholder:"Implement user authentication",required:!0},{name:"TASK_DESCRIPTION",description:"Detailed description of what needs to be done",placeholder:"Create login form with validation and JWT token handling",required:!0},{name:"PRIORITY",description:"Task priority level",placeholder:"high",required:!1},{name:"ADDITIONAL_CONTEXT",description:"Any additional context or requirements",placeholder:"Use React hooks and follow existing component patterns",required:!1}],usage:"Use this to assign specific tasks to agents through the admin agent.",tags:["task-assignment","admin","project-management"]},{id:"add-context",title:"Add Project Context",description:"Add important information to the project context database",category:"context-management",template:"Please add the {{FILE_NAME}} file to the project context. {{INSTRUCTION}}",variables:[{name:"FILE_NAME",description:"Name of the file to add to context",placeholder:"MCD.md",required:!0},{name:"INSTRUCTION",description:"Special instructions for how to process the file",placeholder:"Don't summarize it.",required:!1}],usage:"Use this to add important project files to the shared context database.",examples:["Please add the MCD.md file to the project context. Don't summarize it.","Please add the API-specification.md file to the project context.","Please add the database-schema.sql file to the project context. Include all table structures."],tags:["context","documentation","knowledge-management"]},{id:"rag-query",title:"Query Project RAG",description:"Ask questions about the project using the RAG system",category:"context-management",template:'Ask the project RAG: "{{QUESTION}}"',variables:[{name:"QUESTION",description:"Question to ask the RAG system about the project",placeholder:"What is the database schema for user authentication?",required:!0}],usage:"Use this format to query the RAG system for project-specific information.",examples:['Ask the project RAG: "What is the authentication flow for the application?"','Ask the project RAG: "What components have already been implemented?"','Ask the project RAG: "What are the API endpoints for user management?"'],tags:["rag","query","knowledge-retrieval"]},{id:"debug-agent-status",title:"Debug Agent Status",description:"Check the status and health of agents in the system",category:"debugging",template:"Please check the status of all agents and provide a summary of:\n1. Active agents and their current tasks\n2. Any failed or stuck agents\n3. Task completion status\n4. System health overview\n\n{{SPECIFIC_CONCERNS}}",variables:[{name:"SPECIFIC_CONCERNS",description:"Any specific issues or concerns to investigate",placeholder:"Focus on why the frontend-worker seems to be stuck",required:!1}],usage:"Use this with the admin agent to get a comprehensive system status report.",tags:["debugging","status","health-check","admin"]},{id:"debug-task-flow",title:"Debug Task Flow",description:"Analyze task dependencies and execution flow",category:"debugging",template:"Analyze the task flow for {{TASK_OR_FEATURE}} and identify:\n1. Task dependencies and order\n2. Any blocking issues\n3. Agent assignments and capabilities\n4. Estimated completion timeline\n\nPlease provide recommendations for optimization.",variables:[{name:"TASK_OR_FEATURE",description:"Specific task or feature to analyze",placeholder:"user authentication system",required:!0}],usage:"Use this to analyze complex task dependencies and identify bottlenecks.",tags:["debugging","task-analysis","workflow","optimization"]},{id:"coordinate-agents",title:"Coordinate Multiple Agents",description:"Coordinate work between multiple agents on related tasks",category:"coordination",template:"Coordinate the following agents to work on {{PROJECT_PHASE}}:\n\nAgents involved:\n{{AGENT_LIST}}\n\nRequirements:\n- {{REQUIREMENT_1}}\n- {{REQUIREMENT_2}}\n- {{REQUIREMENT_3}}\n\nPlease ensure proper communication and dependency management between agents.",variables:[{name:"PROJECT_PHASE",description:"The project phase or feature being worked on",placeholder:"user authentication implementation",required:!0},{name:"AGENT_LIST",description:"List of agents and their roles",placeholder:"- frontend-worker: UI components\n- backend-worker: API endpoints\n- database-worker: schema design",required:!0},{name:"REQUIREMENT_1",description:"First coordination requirement",placeholder:"Frontend and backend must agree on API contract",required:!1},{name:"REQUIREMENT_2",description:"Second coordination requirement",placeholder:"Database schema must be finalized before API implementation",required:!1},{name:"REQUIREMENT_3",description:"Third coordination requirement",placeholder:"All components must follow the established design system",required:!1}],usage:"Use this with the admin agent to coordinate complex multi-agent workflows.",tags:["coordination","multi-agent","project-management","admin"]},{id:"handoff-task",title:"Task Handoff Between Agents",description:"Transfer a task from one agent to another with context",category:"coordination",template:'Transfer task "{{TASK_TITLE}}" from {{FROM_AGENT}} to {{TO_AGENT}}.\n\nCurrent Status:\n{{CURRENT_STATUS}}\n\nHandoff Notes:\n{{HANDOFF_NOTES}}\n\nNext Steps:\n{{NEXT_STEPS}}',variables:[{name:"TASK_TITLE",description:"Title of the task being transferred",placeholder:"User Profile Component",required:!0},{name:"FROM_AGENT",description:"Agent currently working on the task",placeholder:"frontend-worker-1",required:!0},{name:"TO_AGENT",description:"Agent who will take over the task",placeholder:"frontend-worker-2",required:!0},{name:"CURRENT_STATUS",description:"Current state of the task",placeholder:"Basic component structure completed, needs styling and validation",required:!0},{name:"HANDOFF_NOTES",description:"Important context for the new agent",placeholder:"Component uses React Hook Form for validation, follow existing pattern in LoginForm",required:!0},{name:"NEXT_STEPS",description:"What the new agent should focus on",placeholder:"1. Add form validation\n2. Implement responsive design\n3. Add unit tests",required:!0}],usage:"Use this to properly transfer tasks between agents with full context preservation.",tags:["handoff","task-transfer","coordination","context-preservation"]}];var su=s(3332);function sh(e){let{open:t,onOpenChange:s,onCreatePrompt:n}=e,[i,l]=(0,r.useState)(!1),[o,c]=(0,r.useState)({title:"",description:"",category:"coordination",template:"",usage:"",variables:[],tags:[]}),[m,x]=(0,r.useState)({name:"",description:"",placeholder:"",required:!1}),[u,h]=(0,r.useState)(""),g=e=>{c(t=>({...t,variables:t.variables.filter((t,s)=>s!==e)}))},p=()=>{u.trim()&&!o.tags.includes(u.trim())&&(c(e=>({...e,tags:[...e.tags,u.trim()]})),h(""))},f=e=>{c(t=>({...t,tags:t.tags.filter(t=>t!==e)}))};return(0,a.jsx)(O,{open:t,onOpenChange:s,children:(0,a.jsxs)(U,{className:"max-w-2xl max-h-[90vh] overflow-y-auto bg-card border-border text-card-foreground",children:[(0,a.jsxs)($,{children:[(0,a.jsxs)(V,{className:"text-lg flex items-center gap-2",children:[(0,a.jsx)(sr.A,{className:"h-5 w-5 text-primary"}),"Create Custom Prompt"]}),(0,a.jsx)(W,{className:"text-muted-foreground",children:"Create your own reusable prompt template for Agent-MCP workflows"})]}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),o.title.trim()&&o.template.trim()){l(!0);try{n(o),c({title:"",description:"",category:"coordination",template:"",usage:"",variables:[],tags:[]}),s(!1)}catch(e){console.error("Failed to create prompt:",e)}finally{l(!1)}}},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-foreground",children:"Basic Information"}),(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(C,{htmlFor:"title",className:"text-sm font-medium text-foreground",children:["Title ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(_,{id:"title",value:o.title,onChange:e=>c(t=>({...t,title:e.target.value})),placeholder:"e.g., Create API Worker Agent",className:"bg-background border-border text-foreground",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"category",className:"text-sm font-medium text-foreground",children:"Category"}),(0,a.jsxs)(tu,{value:o.category,onValueChange:e=>c(t=>({...t,category:e})),children:[(0,a.jsx)(tg,{className:"bg-background border-border text-foreground",children:(0,a.jsx)(th,{})}),(0,a.jsx)(tp,{children:sm.map(e=>(0,a.jsx)(tf,{value:e.id,children:e.name},e.id))})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"description",className:"text-sm font-medium text-foreground",children:"Description"}),(0,a.jsx)(tv,{id:"description",value:o.description,onChange:e=>c(t=>({...t,description:e.target.value})),placeholder:"Brief description of what this prompt does...",className:"bg-background border-border text-foreground h-20",rows:3})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-foreground",children:"Prompt Template"}),(0,a.jsxs)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=o.template.match(/{{([^}]+)}}/g);if(e){let t=e.map(e=>e.slice(2,-2)).filter(e=>!o.variables.some(t=>t.name===e)).map(e=>({name:e,description:"Description for ".concat(e),placeholder:"Enter ".concat(e.toLowerCase()),required:!0}));c(e=>({...e,variables:[...e.variables,...t]}))}},className:"text-xs",children:[(0,a.jsx)(eZ.A,{className:"h-3 w-3 mr-1"}),"Detect Variables"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(C,{htmlFor:"template",className:"text-sm font-medium text-foreground",children:["Template ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(tv,{id:"template",value:o.template,onChange:e=>c(t=>({...t,template:e.target.value})),placeholder:"Create a worker agent with ID {{AGENT_ID}} to {{TASK_DESCRIPTION}}...",className:"bg-background border-border text-foreground font-mono text-sm h-32",rows:6,required:!0}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Use ",(0,a.jsx)("code",{className:"bg-muted px-1 rounded",children:"{{VARIABLE_NAME}}"})," syntax for dynamic variables"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"usage",className:"text-sm font-medium text-foreground",children:"Usage Instructions"}),(0,a.jsx)(tv,{id:"usage",value:o.usage,onChange:e=>c(t=>({...t,usage:e.target.value})),placeholder:"Explain when and how to use this prompt...",className:"bg-background border-border text-foreground h-20",rows:3})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-foreground",children:"Variables"}),o.variables.length>0&&(0,a.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:o.variables.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-muted/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1 text-sm",children:[(0,a.jsx)("span",{className:"font-mono text-primary",children:e.name}),e.required&&(0,a.jsx)("span",{className:"text-destructive ml-1",children:"*"}),e.description&&(0,a.jsxs)("span",{className:"text-muted-foreground ml-2",children:["- ",e.description]})]}),(0,a.jsx)(d.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>g(t),className:"h-6 w-6 p-0 text-destructive hover:text-destructive/80",children:"\xd7"})]},t))}),(0,a.jsxs)("div",{className:"grid gap-2 sm:grid-cols-3",children:[(0,a.jsx)(_,{value:m.name,onChange:e=>x(t=>({...t,name:e.target.value})),placeholder:"Variable name",className:"font-mono text-sm"}),(0,a.jsx)(_,{value:m.description,onChange:e=>x(t=>({...t,description:e.target.value})),placeholder:"Description",className:"text-sm"}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(_,{value:m.placeholder,onChange:e=>x(t=>({...t,placeholder:e.target.value})),placeholder:"Placeholder",className:"text-sm flex-1"}),(0,a.jsx)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{m.name.trim()&&(c(e=>({...e,variables:[...e.variables,{...m}]})),x({name:"",description:"",placeholder:"",required:!1}))},className:"px-2",children:(0,a.jsx)(k.A,{className:"h-3 w-3"})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-foreground",children:"Tags"}),o.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mb-2",children:o.tags.map(e=>(0,a.jsxs)(S.E,{variant:"secondary",className:"text-xs cursor-pointer hover:bg-destructive hover:text-destructive-foreground",onClick:()=>f(e),children:[e," \xd7"]},e))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(_,{value:u,onChange:e=>h(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),p()),placeholder:"Add tag...",className:"text-sm flex-1"}),(0,a.jsx)(d.$,{type:"button",variant:"outline",size:"sm",onClick:p,className:"px-3",children:(0,a.jsx)(su.A,{className:"h-3 w-3"})})]})]}),(0,a.jsxs)(q,{className:"gap-2 pt-4",children:[(0,a.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>s(!1),size:"sm",disabled:i,children:"Cancel"}),(0,a.jsx)(d.$,{type:"submit",size:"sm",disabled:i||!o.title.trim()||!o.template.trim(),className:"bg-primary hover:bg-primary/90 shadow-lg hover:shadow-primary/25 transition-all",children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"h-3 w-3 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin mr-2"}),"Creating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sr.A,{className:"h-3 w-3 mr-2"}),"Create Prompt"]})})]})]})]})})}var sg=s(463),sp=s(2138),sf=s(7550);let sj=[{title:"Welcome to Prompt Book",description:"Your central hub for Agent-MCP workflows and prompts",icon:ek.A,content:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsx)("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:(0,a.jsx)(ek.A,{className:"h-8 w-8 text-primary"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Welcome to your Prompt Book!"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"This is your centralized collection of standardized prompts and workflows for Agent-MCP. Think of it as your personal AI prompt library."})]}),(0,a.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"p-3 border rounded-lg bg-muted/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(eK.A,{className:"h-4 w-4 text-primary"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"Standardized"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pre-built prompts for common Agent-MCP tasks"})]}),(0,a.jsxs)("div",{className:"p-3 border rounded-lg bg-muted/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(sr.A,{className:"h-4 w-4 text-primary"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"Customizable"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Create and edit your own prompt templates"})]}),(0,a.jsxs)("div",{className:"p-3 border rounded-lg bg-muted/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(eJ.A,{className:"h-4 w-4 text-primary"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"Copy & Paste"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"One-click copy for instant use in AI assistants"})]}),(0,a.jsxs)("div",{className:"p-3 border rounded-lg bg-muted/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(eN.A,{className:"h-4 w-4 text-primary"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"Team Ready"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Share and collaborate on prompt workflows"})]})]})]})},{title:"Using Existing Prompts",description:"Learn how to find and use pre-built prompts",icon:td.A,content:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Finding the Right Prompt"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,a.jsx)("span",{className:"text-xs font-bold text-primary",children:"1"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Browse by Category"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Use the category tabs to find prompts for specific workflows like initialization, task management, or debugging."})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,a.jsx)("span",{className:"text-xs font-bold text-primary",children:"2"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Search by Keywords"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:'Use the search bar to find prompts by title, description, or tags like "admin", "worker", "initialization".'})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,a.jsx)("span",{className:"text-xs font-bold text-primary",children:"3"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Quick Copy or Customize"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:'Either copy the template directly or click "Use Template" to customize variables before copying.'})]})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(sg.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)("span",{className:"font-medium text-blue-900 dark:text-blue-100 text-sm",children:"Pro Tip"})]}),(0,a.jsx)("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:'Start with the "Quick Start" section to see the essential prompts for getting Agent-MCP running.'})]})]})},{title:"Creating Custom Prompts",description:"Build your own reusable prompt templates",icon:k.A,content:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Build Your Own Prompts"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,a.jsx)("span",{className:"text-xs font-bold text-primary",children:"1"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:'Click "Create Prompt"'}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Use the green button in the top right to start creating a new prompt template."})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,a.jsx)("span",{className:"text-xs font-bold text-primary",children:"2"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium",children:["Add Variables with ","{{}}"]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Use ",(0,a.jsx)("code",{className:"bg-muted px-1 rounded",children:"{{VARIABLE_NAME}}"})," syntax to create dynamic placeholders in your prompts."]})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,a.jsx)("span",{className:"text-xs font-bold text-primary",children:"3"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Auto-Detect Variables"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:'Click "Detect Variables" to automatically find and configure all the variables in your template.'})]})]})]}),(0,a.jsxs)("div",{className:"bg-muted/30 border rounded-lg p-3",children:[(0,a.jsx)("p",{className:"font-medium text-sm mb-2",children:"Example Template:"}),(0,a.jsxs)("code",{className:"text-xs bg-background border rounded px-2 py-1 block",children:["Create a ","{{AGENT_TYPE}}",' agent with ID "',"{{AGENT_ID}}",'" to ',"{{TASK_DESCRIPTION}}","."]}),(0,a.jsxs)("div",{className:"mt-2 flex flex-wrap gap-1",children:[(0,a.jsx)(S.E,{variant:"outline",className:"text-xs",children:"AGENT_TYPE"}),(0,a.jsx)(S.E,{variant:"outline",className:"text-xs",children:"AGENT_ID"}),(0,a.jsx)(S.E,{variant:"outline",className:"text-xs",children:"TASK_DESCRIPTION"})]})]})]})},{title:"Prompt Workflows",description:"Chain prompts together for complex workflows",icon:eH.A,content:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Building Agent Workflows"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Agent-MCP works best when you follow a structured workflow. Here's the typical sequence:"}),(0,a.jsx)("div",{className:"space-y-2",children:[{step:1,title:"Admin Initialization",desc:"Set up your admin agent with the token"},{step:2,title:"Add Project Context",desc:"Load your MCD and project documentation"},{step:3,title:"Create Worker Agents",desc:"Spawn specialized workers for different tasks"},{step:4,title:"Initialize Workers",desc:"Set up each worker with their specific role"},{step:5,title:"Assign Tasks",desc:"Delegate work to the appropriate agents"},{step:6,title:"Monitor & Debug",desc:"Track progress and troubleshoot issues"}].map(e=>{let{step:t,title:s,desc:r}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2 border rounded-lg",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",children:t}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:s}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:r})]}),(0,a.jsx)(sp.A,{className:"h-3 w-3 text-muted-foreground"})]},t)})})]}),(0,a.jsxs)("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(tl.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{className:"font-medium text-green-900 dark:text-green-100 text-sm",children:"Best Practice"})]}),(0,a.jsx)("p",{className:"text-xs text-green-800 dark:text-green-200",children:"Each prompt category corresponds to a different stage in this workflow. Use them in sequence for best results."})]})]})},{title:"Ready to Start!",description:"You're all set to use the Prompt Book effectively",icon:tR.A,content:(0,a.jsxs)("div",{className:"space-y-4 text-center",children:[(0,a.jsx)("div",{className:"mx-auto w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center",children:(0,a.jsx)(tl.A,{className:"h-8 w-8 text-green-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"You're Ready to Go!"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"You now know how to use and create prompts in the Prompt Book. Here are some quick actions to get started:"})]}),(0,a.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"p-3 border rounded-lg bg-primary/5 border-primary/20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(ek.A,{className:"h-4 w-4 text-primary"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"Try a Quick Start"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Use the admin initialization prompt to set up your first agent"})]}),(0,a.jsxs)("div",{className:"p-3 border rounded-lg bg-primary/5 border-primary/20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 text-primary"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"Create Your First"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Build a custom prompt for your specific project needs"})]})]}),(0,a.jsx)(Z,{}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"\uD83D\uDCA1 Tip: You can always access this tutorial again from the help menu"})]})}];function sb(e){let{open:t,onOpenChange:s}=e,[n,i]=(0,r.useState)(0),[l,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{o("true"===localStorage.getItem("prompt-book-tutorial-completed"))},[]);let c=()=>{localStorage.setItem("prompt-book-tutorial-completed","true"),o(!0),s(!1),i(0)},m=sj[n],x=n===sj.length-1;return(0,a.jsx)(O,{open:t,onOpenChange:s,children:(0,a.jsxs)(U,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)($,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.icon,{className:"h-5 w-5 text-primary"}),(0,a.jsx)(V,{children:m.title})]}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:c,className:"h-6 w-6 p-0",children:(0,a.jsx)(M.A,{className:"h-4 w-4"})})]}),(0,a.jsx)(W,{children:m.description})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center gap-1",children:sj.map((e,t)=>(0,a.jsx)("div",{className:"h-2 flex-1 rounded-full transition-all ".concat(t<=n?"bg-primary":"bg-muted")},t))}),(0,a.jsx)("div",{className:"min-h-[300px]",children:m.content}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Step ",n+1," of ",sj.length]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>{n>0&&i(n-1)},disabled:0===n,children:[(0,a.jsx)(sf.A,{className:"h-4 w-4 mr-1"}),"Previous"]}),x?(0,a.jsxs)(d.$,{size:"sm",onClick:c,className:"bg-primary hover:bg-primary/90",children:[(0,a.jsx)(tl.A,{className:"h-4 w-4 mr-1"}),"Get Started"]}):(0,a.jsxs)(d.$,{size:"sm",onClick:()=>{n<sj.length-1&&i(n+1)},className:"bg-primary hover:bg-primary/90",children:["Next",(0,a.jsx)(sp.A,{className:"h-4 w-4 ml-1"})]})]})]})]})]})})}let sv={UserPlus:ss.A,CheckSquare:ey.A,Database:e0.A,Bug:sa.A,Users:eN.A},sN=e=>{let{prompt:t,onSelect:s,onDelete:n,isCustom:i}=e,[l,o]=(0,r.useState)(!1),c=async e=>{e.stopPropagation(),await navigator.clipboard.writeText(t.template),o(!0),setTimeout(()=>o(!1),2e3)};return(0,a.jsxs)(T,{className:"cursor-pointer hover:shadow-md transition-all duration-200 group relative",children:[(0,a.jsxs)(E,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(z,{className:"text-lg font-semibold group-hover:text-primary transition-colors",children:t.title}),i&&(0,a.jsx)(S.E,{variant:"secondary",className:"text-xs",children:"Custom"})]}),(0,a.jsx)(D,{className:"text-sm text-muted-foreground mt-1",children:t.description})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:c,className:"h-8 w-8 p-0",children:l?(0,a.jsx)(tl.A,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(eJ.A,{className:"h-4 w-4"})}),i&&n&&(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),n&&i&&n(t.id)},className:"h-8 w-8 p-0 text-destructive hover:text-destructive/80",children:(0,a.jsx)(M.A,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[t.tags.slice(0,3).map(e=>(0,a.jsx)(S.E,{variant:"secondary",className:"text-xs",children:e},e)),t.tags.length>3&&(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs",children:["+",t.tags.length-3]})]})]}),(0,a.jsxs)(I,{className:"pt-0",children:[(0,a.jsx)("div",{className:"bg-muted/30 rounded-lg p-3 mb-3",children:(0,a.jsx)("code",{className:"text-xs font-mono text-foreground line-clamp-3",children:t.template.length>120?t.template.substring(0,120)+"...":t.template})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[t.variables.length," variable",1!==t.variables.length?"s":""]}),(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>s(t),className:"text-xs",children:"Use Template"})]})]})]})},sy=e=>{let{prompt:t,onClose:s}=e,[n,i]=(0,r.useState)(()=>{let e={};return t.variables.forEach(t=>{e[t.name]=""}),e}),[l,o]=(0,r.useState)(""),[c,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)([]),h=(e,t)=>{i(s=>({...s,[e]:t}))},g=async()=>{l&&(await navigator.clipboard.writeText(l),m(!0),setTimeout(()=>m(!1),2e3))};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:t.title}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-4",children:t.description}),(0,a.jsx)("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,a.jsx)("strong",{children:"Usage:"})," ",t.usage]})})]}),(0,a.jsx)(Z,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"Configure Variables"}),(0,a.jsx)("div",{className:"space-y-4",children:t.variables.map(e=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(C,{htmlFor:e.name,className:"text-sm font-medium",children:[e.name,e.required&&(0,a.jsx)("span",{className:"text-destructive ml-1",children:"*"})]}),(0,a.jsx)(_,{id:e.name,value:n[e.name]||"",onChange:t=>h(e.name,t.target.value),placeholder:e.placeholder,className:"font-mono text-sm"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]},e.name))}),x.length>0&&(0,a.jsx)("div",{className:"mt-4 space-y-1",children:x.map((e,t)=>(0,a.jsx)("p",{className:"text-xs text-destructive",children:e},t))}),(0,a.jsxs)(d.$,{onClick:()=>{let e=function(e,t){let s=[];return e.variables.filter(e=>e.required).map(e=>e.name).forEach(e=>{t[e]&&""!==t[e].trim()||s.push('Required variable "'.concat(e,'" is missing or empty'))}),s}(t,n);u(e),0===e.length&&o(function(e,t){let s=e;return Object.entries(t).forEach(e=>{let[t,a]=e,r=RegExp("{{".concat(t,"}}"),"g");s=s.replace(r,a)}),s}(t.template,n))},className:"mt-4 w-full",children:[(0,a.jsx)(sr.A,{className:"h-4 w-4 mr-2"}),"Generate Prompt"]})]}),l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z,{}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Generated Prompt"}),(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:g,children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tl.A,{className:"h-4 w-4 mr-2"}),"Copied!"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eJ.A,{className:"h-4 w-4 mr-2"}),"Copy"]})})]}),(0,a.jsx)(tv,{value:l,readOnly:!0,className:"font-mono text-sm h-32 bg-muted/30",rows:6})]})]}),t.examples&&t.examples.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"Examples"}),(0,a.jsx)("div",{className:"space-y-2",children:t.examples.map((e,t)=>(0,a.jsx)("div",{className:"bg-muted/30 rounded-lg p-3",children:(0,a.jsx)("code",{className:"text-xs font-mono text-foreground whitespace-pre-wrap",children:e})},t))})]})]})]})};function sw(){let[e,t]=(0,r.useState)(""),[s,n]=(0,r.useState)("all"),[i,l]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1),[m,x]=(0,r.useState)([]),[u,h]=(0,r.useState)(!1),{showTutorial:g,setShowTutorial:p}=function(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(!localStorage.getItem("prompt-book-tutorial-completed")){let e=setTimeout(()=>{t(!0)},1e3);return()=>clearTimeout(e)}},[]),{showTutorial:e,setShowTutorial:t}}();(0,r.useEffect)(()=>{let e=localStorage.getItem("custom-prompts");if(e)try{x(JSON.parse(e))}catch(e){console.error("Failed to load custom prompts:",e)}},[]),(0,r.useEffect)(()=>{localStorage.setItem("custom-prompts",JSON.stringify(m))},[m]);let f=(0,r.useMemo)(()=>{let t=[...sx,...m];return e&&(t=[...function(e){let t=e.toLowerCase();return sx.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.tags.some(e=>e.toLowerCase().includes(t))||e.template.toLowerCase().includes(t))}(e),...m.filter(t=>t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())||t.tags.some(t=>t.toLowerCase().includes(e.toLowerCase())))]),"all"!==s&&(t=t.filter(e=>e.category===s)),t},[e,s,m]),j=(0,r.useMemo)(()=>{let e={};return f.forEach(t=>{e[t.category]||(e[t.category]=[]),e[t.category].push(t)}),e},[f]),b=e=>{l(e),c(!0)},v=e=>{x(t=>t.filter(t=>t.id!==e))};return(0,a.jsxs)("div",{className:"w-full space-y-[var(--space-fluid-lg)] -mx-[var(--container-padding)] px-[var(--container-padding)] -my-[var(--space-fluid-lg)] py-[var(--space-fluid-lg)]",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-fluid-2xl font-bold text-foreground flex items-center gap-2",children:[(0,a.jsx)(ek.A,{className:"h-8 w-8 text-primary"}),"Prompt Book"]}),(0,a.jsx)("p",{className:"text-muted-foreground text-fluid-base mt-1",children:"Standardized prompts and workflows for Agent-MCP"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs",children:[sx.length+m.length," prompts"]}),(0,a.jsxs)(S.E,{variant:"outline",className:"text-xs",children:[sm.length," categories"]}),m.length>0&&(0,a.jsxs)(S.E,{variant:"secondary",className:"text-xs",children:[m.length," custom"]}),(0,a.jsxs)(d.$,{size:"sm",onClick:()=>h(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg hover:shadow-primary/25 transition-all duration-200",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-1.5"}),"Create Prompt"]}),(0,a.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>p(!0),className:"text-xs",children:[(0,a.jsx)(sn.A,{className:"h-4 w-4 mr-1.5"}),"Help"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(td.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,a.jsx)(_,{placeholder:"Search prompts by title, description, or tags...",value:e,onChange:e=>t(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(tu,{value:s,onValueChange:n,children:[(0,a.jsx)(tg,{className:"w-full sm:w-48",children:(0,a.jsx)(th,{placeholder:"All Categories"})}),(0,a.jsxs)(tp,{children:[(0,a.jsx)(tf,{value:"all",children:"All Categories"}),sm.map(e=>(0,a.jsx)(tf,{value:e.id,children:e.name},e.id))]})]})]}),(0,a.jsxs)(T,{className:"border-primary/20 bg-primary/5",children:[(0,a.jsxs)(E,{children:[(0,a.jsxs)(z,{className:"text-lg flex items-center gap-2",children:[(0,a.jsx)(sr.A,{className:"h-5 w-5 text-primary"}),"Quick Start"]}),(0,a.jsx)(D,{children:"Essential prompts to get started with Agent-MCP"})]}),(0,a.jsx)(I,{children:(0,a.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(S.E,{variant:"secondary",className:"text-xs",children:"1"}),(0,a.jsx)("span",{children:"Initialize Admin Agent"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(S.E,{variant:"secondary",className:"text-xs",children:"2"}),(0,a.jsx)("span",{children:"Add Project Context"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(S.E,{variant:"secondary",className:"text-xs",children:"3"}),(0,a.jsx)("span",{children:"Create Worker Agents"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(S.E,{variant:"secondary",className:"text-xs",children:"4"}),(0,a.jsx)("span",{children:"Initialize Workers"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(S.E,{variant:"secondary",className:"text-xs",children:"5"}),(0,a.jsx)("span",{children:"Assign Tasks"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(S.E,{variant:"secondary",className:"text-xs",children:"6"}),(0,a.jsx)("span",{children:"Monitor & Debug"})]})]})})]}),(0,a.jsxs)(sl,{value:s,onValueChange:n,className:"w-full",children:[(0,a.jsxs)(sd,{className:"grid w-full grid-cols-3 lg:grid-cols-6",children:[(0,a.jsx)(so,{value:"all",className:"text-xs",children:"All"}),sm.map(e=>(0,a.jsx)(so,{value:e.id,className:"text-xs",children:e.name.split(" ")[0]},e.id))]}),(0,a.jsx)(sc,{value:"all",className:"mt-6",children:(0,a.jsx)("div",{className:"space-y-6",children:sm.map(e=>{let t=j[e.id]||[];if(0===t.length)return null;let s=sv[e.icon]||ek.A;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(s,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("h2",{className:"text-xl font-semibold",children:e.name}),(0,a.jsx)(S.E,{variant:"outline",className:"text-xs",children:t.length})]}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-4",children:e.description}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,a.jsx)(sN,{prompt:e,onSelect:b,onDelete:v,isCustom:e.id.startsWith("custom-")},e.id))})]},e.id)})})}),sm.map(e=>(0,a.jsx)(sc,{value:e.id,className:"mt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:r.createElement(sv[e.icon]||ek.A,{className:"h-5 w-5 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:e.name}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:e.description})]})]}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:(j[e.id]||[]).map(e=>(0,a.jsx)(sN,{prompt:e,onSelect:b,onDelete:v,isCustom:e.id.startsWith("custom-")},e.id))})]})},e.id))]}),0===f.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(ek.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No prompts found"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Try adjusting your search terms or category filter"})]}),(0,a.jsx)(O,{open:o,onOpenChange:c,children:(0,a.jsxs)(U,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)($,{children:[(0,a.jsx)(V,{children:"Prompt Builder"}),(0,a.jsx)(W,{children:"Customize and generate your prompt with the required variables"})]}),i&&(0,a.jsx)(sy,{prompt:i,onClose:()=>c(!1)})]})}),(0,a.jsx)(sh,{open:u,onOpenChange:h,onCreatePrompt:e=>{let t={id:"custom-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),title:e.title,description:e.description,category:e.category,template:e.template,variables:e.variables||[],usage:e.usage||"",examples:[],tags:e.tags||[]};x(e=>[...e,t]),h(!1)}}),(0,a.jsx)(sb,{open:g,onOpenChange:p})]})}function sk(){return(0,a.jsxs)("div",{className:"flex flex-col h-full w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between px-[var(--space-fluid-lg)] py-[var(--space-fluid-md)] gap-[var(--space-fluid-sm)] border-b bg-background/95 backdrop-blur",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-fluid-2xl font-bold tracking-tight",children:"System"}),(0,a.jsx)("p",{className:"text-fluid-base text-muted-foreground mt-1",children:"System architecture and real-time graph visualization"})]}),(0,a.jsxs)(S.E,{variant:"outline",className:"status-online text-fluid-sm self-start sm:self-auto",children:[(0,a.jsx)(eV.A,{className:"h-3 w-3 mr-1 md:h-4 md:w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"All Systems Operational"}),(0,a.jsx)("span",{className:"sm:hidden",children:"Online"})]})]}),(0,a.jsx)("div",{className:"flex-1 min-h-0 overflow-hidden",children:(0,a.jsx)(eR,{fullscreen:!0})})]})}function s_(){let{currentView:e}=(0,l.MZ)();return(0,a.jsx)(eS,{children:(0,a.jsx)(eD,{children:(()=>{switch(e){case"overview":default:return(0,a.jsx)(te,{});case"agents":return(0,a.jsx)(tM,{});case"tasks":return(0,a.jsx)(tQ,{});case"memories":return(0,a.jsx)(st,{});case"prompts":return(0,a.jsx)(sw,{});case"system":return(0,a.jsx)(sk,{})}})()})})}},3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(2596),r=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},7168:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var a=s(5155);s(2115);var r=s(9708),n=s(2085),i=s(3999);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:s,size:n,asChild:d=!1,...o}=e,c=d?r.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,i.cn)(l({variant:s,size:n,className:t})),...o})}},8145:(e,t,s)=>{"use strict";s.d(t,{E:()=>d});var a=s(5155);s(2115);var r=s(9708),n=s(2085),i=s(3999);let l=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:s,asChild:n=!1,...d}=e,o=n?r.DX:"span";return(0,a.jsx)(o,{"data-slot":"badge",className:(0,i.cn)(l({variant:s}),t),...d})}}},e=>{var t=t=>e(e.s=t);e.O(0,[924,600,441,684,358],()=>t(2207)),_N_E=e.O()}]);