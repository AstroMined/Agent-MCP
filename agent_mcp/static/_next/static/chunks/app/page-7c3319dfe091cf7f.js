(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1886:(e,t,s)=>{"use strict";s.d(t,{uE:()=>r});class a{setServer(e,t){this.baseUrl="http://".concat(e,":").concat(t)}getServerUrl(){return this.baseUrl}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.baseUrl)throw Error("NO_SERVER_CONNECTED");let s="".concat(this.baseUrl,"/api").concat(e),a=await fetch(s,{headers:{"Content-Type":"application/json",...t.headers},...t});if(!a.ok)throw Error("API Error: ".concat(a.status," ").concat(a.statusText));return a.json()}async getSystemStatus(){return this.request("/status")}async getGraphData(){return this.request("/graph-data")}async getTaskTreeData(){return this.request("/task-tree-data")}async getAgents(){return this.request("/agents")}async getAgent(e){return this.request("/agents/".concat(e))}async createAgent(e){return this.request("/agents",{method:"POST",body:JSON.stringify(e)})}async terminateAgent(e){return this.request("/agents/".concat(e,"/terminate"),{method:"POST"})}async getTasks(){return this.request("/tasks")}async getTask(e){return this.request("/tasks/".concat(e))}async updateTask(e,t){return this.request("/tasks/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async createTask(e){return this.request("/tasks",{method:"POST",body:JSON.stringify(e)})}async getTokens(){return this.request("/tokens")}async getNodeDetails(e){return this.request("/node-details/".concat(e))}createEventSource(e){return new EventSource("".concat(this.baseUrl,"/api").concat(e))}async healthCheck(){return this.request("/health")}constructor(e=""){this.baseUrl=e}}let r=new a},2207:(e,t,s)=>{Promise.resolve().then(s.bind(s,8839))},5203:(e,t,s)=>{"use strict";s.d(t,{CQ:()=>d,DP:()=>n,E$:()=>o,MZ:()=>l,SQ:()=>c,cL:()=>i});var a=s(5453),r=s(6786);let n=(0,a.v)()((0,r.Zr)((e,t)=>({theme:"system",isDark:!1,setTheme:t=>{e({theme:t});{let s="dark"===t||"system"===t&&window.matchMedia("(prefers-color-scheme: dark)").matches;e({isDark:s}),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}},toggleTheme:()=>{let e=t().theme;t().setTheme("light"===e?"dark":"light")}}),{name:"theme-storage"})),i=(0,a.v)()((e,t)=>({isCollapsed:!1,setCollapsed:t=>e({isCollapsed:t}),toggle:()=>e({isCollapsed:!t().isCollapsed})})),l=(0,a.v)()(e=>({currentView:"overview",setCurrentView:t=>e({currentView:t}),isLoading:!1,setLoading:t=>e({isLoading:t}),lastUpdated:null,setLastUpdated:t=>e({lastUpdated:t})})),d=(0,a.v)()((e,t)=>({isOpen:!1,setOpen:t=>e({isOpen:t}),toggle:()=>e({isOpen:!t().isOpen})})),o=(0,a.v)()((e,t)=>({notifications:[],addNotification:s=>{e({notifications:[{...s,id:Math.random().toString(36).substr(2,9),timestamp:new Date,read:!1},...t().notifications].slice(0,50)})},markAsRead:s=>{e({notifications:t().notifications.map(e=>e.id===s?{...e,read:!0}:e)})},removeNotification:s=>{e({notifications:t().notifications.filter(e=>e.id!==s)})},clearAll:()=>e({notifications:[]})})),c=(0,a.v)()(e=>({query:"",setQuery:t=>e({query:t}),results:[],setResults:t=>e({results:t}),isSearching:!1,setSearching:t=>e({isSearching:t})}))},8839:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>sr});var a=s(5155),r=s(2115),n=s(7924),i=s(3861),l=s(381),d=s(1007),o=s(9708),c=s(2085),x=s(2596),m=s(9688);function u(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,m.QP)((0,x.$)(t))}let h=(0,c.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function g(e){let{className:t,variant:s,size:r,asChild:n=!1,...i}=e,l=n?o.DX:"button";return(0,a.jsx)(l,{"data-slot":"button",className:u(h({variant:s,size:r,className:t})),...i})}function p(e){let{className:t,type:s,...r}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:u("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var f=s(4011);function v(e){let{className:t,...s}=e;return(0,a.jsx)(f.bL,{"data-slot":"avatar",className:u("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...s})}function j(e){let{className:t,...s}=e;return(0,a.jsx)(f._V,{"data-slot":"avatar-image",className:u("aspect-square size-full",t),...s})}function b(e){let{className:t,...s}=e;return(0,a.jsx)(f.H4,{"data-slot":"avatar-fallback",className:u("bg-muted flex size-full items-center justify-center rounded-full",t),...s})}var N=s(8698);function w(e){let{...t}=e;return(0,a.jsx)(N.bL,{"data-slot":"dropdown-menu",...t})}function y(e){let{...t}=e;return(0,a.jsx)(N.l9,{"data-slot":"dropdown-menu-trigger",...t})}function k(e){let{className:t,sideOffset:s=4,...r}=e;return(0,a.jsx)(N.ZL,{children:(0,a.jsx)(N.UC,{"data-slot":"dropdown-menu-content",sideOffset:s,className:u("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function C(e){let{className:t,inset:s,variant:r="default",...n}=e;return(0,a.jsx)(N.q7,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":r,className:u("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function A(e){let{className:t,inset:s,...r}=e;return(0,a.jsx)(N.JU,{"data-slot":"dropdown-menu-label","data-inset":s,className:u("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...r})}function S(e){let{className:t,...s}=e;return(0,a.jsx)(N.wv,{"data-slot":"dropdown-menu-separator",className:u("bg-border -mx-1 my-1 h-px",t),...s})}let _=(0,c.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function E(e){let{className:t,variant:s,asChild:r=!1,...n}=e,i=r?o.DX:"span";return(0,a.jsx)(i,{"data-slot":"badge",className:u(_({variant:s}),t),...n})}var z=s(2098),T=s(3509),D=s(5203);function L(){let{setTheme:e}=(0,D.DP)();return(0,a.jsxs)(w,{children:[(0,a.jsx)(y,{asChild:!0,children:(0,a.jsxs)(g,{variant:"ghost",size:"icon",className:"h-9 w-9",children:[(0,a.jsx)(z.A,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,a.jsx)(T.A,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,a.jsxs)(k,{align:"end",children:[(0,a.jsx)(C,{onClick:()=>e("light"),children:"Light"}),(0,a.jsx)(C,{onClick:()=>e("dark"),children:"Dark"}),(0,a.jsx)(C,{onClick:()=>e("system"),children:"System"})]})]})}var M=s(6517),P=s(1154),O=s(5339),I=s(4449),R=s(5487),V=s(4616),U=s(968);function F(e){let{className:t,...s}=e;return(0,a.jsx)(U.b,{"data-slot":"label",className:u("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}function q(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:u("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function G(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:u("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function Z(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:u("leading-none font-semibold",t),...s})}function H(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:u("text-muted-foreground text-sm",t),...s})}function W(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:u("px-6",t),...s})}var X=s(5452),B=s(4416);function Q(e){let{...t}=e;return(0,a.jsx)(X.bL,{"data-slot":"dialog",...t})}function J(e){let{...t}=e;return(0,a.jsx)(X.l9,{"data-slot":"dialog-trigger",...t})}function K(e){let{...t}=e;return(0,a.jsx)(X.ZL,{"data-slot":"dialog-portal",...t})}function $(e){let{className:t,...s}=e;return(0,a.jsx)(X.hJ,{"data-slot":"dialog-overlay",className:u("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function Y(e){let{className:t,children:s,showCloseButton:r=!0,...n}=e;return(0,a.jsxs)(K,{"data-slot":"dialog-portal",children:[(0,a.jsx)($,{}),(0,a.jsxs)(X.UC,{"data-slot":"dialog-content",className:u("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[s,r&&(0,a.jsxs)(X.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(B.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function ee(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:u("flex flex-col gap-2 text-center sm:text-left",t),...s})}function et(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:u("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function es(e){let{className:t,...s}=e;return(0,a.jsx)(X.hE,{"data-slot":"dialog-title",className:u("text-lg leading-none font-semibold",t),...s})}function ea(e){let{className:t,...s}=e;return(0,a.jsx)(X.VY,{"data-slot":"dialog-description",className:u("text-muted-foreground text-sm",t),...s})}var er=s(8990);function en(){let{servers:e,activeServerId:t,isConnecting:s,connectionError:n,setActiveServer:i,refreshAllServers:d,disconnectServer:o}=(0,er.m)(),[c,x]=(0,r.useState)(!1),m=e.find(e=>e.id===t);(0,r.useEffect)(()=>{let e=setInterval(()=>{d()},3e4);return()=>clearInterval(e)},[d]);let u=async e=>{await i(e),x(!1)},h=e=>{switch(e){case"connected":return(0,a.jsx)(M.A,{className:"h-4 w-4 text-primary"});case"connecting":return(0,a.jsx)(P.A,{className:"h-4 w-4 text-info animate-spin"});case"error":return(0,a.jsx)(O.A,{className:"h-4 w-4 text-destructive"});default:return(0,a.jsx)(I.A,{className:"h-4 w-4 text-muted-foreground"})}};return(0,a.jsxs)(w,{open:c,onOpenChange:x,children:[(0,a.jsx)(y,{asChild:!0,children:(0,a.jsxs)(g,{variant:"outline",className:"justify-between min-w-[200px]",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[s?(0,a.jsx)(P.A,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(m?(e=>{switch(e){case"connected":return"bg-primary";case"connecting":return"bg-info";case"error":return"bg-destructive";default:return"bg-muted-foreground"}})(m.status):"bg-muted-foreground")}),(0,a.jsx)("span",{className:"truncate",children:m?m.name:"Select Project"})]}),(0,a.jsx)(l.A,{className:"h-4 w-4 ml-2 opacity-50"})]})}),(0,a.jsxs)(k,{className:"w-80",align:"start",children:[(0,a.jsxs)(A,{className:"flex items-center justify-between",children:["MCP Server Projects",(0,a.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>d(),className:"h-6 w-6 p-0",children:(0,a.jsx)(R.A,{className:"h-3 w-3"})})]}),(0,a.jsx)(S,{}),n&&(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(q,{className:"border-destructive/20 bg-destructive/10",children:(0,a.jsx)(W,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(O.A,{className:"h-4 w-4 text-destructive"}),(0,a.jsx)("span",{className:"text-sm text-destructive",children:n})]})})})}),(0,a.jsx)("div",{className:"max-h-[300px] overflow-y-auto",children:e.map(e=>(0,a.jsxs)(C,{onClick:()=>u(e.id),className:"flex items-center justify-between p-3 cursor-pointer",disabled:s,children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[h(e.status),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-medium",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.host,":",e.port]}),e.description&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.description})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e.id===t&&(0,a.jsx)(E,{variant:"secondary",className:"text-xs",children:"Active"}),(0,a.jsx)(E,{variant:"connected"===e.status?"default":"secondary",className:"text-xs",children:e.status})]})]},e.id))}),(0,a.jsx)(S,{}),(0,a.jsxs)("div",{className:"p-2 space-y-2",children:[(0,a.jsx)(ei,{}),t&&(0,a.jsx)(g,{variant:"outline",size:"sm",onClick:o,className:"w-full",children:"Disconnect"})]})]})]})}function ei(){let{addServer:e}=(0,er.m)(),[t,s]=(0,r.useState)(!1),[n,i]=(0,r.useState)({name:"",host:"localhost",port:8080,description:""});return(0,a.jsxs)(Q,{open:t,onOpenChange:s,children:[(0,a.jsx)(J,{asChild:!0,children:(0,a.jsxs)(g,{variant:"outline",size:"sm",className:"w-full",children:[(0,a.jsx)(V.A,{className:"h-4 w-4 mr-2"}),"Add Server"]})}),(0,a.jsxs)(Y,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(ee,{children:[(0,a.jsx)(es,{children:"Add MCP Server"}),(0,a.jsx)(ea,{children:"Add a new MCP server to connect to. This could be a local development server or a remote instance."})]}),(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault(),n.name.trim()&&(e({name:n.name.trim(),host:n.host.trim()||"localhost",port:n.port,description:n.description.trim()}),i({name:"",host:"localhost",port:8080,description:""}),s(!1))},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(F,{htmlFor:"name",children:"Project Name"}),(0,a.jsx)(p,{id:"name",value:n.name,onChange:e=>i(t=>({...t,name:e.target.value})),placeholder:"My Project",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(F,{htmlFor:"host",children:"Host"}),(0,a.jsx)(p,{id:"host",value:n.host,onChange:e=>i(t=>({...t,host:e.target.value})),placeholder:"localhost"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(F,{htmlFor:"port",children:"Port"}),(0,a.jsx)(p,{id:"port",type:"number",value:n.port,onChange:e=>i(t=>({...t,port:parseInt(e.target.value)||8080})),placeholder:"8080"})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(F,{htmlFor:"description",children:"Description (Optional)"}),(0,a.jsx)(p,{id:"description",value:n.description,onChange:e=>i(t=>({...t,description:e.target.value})),placeholder:"Brief description of this server"})]}),(0,a.jsxs)(et,{children:[(0,a.jsx)(g,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),(0,a.jsx)(g,{type:"submit",children:"Add Server"})]})]})]})]})}function el(){let{notifications:e}=(0,D.E$)(),{query:t,setQuery:s}=(0,D.SQ)(),{setOpen:r}=(0,D.CQ)(),o=e.filter(e=>!e.read).length;return(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsxs)("div",{className:"flex h-16 items-center px-6",children:[(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"h-9 w-9 rounded-xl bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center shadow-lg",children:(0,a.jsx)("span",{className:"text-primary-foreground font-bold text-sm",children:"A"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("h1",{className:"text-lg font-bold tracking-tight text-foreground",children:"Agent MCP"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Autonomous Multi-Agent Control"})]})]})}),(0,a.jsx)("div",{className:"mx-4",children:(0,a.jsx)(en,{})}),(0,a.jsx)("div",{className:"flex-1 max-w-md mx-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,a.jsx)(p,{placeholder:"Search agents, tasks... (⌘K)",value:t,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"===e.key&&console.log("Searching for:",t),(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),r(!0))},className:"pl-10 bg-background/50 border-border/60 text-foreground placeholder:text-muted-foreground focus:border-primary/50 focus:ring-primary/20 transition-all"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(w,{children:[(0,a.jsx)(y,{asChild:!0,children:(0,a.jsxs)(g,{variant:"ghost",size:"icon",className:"relative h-9 w-9 text-muted-foreground hover:text-foreground hover:bg-muted/50",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),o>0&&(0,a.jsx)(E,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs bg-destructive text-destructive-foreground",children:o>9?"9+":o})]})}),(0,a.jsxs)(k,{align:"end",className:"w-80",children:[(0,a.jsx)(A,{children:"Notifications"}),(0,a.jsx)(S,{}),0===e.length?(0,a.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No notifications"}):e.slice(0,5).map(e=>(0,a.jsxs)(C,{className:u("flex flex-col items-start space-y-1 p-3",!e.read&&"bg-muted/50"),children:[(0,a.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,a.jsx)("span",{className:"font-medium",children:e.title}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.timestamp.toLocaleTimeString()})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:e.message})]},e.id))]})]}),(0,a.jsx)(L,{}),(0,a.jsx)(g,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-foreground hover:bg-muted/50",children:(0,a.jsx)(l.A,{className:"h-4 w-4"})}),(0,a.jsxs)(w,{children:[(0,a.jsx)(y,{asChild:!0,children:(0,a.jsx)(g,{variant:"ghost",className:"relative h-9 w-9 rounded-full hover:bg-muted/50",children:(0,a.jsxs)(v,{className:"h-9 w-9 ring-2 ring-primary/30",children:[(0,a.jsx)(j,{src:"/avatar.png",alt:"Admin"}),(0,a.jsx)(b,{className:"bg-primary text-primary-foreground font-semibold",children:"AD"})]})})}),(0,a.jsxs)(k,{align:"end",children:[(0,a.jsx)(A,{children:"Admin Account"}),(0,a.jsx)(S,{}),(0,a.jsxs)(C,{children:[(0,a.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Profile"]}),(0,a.jsxs)(C,{children:[(0,a.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Settings"]}),(0,a.jsx)(S,{}),(0,a.jsx)(C,{className:"text-destructive",children:"Sign out"})]})]})]})]})})}var ed=s(6559),eo=s(4861),ec=s(7489);function ex(e){let{className:t,orientation:s="horizontal",decorative:r=!0,...n}=e;return(0,a.jsx)(ec.b,{"data-slot":"separator",decorative:r,orientation:s,className:u("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}function em(e){let{...t}=e;return(0,a.jsx)(X.bL,{"data-slot":"sheet",...t})}function eu(e){let{...t}=e;return(0,a.jsx)(X.ZL,{"data-slot":"sheet-portal",...t})}function eh(e){let{className:t,...s}=e;return(0,a.jsx)(X.hJ,{"data-slot":"sheet-overlay",className:u("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function eg(e){let{className:t,children:s,side:r="right",...n}=e;return(0,a.jsxs)(eu,{children:[(0,a.jsx)(eh,{}),(0,a.jsxs)(X.UC,{"data-slot":"sheet-content",className:u("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[s,(0,a.jsxs)(X.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,a.jsx)(B.A,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function ep(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"sheet-header",className:u("flex flex-col gap-1.5 p-4",t),...s})}function ef(e){let{className:t,...s}=e;return(0,a.jsx)(X.hE,{"data-slot":"sheet-title",className:u("text-foreground font-semibold",t),...s})}function ev(e){let{className:t,...s}=e;return(0,a.jsx)(X.VY,{"data-slot":"sheet-description",className:u("text-muted-foreground text-sm",t),...s})}var ej=s(9613);function eb(e){let{delayDuration:t=0,...s}=e;return(0,a.jsx)(ej.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...s})}function eN(e){let{...t}=e;return(0,a.jsx)(eb,{children:(0,a.jsx)(ej.bL,{"data-slot":"tooltip",...t})})}function ew(e){let{...t}=e;return(0,a.jsx)(ej.l9,{"data-slot":"tooltip-trigger",...t})}function ey(e){let{className:t,sideOffset:s=0,children:r,...n}=e;return(0,a.jsx)(ej.ZL,{children:(0,a.jsxs)(ej.UC,{"data-slot":"tooltip-content",sideOffset:s,className:u("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...n,children:[r,(0,a.jsx)(ej.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}let ek=r.createContext(null);function eC(){let e=r.useContext(ek);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}function eA(e){let{defaultOpen:t=!0,open:s,onOpenChange:n,className:i,style:l,children:d,...o}=e,c=function(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),s=()=>{t(window.innerWidth<768)};return e.addEventListener("change",s),t(window.innerWidth<768),()=>e.removeEventListener("change",s)},[]),!!e}(),[x,m]=r.useState(!1),[h,g]=r.useState(t),p=null!=s?s:h,f=r.useCallback(e=>{let t="function"==typeof e?e(p):e;n?n(t):g(t),document.cookie="".concat("sidebar_state","=").concat(t,"; path=/; max-age=").concat(604800)},[n,p]),v=r.useCallback(()=>c?m(e=>!e):f(e=>!e),[c,f,m]);r.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),v())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[v]);let j=p?"expanded":"collapsed",b=r.useMemo(()=>({state:j,open:p,setOpen:f,isMobile:c,openMobile:x,setOpenMobile:m,toggleSidebar:v}),[j,p,f,c,x,m,v]);return(0,a.jsx)(ek.Provider,{value:b,children:(0,a.jsx)(eb,{delayDuration:0,children:(0,a.jsx)("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...l},className:u("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",i),...o,children:d})})})}function eS(e){let{side:t="left",variant:s="sidebar",collapsible:r="offcanvas",className:n,children:i,...l}=e,{isMobile:d,state:o,openMobile:c,setOpenMobile:x}=eC();return"none"===r?(0,a.jsx)("div",{"data-slot":"sidebar",className:u("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",n),...l,children:i}):d?(0,a.jsx)(em,{open:c,onOpenChange:x,...l,children:(0,a.jsxs)(eg,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:t,children:[(0,a.jsxs)(ep,{className:"sr-only",children:[(0,a.jsx)(ef,{children:"Sidebar"}),(0,a.jsx)(ev,{children:"Displays the mobile sidebar."})]}),(0,a.jsx)("div",{className:"flex h-full w-full flex-col",children:i})]})}):(0,a.jsxs)("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":o,"data-collapsible":"collapsed"===o?r:"","data-variant":s,"data-side":t,"data-slot":"sidebar",children:[(0,a.jsx)("div",{"data-slot":"sidebar-gap",className:u("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===s||"inset"===s?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),(0,a.jsx)("div",{"data-slot":"sidebar-container",className:u("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex","left"===t?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===s||"inset"===s?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...l,children:(0,a.jsx)("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function e_(e){let{className:t,...s}=e,{toggleSidebar:r}=eC();return(0,a.jsx)("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:u("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...s})}function eE(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:u("flex flex-col gap-2 p-2",t),...s})}function ez(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:u("flex flex-col gap-2 p-2",t),...s})}function eT(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:u("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...s})}(0,c.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});var eD=s(3783),eL=s(7580),eM=s(9145),eP=s(4738),eO=s(2713),eI=s(5525),eR=s(4213),eV=s(1539);let eU=[{title:"Overview",icon:eD.A,view:"overview",description:"System overview and metrics"},{title:"Agents",icon:eL.A,view:"agents",description:"Manage and monitor agents"},{title:"Tasks",icon:eM.A,view:"tasks",description:"Task orchestration and management"},{title:"System",icon:eP.A,view:"system",description:"System monitoring and logs"}],eF=[{title:"Analytics",icon:eO.A,description:"Performance analytics"},{title:"Security",icon:eI.A,description:"Security and permissions"},{title:"Database",icon:eR.A,description:"Database management"},{title:"Integrations",icon:eV.A,description:"External integrations"}];function eq(){let{currentView:e,setCurrentView:t}=(0,D.MZ)(),{isCollapsed:s}=(0,D.cL)(),r=e=>{let{item:r,isActive:n=!1}=e,i=(0,a.jsxs)(g,{variant:n?"secondary":"ghost",className:u("w-full justify-start gap-3 h-11",s&&"justify-center px-2",n&&"bg-secondary text-secondary-foreground font-medium"),onClick:()=>t(r.view),children:[(0,a.jsx)(r.icon,{className:u("h-5 w-5",n&&"text-primary")}),!s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"truncate",children:r.title}),r.badge&&(0,a.jsx)("span",{className:"ml-auto text-xs bg-primary text-primary-foreground px-1.5 py-0.5 rounded-full",children:r.badge})]})]});return s&&r.description?(0,a.jsxs)(eN,{children:[(0,a.jsx)(ew,{asChild:!0,children:i}),(0,a.jsxs)(ey,{side:"right",children:[(0,a.jsx)("p",{className:"font-medium",children:r.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:r.description})]})]}):i};return(0,a.jsx)(eb,{children:(0,a.jsxs)("nav",{className:"space-y-2 p-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[!s&&(0,a.jsx)("h3",{className:"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Dashboard"}),eU.map(t=>(0,a.jsx)(r,{item:t,isActive:e===t.view},t.view))]}),(0,a.jsx)(ex,{}),(0,a.jsxs)("div",{className:"space-y-1",children:[!s&&(0,a.jsx)("h3",{className:"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Tools"}),eF.map(e=>{let t=(0,a.jsxs)(g,{variant:"ghost",className:u("w-full justify-start gap-3 h-11",s&&"justify-center px-2"),disabled:!0,children:[(0,a.jsx)(e.icon,{className:"h-5 w-5 text-muted-foreground"}),!s&&(0,a.jsx)("span",{className:"truncate text-muted-foreground",children:e.title})]});return s&&e.description?(0,a.jsxs)(eN,{children:[(0,a.jsx)(ew,{asChild:!0,children:t}),(0,a.jsxs)(ey,{side:"right",children:[(0,a.jsx)("p",{className:"font-medium",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Coming soon"})]})]},e.title):(0,a.jsx)("div",{children:t},e.title)})]}),(0,a.jsx)(ex,{}),(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsxs)(g,{variant:"ghost",className:u("w-full justify-start gap-3 h-11",s&&"justify-center px-2"),children:[(0,a.jsx)(l.A,{className:"h-5 w-5"}),!s&&(0,a.jsx)("span",{children:"Settings"})]})}),!s&&(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"System Online"})]})})]})})}function eG(){let{isCollapsed:e,toggle:t}=(0,D.cL)();return(0,a.jsxs)(eS,{variant:"sidebar",collapsible:"icon",className:u("flex flex-col h-screen z-40 transition-all duration-300",e?"w-16":"w-64"),children:[(0,a.jsx)(eE,{className:"border-b px-3 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[!e&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"h-6 w-6 rounded bg-primary/20 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-semibold text-primary",children:"M"})}),(0,a.jsx)("span",{className:"font-semibold text-sm text-foreground",children:"MCP Control"})]}),(0,a.jsxs)(g,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8 shrink-0",children:[e?(0,a.jsx)(ed.A,{className:"h-4 w-4"}):(0,a.jsx)(eo.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle sidebar"})]})]})}),(0,a.jsx)(eT,{className:"px-0",children:(0,a.jsx)(eq,{})}),(0,a.jsx)(ez,{className:"border-t p-3",children:!e&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground text-center",children:[(0,a.jsx)("div",{className:"font-medium text-foreground",children:"Agent MCP Dashboard"}),(0,a.jsx)("div",{className:"text-muted-foreground",children:"v2.0 • Premium UI"})]})}),(0,a.jsx)(e_,{})]})}function eZ(e){let{children:t}=e,{isCollapsed:s}=(0,D.cL)(),{setTheme:n,theme:i}=(0,D.DP)();return(0,r.useEffect)(()=>{"system"===i?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"):"dark"===i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");let e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>{"system"===i&&n("system")};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[i,n]),(0,a.jsx)(eA,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-background flex",children:[(0,a.jsx)(eG,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsx)(el,{}),(0,a.jsx)("main",{className:"flex-1 overflow-auto",children:(0,a.jsx)("div",{className:"p-6 animate-fade-in",children:t})})]})]})})}function eH(){let{servers:e,activeServerId:t,setActiveServer:s}=(0,er.m)();e.find(e=>e.id===t);let r=e.filter(e=>"connected"===e.status),n=e.filter(e=>"connected"!==e.status);return(0,a.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center p-8",children:(0,a.jsxs)("div",{className:"max-w-2xl w-full space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"mx-auto w-16 h-16 bg-teal-500/20 rounded-full flex items-center justify-center",children:(0,a.jsx)(R.A,{className:"w-8 h-8 text-teal-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"Connect to MCP Server"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"Choose a server to start managing agents and tasks"})]})]}),r.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[(0,a.jsx)(M.A,{className:"w-4 h-4 text-green-500"}),"Connected Servers"]}),(0,a.jsx)("div",{className:"grid gap-3",children:r.map(e=>(0,a.jsx)(q,{className:"cursor-pointer transition-all hover:shadow-md ".concat(t===e.id?"ring-2 ring-teal-500 bg-teal-50/50 dark:bg-teal-950/20":""),onClick:()=>s(e.id),children:(0,a.jsx)(W,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-foreground",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.host,":",e.port]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(E,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 dark:bg-green-950 dark:text-green-300 dark:border-green-800",children:"Connected"}),t===e.id&&(0,a.jsx)(E,{className:"bg-teal-500 text-white",children:"Active"})]})]})})},e.id))})]}),n.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[(0,a.jsx)(I.A,{className:"w-4 h-4 text-orange-500"}),"Available Servers"]}),(0,a.jsx)("div",{className:"grid gap-3",children:n.map(e=>(0,a.jsx)(q,{className:"cursor-pointer transition-all hover:shadow-md opacity-60",onClick:()=>s(e.id),children:(0,a.jsx)(W,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-foreground",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.host,":",e.port]})]})]}),(0,a.jsx)(E,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200 dark:bg-orange-950 dark:text-orange-300 dark:border-orange-800",children:"connecting"===e.status?"Connecting...":"Disconnected"})]})})},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[(0,a.jsx)(V.A,{className:"w-4 h-4 text-blue-500"}),"Add New Server"]}),(0,a.jsx)(q,{className:"border-dashed border-2 border-muted-foreground/20 hover:border-muted-foreground/40 transition-colors",children:(0,a.jsxs)(W,{className:"p-6 text-center",children:[(0,a.jsx)(en,{}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Connect to a new MCP server to get started"})]})})]}),0===r.length&&(0,a.jsx)("div",{className:"text-center pt-4",children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No servers connected. Add a server above or check your connection settings."})})]})})}function eW(e){let{children:t}=e,{activeServerId:s,servers:r}=(0,er.m)(),n=r.find(e=>e.id===s);return s&&(null==n?void 0:n.status)==="connected"?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsx)(eH,{})}var eX=s(3904),eB=s(3109),eQ=s(9397),eJ=s(5863);function eK(e){let{className:t,value:s,...r}=e;return(0,a.jsx)(eJ.bL,{"data-slot":"progress",className:u("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:(0,a.jsx)(eJ.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})}var e$=s(1886);let eY=new Map,e0=()=>{let{activeServerId:e,servers:t}=(0,er.m)(),s=t.find(t=>t.id===e),[a,n]=(0,r.useState)({server_running:!1,total_agents:0,active_agents:0,total_tasks:0,completed_tasks:0,pending_tasks:0,last_updated:""}),[i,l]=(0,r.useState)(!1),[d,o]=(0,r.useState)(null),[c,x]=(0,r.useState)(0),m=(0,r.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e||!s||"connected"!==s.status){n({server_running:!1,total_agents:0,active_agents:0,total_tasks:0,completed_tasks:0,pending_tasks:0,last_updated:""}),o(null),l(!1);return}let r="".concat(e,"-system"),i=Date.now(),d=eY.get(r);if(!t&&d&&i-d.timestamp<3e4){n(d.data),o(null),l(!1);return}(!a.server_running||t)&&l(!0);try{let e=await e$.uE.getSystemStatus();eY.set(r,{data:e,timestamp:i}),n(e),o(null),x(i)}catch(e){e instanceof Error&&"NO_SERVER_CONNECTED"!==e.message&&(o(e.message),console.error("Error fetching system status:",e))}finally{l(!1)}},[e,s,a.server_running]);(0,r.useEffect)(()=>{m();let e=setInterval(()=>{m(!1)},6e4);return()=>clearInterval(e)},[m]);let u=(0,r.useCallback)(()=>m(!0),[m]);return(0,r.useMemo)(()=>({data:a,loading:i,error:d,refresh:u,lastFetch:c,isConnected:!!e&&(null==s?void 0:s.status)==="connected"}),[a,i,d,u,c,e,s])},e2=r.memo(e=>{let{title:t,value:s,description:r,icon:n,change:i,changeType:l="positive"}=e;return(0,a.jsxs)(q,{className:"bg-card/80 border border-border/60 rounded-xl backdrop-blur-sm hover:bg-card transition-all duration-200 group",children:[(0,a.jsxs)(G,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[(0,a.jsx)(Z,{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:t}),(0,a.jsx)(n,{className:"h-4 w-4 text-muted-foreground group-hover:text-foreground transition-colors"})]}),(0,a.jsxs)(W,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-foreground mb-1",children:s}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:r}),i&&(0,a.jsx)("span",{className:"text-xs font-medium ".concat({positive:"text-teal-600 dark:text-teal-400",negative:"text-orange-600 dark:text-orange-400",neutral:"text-muted-foreground"}[l]),children:i})]})]})]})});function e1(){let[e,t]=(0,r.useState)(!1),{data:s,loading:n,error:i,isConnected:l,refresh:d,lastFetch:o}=e0(),{servers:c,activeServerId:x}=(0,er.m)(),m=c.find(e=>e.id===x);(0,r.useEffect)(()=>{t(!0)},[]);let u=s.total_tasks>0?Math.round(s.completed_tasks/s.total_tasks*100):0,h=s.total_agents>0?Math.round(s.active_agents/s.total_agents*100):0;return l?n?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Overview"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading system data..."})]}),(0,a.jsxs)(E,{variant:"outline",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2 animate-pulse"}),"Connecting"]})]}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(q,{className:"bg-card border border-border rounded-xl",children:(0,a.jsx)(W,{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-muted rounded w-1/2 mb-2"}),(0,a.jsx)("div",{className:"h-8 bg-muted rounded w-1/3 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-muted rounded w-2/3"})]})})},t))})]}):i?(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Overview"}),(0,a.jsxs)("p",{className:"text-destructive",children:["Error loading system data: ",i]})]}),(0,a.jsxs)(E,{variant:"destructive",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Connection Error"]})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"System Overview"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Real-time autonomous system monitoring and analytics"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(E,{variant:"outline",className:s.server_running?"bg-primary/15 text-primary border-primary/30":"bg-destructive/15 text-destructive border-destructive/30",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(s.server_running?"bg-primary animate-pulse":"bg-destructive animate-pulse")}),s.server_running?"Server Online":"Server Offline"]}),(0,a.jsxs)(E,{variant:"outline",className:"bg-muted/50 text-muted-foreground border-border",children:[(0,a.jsx)(R.A,{className:"w-4 h-4 mr-2"}),null==m?void 0:m.name]}),(0,a.jsxs)(g,{variant:"outline",size:"sm",onClick:d,disabled:n,className:"border-primary/30 text-primary hover:bg-primary/10",children:[(0,a.jsx)(eX.A,{className:"h-4 w-4 mr-2 ".concat(n?"animate-spin":"")}),"Refresh"]})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsx)(e2,{title:"Total Agents",value:s.total_agents,description:"Registered in system",icon:eL.A}),(0,a.jsx)(e2,{title:"Active Agents",value:s.active_agents,description:"Currently running",icon:eV.A}),(0,a.jsx)(e2,{title:"Total Tasks",value:s.total_tasks,description:"All time created",icon:eM.A}),(0,a.jsx)(e2,{title:"Completion Rate",value:"".concat(u,"%"),description:"Tasks completed",icon:eB.A})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,a.jsxs)(q,{className:"bg-card border border-border rounded-xl lg:col-span-2",children:[(0,a.jsxs)(G,{children:[(0,a.jsx)(Z,{className:"text-foreground",children:"System Health"}),(0,a.jsx)(H,{className:"text-muted-foreground",children:"Current system performance and resource utilization"})]}),(0,a.jsxs)(W,{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-foreground",children:"Agent Utilization"}),(0,a.jsxs)("span",{className:"text-primary font-semibold",children:[h,"%"]})]}),(0,a.jsx)(eK,{value:h,className:"h-3"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-foreground",children:"Task Completion"}),(0,a.jsxs)("span",{className:"text-primary font-semibold",children:[u,"%"]})]}),(0,a.jsx)(eK,{value:u,className:"h-3"})]})]})]}),(0,a.jsxs)(q,{className:"bg-card border border-border rounded-xl",children:[(0,a.jsxs)(G,{children:[(0,a.jsx)(Z,{className:"text-foreground",children:"Quick Actions"}),(0,a.jsx)(H,{className:"text-muted-foreground",children:"Common operations and shortcuts"})]}),(0,a.jsxs)(W,{className:"space-y-3",children:[(0,a.jsxs)(g,{className:"w-full justify-start bg-primary hover:bg-primary/90 text-primary-foreground",children:[(0,a.jsx)(eL.A,{className:"h-4 w-4 mr-2"}),"Create New Agent"]}),(0,a.jsxs)(g,{className:"w-full justify-start",variant:"outline",children:[(0,a.jsx)(eM.A,{className:"h-4 w-4 mr-2"}),"Add Task"]}),(0,a.jsxs)(g,{className:"w-full justify-start",variant:"outline",children:[(0,a.jsx)(eQ.A,{className:"h-4 w-4 mr-2"}),"View Logs"]}),(0,a.jsxs)(g,{className:"w-full justify-start",variant:"outline",children:[(0,a.jsx)(eB.A,{className:"h-4 w-4 mr-2"}),"Analytics"]})]})]})]}),(0,a.jsxs)(q,{className:"bg-card border border-border rounded-xl",children:[(0,a.jsxs)(G,{children:[(0,a.jsx)(Z,{className:"text-foreground",children:"Recent Activity"}),(0,a.jsx)(H,{className:"text-muted-foreground",children:"Latest system events and updates"})]}),(0,a.jsx)(W,{children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(eQ.A,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground opacity-50"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"No recent activity available"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Activity will appear here when agents start working"})]})})]}),(0,a.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:e?"Last updated: ".concat(o?new Date(o).toLocaleTimeString():s.last_updated||new Date().toLocaleTimeString()):"Loading..."})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Overview"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"System dashboard and performance metrics"})]}),(0,a.jsxs)(E,{variant:"secondary",children:[(0,a.jsx)(R.A,{className:"w-4 h-4 mr-2"}),"No Server Connected"]})]}),(0,a.jsx)(q,{className:"bg-card border border-border rounded-xl",children:(0,a.jsxs)(W,{className:"flex flex-col items-center justify-center py-12",children:[(0,a.jsx)(R.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Connect to an MCP Server"}),(0,a.jsx)("p",{className:"text-muted-foreground text-center mb-4",children:"Select an MCP server from the project picker in the header to view system metrics and manage agents."}),m&&"error"===m.status&&(0,a.jsxs)("div",{className:"text-sm text-destructive",children:["Failed to connect to ",m.name," (",m.host,":",m.port,")"]})]})})]})}e2.displayName="StatCard";var e5=s(3314),e4=s(1684),e3=s(2657),e6=s(9629),e8=s(4020),e9=s(9302),e7=s(3453),te=s(4186),tt=s(3081),ts=s(6474),ta=s(5196),tr=s(7863);function tn(e){let{...t}=e;return(0,a.jsx)(tt.bL,{"data-slot":"select",...t})}function ti(e){let{...t}=e;return(0,a.jsx)(tt.WT,{"data-slot":"select-value",...t})}function tl(e){let{className:t,size:s="default",children:r,...n}=e;return(0,a.jsxs)(tt.l9,{"data-slot":"select-trigger","data-size":s,className:u("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,(0,a.jsx)(tt.In,{asChild:!0,children:(0,a.jsx)(ts.A,{className:"size-4 opacity-50"})})]})}function td(e){let{className:t,children:s,position:r="popper",...n}=e;return(0,a.jsx)(tt.ZL,{children:(0,a.jsxs)(tt.UC,{"data-slot":"select-content",className:u("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[(0,a.jsx)(tc,{}),(0,a.jsx)(tt.LM,{className:u("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(tx,{})]})})}function to(e){let{className:t,children:s,...r}=e;return(0,a.jsxs)(tt.q7,{"data-slot":"select-item",className:u("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(tt.VF,{children:(0,a.jsx)(ta.A,{className:"size-4"})})}),(0,a.jsx)(tt.p4,{children:s})]})}function tc(e){let{className:t,...s}=e;return(0,a.jsx)(tt.PP,{"data-slot":"select-scroll-up-button",className:u("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(tr.A,{className:"size-4"})})}function tx(e){let{className:t,...s}=e;return(0,a.jsx)(tt.wn,{"data-slot":"select-scroll-down-button",className:u("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(ts.A,{className:"size-4"})})}function tm(e){let{className:t,...s}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:u("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...s})}function tu(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:u("w-full caption-bottom text-sm",t),...s})})}function th(e){let{className:t,...s}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:u("[&_tr]:border-b",t),...s})}function tg(e){let{className:t,...s}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:u("[&_tr:last-child]:border-0",t),...s})}function tp(e){let{className:t,...s}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:u("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...s})}function tf(e){let{className:t,...s}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:u("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s})}function tv(e){let{className:t,...s}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:u("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s})}let tj=new Map,tb=()=>{let{activeServerId:e,servers:t}=(0,er.m)(),s=t.find(t=>t.id===e),[a,n]=(0,r.useState)([]),[i,l]=(0,r.useState)(!1),[d,o]=(0,r.useState)(null),[c,x]=(0,r.useState)(0),m=(0,r.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e||!s||"connected"!==s.status){n([]),o(null),l(!1);return}let r="".concat(e,"-agents"),i=Date.now(),d=tj.get(r);if(!t&&d&&i-d.timestamp<3e4){n(d.data),o(null),l(!1);return}(0===a.length||t)&&l(!0);try{let e=await e$.uE.getAgents();tj.set(r,{data:e,timestamp:i}),n(e),o(null),x(i)}catch(e){o(e instanceof Error?e.message:"Failed to fetch agents"),console.error("Error fetching agents:",e)}finally{l(!1)}},[e,s,a.length]);(0,r.useEffect)(()=>{m();let e=setInterval(()=>{m(!1)},6e4);return()=>clearInterval(e)},[m]);let u=(0,r.useCallback)(()=>m(!0),[m]);return(0,r.useMemo)(()=>({agents:a,loading:i,error:d,refresh:u,lastFetch:c,isConnected:!!e&&(null==s?void 0:s.status)==="connected"}),[a,i,d,u,c,e,s])},tN=e=>{let{status:t}=e,s={running:"bg-primary shadow-primary/50 shadow-md",pending:"bg-warning shadow-warning/50 shadow-md animate-pulse",terminated:"bg-muted-foreground shadow-muted-foreground/50 shadow-md",failed:"bg-destructive shadow-destructive/50 shadow-md animate-pulse"};return(0,a.jsx)("div",{className:u("w-2.5 h-2.5 rounded-full",s[t]||s.pending)})},tw=e=>{let{agentId:t}=e,s=t.includes("admin")?eI.A:t.includes("worker")?e5.A:t.includes("analysis")?eR.A:t.includes("security")?eI.A:e4.A;return(0,a.jsx)(s,{className:"h-4 w-4 text-muted-foreground"})},ty=e=>{var t,s;let{agent:n,onTerminate:i}=e,[l,d]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{d(!0)},[]),(0,a.jsxs)(tp,{className:"border-border/50 hover:bg-muted/30 group transition-colors",children:[(0,a.jsx)(tv,{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(tN,{status:n.status}),(0,a.jsx)(tw,{agentId:n.agent_id}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-sm text-foreground truncate",children:n.agent_id}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground font-mono",children:["#",n.agent_id.slice(-6)]})]})]})}),(0,a.jsx)(tv,{className:"py-3",children:(0,a.jsx)(E,{variant:"outline",className:u("text-xs font-semibold border-0 px-3 py-1.5 rounded-md","running"===n.status&&"bg-primary/15 text-primary ring-1 ring-primary/20","pending"===n.status&&"bg-warning/15 text-warning ring-1 ring-warning/20","terminated"===n.status&&"bg-muted/50 text-muted-foreground ring-1 ring-border","failed"===n.status&&"bg-destructive/15 text-destructive ring-1 ring-destructive/20"),children:n.status.toUpperCase()})}),(0,a.jsxs)(tv,{className:"py-3 max-w-xs",children:[(0,a.jsx)("div",{className:"text-sm text-foreground truncate",children:n.current_task||"No active task"}),n.current_task&&(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1 truncate",children:n.working_directory||"No directory set"})]}),(0,a.jsx)(tv,{className:"py-3",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[null==(t=n.capabilities)?void 0:t.slice(0,2).map((e,t)=>(0,a.jsx)(E,{variant:"outline",className:"text-xs px-2 py-0.5 bg-accent/10 text-accent-foreground border-accent/20 font-medium",children:e},t)),n.capabilities&&n.capabilities.length>2&&(0,a.jsxs)(E,{variant:"outline",className:"text-xs px-2 py-0.5 bg-muted/50 text-muted-foreground border-border font-medium",children:["+",n.capabilities.length-2]})]})}),(0,a.jsx)(tv,{className:"py-3 text-xs text-muted-foreground font-mono",children:(s=n.updated_at,l?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"...")}),(0,a.jsx)(tv,{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)(g,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-muted-foreground hover:text-foreground hover:bg-muted",children:(0,a.jsx)(e3.A,{className:"h-3.5 w-3.5"})}),"running"===n.status&&(0,a.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>i(n.agent_id),className:"h-7 w-7 p-0 text-destructive hover:text-destructive/80 hover:bg-destructive/10",children:(0,a.jsx)(e6.A,{className:"h-3.5 w-3.5"})}),(0,a.jsx)(g,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-muted-foreground hover:text-foreground hover:bg-muted",children:(0,a.jsx)(e8.A,{className:"h-3.5 w-3.5"})})]})})]})},tk=e=>{let{icon:t,label:s,value:r,change:n,trend:i}=e;return(0,a.jsx)("div",{className:"bg-card/80 border border-border/60 rounded-xl p-5 backdrop-blur-sm hover:bg-card transition-all duration-200 group",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(t,{className:"h-4 w-4 text-muted-foreground group-hover:text-foreground transition-colors"}),(0,a.jsx)("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:s})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-foreground mb-1",children:r}),n&&(0,a.jsx)("div",{className:u("text-xs font-medium","up"===i&&"text-primary","down"===i&&"text-destructive","neutral"===i&&"text-muted-foreground"),children:n})]})})})},tC=e=>{let{onCreateAgent:t}=e,[s,n]=(0,r.useState)(!1),[i,l]=(0,r.useState)({agent_id:"",capabilities:"",working_directory:""});return(0,a.jsxs)(Q,{open:s,onOpenChange:n,children:[(0,a.jsx)(J,{asChild:!0,children:(0,a.jsxs)(g,{size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg hover:shadow-primary/25 transition-all duration-200",children:[(0,a.jsx)(V.A,{className:"h-4 w-4 mr-1.5"}),"Deploy"]})}),(0,a.jsxs)(Y,{className:"sm:max-w-md bg-card border-border text-card-foreground",children:[(0,a.jsxs)(ee,{children:[(0,a.jsx)(es,{className:"text-lg",children:"Deploy Agent"}),(0,a.jsx)(ea,{className:"text-muted-foreground",children:"Configure a new agent for deployment."})]}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!i.agent_id.trim())return;let s=i.capabilities.split(",").map(e=>e.trim()).filter(e=>e.length>0);t({agent_id:i.agent_id.trim(),capabilities:s.length>0?s:void 0,working_directory:i.working_directory.trim()||void 0}),l({agent_id:"",capabilities:"",working_directory:""}),n(!1)},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider block mb-2",children:"Agent ID"}),(0,a.jsx)(p,{value:i.agent_id,onChange:e=>l(t=>({...t,agent_id:e.target.value})),placeholder:"worker-analytics-01",className:"bg-background border-border text-foreground",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider block mb-2",children:"Capabilities"}),(0,a.jsx)(tm,{value:i.capabilities,onChange:e=>l(t=>({...t,capabilities:e.target.value})),placeholder:"data-analysis, file-ops, web-search",className:"bg-background border-border text-foreground h-20 resize-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider block mb-2",children:"Working Directory"}),(0,a.jsx)(p,{value:i.working_directory,onChange:e=>l(t=>({...t,working_directory:e.target.value})),placeholder:"/workspace/analytics",className:"bg-background border-border text-foreground font-mono text-sm"})]}),(0,a.jsxs)(et,{className:"gap-2",children:[(0,a.jsx)(g,{type:"button",variant:"outline",onClick:()=>n(!1),size:"sm",children:"Cancel"}),(0,a.jsx)(g,{type:"submit",size:"sm",className:"bg-primary hover:bg-primary/90 shadow-lg hover:shadow-primary/25 transition-all",children:"Deploy"})]})]})]})]})};function tA(){let{agents:e,loading:t,error:s,refresh:i,lastFetch:l,isConnected:d}=tb(),{servers:o,activeServerId:c}=(0,er.m)(),x=o.find(e=>e.id===c),[m,h]=(0,r.useState)(""),[f,v]=(0,r.useState)("all"),j=e.filter(e=>{let t=e.agent_id.toLowerCase().includes(m.toLowerCase())||e.current_task&&e.current_task.toLowerCase().includes(m.toLowerCase()),s="all"===f||e.status===f;return t&&s}),b={total:e.length,running:e.filter(e=>"running"===e.status).length,pending:e.filter(e=>"pending"===e.status).length,failed:e.filter(e=>"failed"===e.status).length},N=async e=>{try{await e$.uE.createAgent(e)}catch(e){console.error("Failed to create agent:",e)}},w=async e=>{try{await e$.uE.terminateAgent(e)}catch(e){console.error("Failed to terminate agent:",e)}};return d?t?(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Loading agents..."})]})}):s?(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(O.A,{className:"h-12 w-12 text-destructive mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Connection Error"}),(0,a.jsx)("p",{className:"text-destructive text-sm",children:s})]})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Agent Fleet"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Monitor and manage autonomous agents"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(E,{variant:"outline",className:"text-xs bg-primary/15 text-primary border-primary/30 font-medium",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full mr-2 animate-pulse"}),null==x?void 0:x.name]}),l>0&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date(l).toLocaleTimeString()]}),(0,a.jsxs)(g,{variant:"outline",size:"sm",onClick:i,disabled:t,className:"text-xs",children:[(0,a.jsx)(eX.A,{className:u("h-3.5 w-3.5 mr-1.5",t&&"animate-spin")}),"Refresh"]}),(0,a.jsx)(tC,{onCreateAgent:N})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsx)(tk,{icon:eL.A,label:"Total",value:b.total,change:b.total>0?"".concat(b.running," active"):void 0,trend:"neutral"}),(0,a.jsx)(tk,{icon:e7.A,label:"Running",value:b.running,change:b.total>0?"".concat(Math.round(b.running/b.total*100),"%"):"0%",trend:"up"}),(0,a.jsx)(tk,{icon:te.A,label:"Pending",value:b.pending,change:b.pending>0?"Waiting":"None",trend:"neutral"}),(0,a.jsx)(tk,{icon:O.A,label:"Failed",value:b.failed,change:b.failed>0?"Need attention":"All good",trend:b.failed>0?"down":"neutral"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,a.jsx)(n.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,a.jsx)(p,{placeholder:"Search agents...",value:m,onChange:e=>h(e.target.value),className:"pl-10 bg-background border-border text-foreground placeholder:text-muted-foreground focus:border-primary/50 focus:ring-primary/20 transition-all"})]}),(0,a.jsxs)(tn,{value:f,onValueChange:v,children:[(0,a.jsx)(tl,{className:"w-32 bg-background border-border text-foreground",children:(0,a.jsx)(ti,{})}),(0,a.jsxs)(td,{className:"bg-background border-border",children:[(0,a.jsx)(to,{value:"all",children:"All Status"}),(0,a.jsx)(to,{value:"running",children:"Running"}),(0,a.jsx)(to,{value:"pending",children:"Pending"}),(0,a.jsx)(to,{value:"terminated",children:"Terminated"}),(0,a.jsx)(to,{value:"failed",children:"Failed"})]})]})]}),(0,a.jsxs)("div",{className:"bg-card/30 border border-border/50 rounded-lg overflow-hidden backdrop-blur-sm",children:[(0,a.jsxs)(tu,{children:[(0,a.jsx)(th,{children:(0,a.jsxs)(tp,{className:"border-border/50 hover:bg-transparent",children:[(0,a.jsx)(tf,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider",children:"Agent"}),(0,a.jsx)(tf,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider",children:"Status"}),(0,a.jsx)(tf,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider",children:"Current Task"}),(0,a.jsx)(tf,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider",children:"Capabilities"}),(0,a.jsx)(tf,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider",children:"Updated"}),(0,a.jsx)(tf,{className:"text-muted-foreground font-medium text-xs uppercase tracking-wider w-24",children:"Actions"})]})}),(0,a.jsx)(tg,{children:j.map(e=>(0,a.jsx)(ty,{agent:e,onTerminate:w},e.agent_id))})]}),0===j.length&&(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)(eL.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No agents found"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-4",children:0===e.length?"Deploy your first agent to get started":"No agents match your current filters"}),0===e.length&&(0,a.jsx)(tC,{onCreateAgent:N})]})]})]}):(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(e9.A,{className:"h-12 w-12 text-muted-foreground mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No Server Connection"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Connect to an MCP server to manage agents"})]})]})})}var tS=s(9881),t_=s(7712),tE=s(8832),tz=s(2775),tT=s(5690),tD=s(2178),tL=s(6785);let tM=new Map,tP=()=>{let{activeServerId:e,servers:t}=(0,er.m)(),s=t.find(t=>t.id===e),[a,n]=(0,r.useState)([]),[i,l]=(0,r.useState)(!1),[d,o]=(0,r.useState)(null),[c,x]=(0,r.useState)(0),m=(0,r.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e||!s||"connected"!==s.status){n([]),o(null),l(!1);return}let r="".concat(e,"-tasks"),i=Date.now(),d=tM.get(r);if(!t&&d&&i-d.timestamp<3e4){n(d.data),o(null),l(!1);return}(0===a.length||t)&&l(!0);try{let e=await e$.uE.getTasks();tM.set(r,{data:e,timestamp:i}),n(e),o(null),x(i)}catch(e){e instanceof Error&&"NO_SERVER_CONNECTED"!==e.message&&(o(e.message),console.error("Error fetching tasks:",e))}finally{l(!1)}},[e,s,a.length]);(0,r.useEffect)(()=>{m();let e=setInterval(()=>{m(!1)},6e4);return()=>clearInterval(e)},[m]);let u=(0,r.useCallback)(()=>m(!0),[m]);return(0,r.useMemo)(()=>({tasks:a,loading:i,error:d,refresh:u,lastFetch:c,isConnected:!!e&&(null==s?void 0:s.status)==="connected"}),[a,i,d,u,c,e,s])},tO=r.memo(e=>{let{status:t}=e,s={in_progress:"bg-teal-400 shadow-teal-400/50 shadow-md animate-pulse",pending:"bg-amber-400 shadow-amber-400/50 shadow-md",completed:"bg-emerald-400 shadow-emerald-400/50 shadow-md",cancelled:"bg-slate-500 shadow-slate-500/50 shadow-md",failed:"bg-orange-400 shadow-orange-400/50 shadow-md animate-pulse"};return(0,a.jsx)("div",{className:u("w-2.5 h-2.5 rounded-full",s[t]||s.pending)})});tO.displayName="StatusDot";let tI=r.memo(e=>{let{priority:t}=e,s={high:{icon:tS.A,className:"text-orange-400"},medium:{icon:t_.A,className:"text-amber-400"},low:{icon:tE.A,className:"text-slate-400"}},{icon:r,className:n}=s[t]||s.medium;return(0,a.jsx)(r,{className:u("h-4 w-4",n)})});tI.displayName="PriorityIcon";let tR=r.memo(e=>{let{task:t}=e,[s,n]=(0,r.useState)(!1);(0,r.useEffect)(()=>{n(!0)},[]);let i=(0,r.useCallback)(e=>s?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"...",[s]);return(0,a.jsxs)(tp,{className:"border-teal-500/10 dark:border-teal-500/10 border-teal-600/20 hover:bg-teal-500/5 dark:hover:bg-teal-500/5 hover:bg-teal-600/10 group transition-all duration-200",children:[(0,a.jsx)(tv,{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(tO,{status:t.status}),(0,a.jsx)(tI,{priority:t.priority}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-sm text-foreground truncate",children:t.title}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground font-mono",children:["#",t.task_id.slice(-6)]})]})]})}),(0,a.jsx)(tv,{className:"py-3",children:(0,a.jsx)(E,{variant:"outline",className:u("text-xs font-semibold border-0 px-3 py-1.5 rounded-md","in_progress"===t.status&&"bg-teal-500/15 text-teal-400 dark:text-teal-300 ring-1 ring-teal-500/20","pending"===t.status&&"bg-amber-500/15 text-amber-500 dark:text-amber-300 ring-1 ring-amber-500/20","completed"===t.status&&"bg-emerald-500/15 text-emerald-500 dark:text-emerald-300 ring-1 ring-emerald-500/20","cancelled"===t.status&&"bg-slate-500/15 text-slate-500 dark:text-slate-300 ring-1 ring-slate-500/20","failed"===t.status&&"bg-orange-500/15 text-orange-500 dark:text-orange-300 ring-1 ring-orange-500/20"),children:t.status.replace("_"," ").toUpperCase()})}),(0,a.jsxs)(tv,{className:"py-3 max-w-xs",children:[(0,a.jsx)("div",{className:"text-sm text-foreground truncate",children:t.description||"No description"}),t.assigned_to&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[(0,a.jsx)(eL.A,{className:"h-3 w-3"}),t.assigned_to]})]}),(0,a.jsx)(tv,{className:"py-3",children:(0,a.jsx)(E,{variant:"outline",className:u("text-xs font-medium px-2 py-0.5","high"===t.priority&&"bg-orange-500/10 text-orange-500 dark:text-orange-300 border-orange-500/20","medium"===t.priority&&"bg-amber-500/10 text-amber-500 dark:text-amber-300 border-amber-500/20","low"===t.priority&&"bg-slate-500/10 text-slate-500 dark:text-slate-300 border-slate-500/20"),children:t.priority.toUpperCase()})}),(0,a.jsx)(tv,{className:"py-3",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.parent_task&&(0,a.jsxs)(E,{variant:"outline",className:"text-xs px-2 py-0.5 bg-purple-500/10 text-purple-500 dark:text-purple-300 border-purple-500/20",children:[(0,a.jsx)(tz.A,{className:"h-3 w-3 mr-1"}),"Subtask"]}),t.child_tasks&&t.child_tasks.length>0&&(0,a.jsxs)(E,{variant:"outline",className:"text-xs px-2 py-0.5 bg-blue-500/10 text-blue-500 dark:text-blue-300 border-blue-500/20",children:[t.child_tasks.length," children"]})]})}),(0,a.jsx)(tv,{className:"py-3 text-xs text-muted-foreground font-mono",children:i(t.updated_at)}),(0,a.jsx)(tv,{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)(g,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-muted-foreground hover:text-foreground hover:bg-muted",children:(0,a.jsx)(e3.A,{className:"h-3.5 w-3.5"})}),"pending"===t.status&&(0,a.jsx)(g,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-teal-400 hover:text-teal-300 hover:bg-teal-500/10",children:(0,a.jsx)(tT.A,{className:"h-3.5 w-3.5"})}),"in_progress"===t.status&&(0,a.jsx)(g,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-amber-400 hover:text-amber-300 hover:bg-amber-500/10",children:(0,a.jsx)(tD.A,{className:"h-3.5 w-3.5"})}),(0,a.jsx)(g,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-muted-foreground hover:text-foreground hover:bg-muted",children:(0,a.jsx)(e8.A,{className:"h-3.5 w-3.5"})})]})})]})},(e,t)=>JSON.stringify(e.task)===JSON.stringify(t.task));tR.displayName="CompactTaskRow";let tV=r.memo(e=>{let{icon:t,label:s,value:r,change:n,trend:i}=e;return(0,a.jsx)("div",{className:"bg-slate-900/60 dark:bg-slate-900/60 bg-white/80 border border-slate-800/60 dark:border-slate-800/60 border-slate-200 rounded-xl p-5 backdrop-blur-sm hover:bg-slate-900/80 dark:hover:bg-slate-900/80 hover:bg-white/90 transition-all duration-200 group",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(t,{className:"h-4 w-4 text-slate-400 dark:text-slate-400 text-slate-600 group-hover:text-slate-300 dark:group-hover:text-slate-300 group-hover:text-slate-700 transition-colors"}),(0,a.jsx)("span",{className:"text-xs font-semibold text-slate-400 dark:text-slate-400 text-slate-600 uppercase tracking-wider",children:s})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white dark:text-white text-slate-900 mb-1",children:r}),n&&(0,a.jsx)("div",{className:u("text-xs font-medium","up"===i&&"text-teal-400","down"===i&&"text-orange-400","neutral"===i&&"text-slate-400"),children:n})]})})})});tV.displayName="StatsCard";let tU=r.memo(e=>{let{onCreateTask:t}=e,[s,n]=(0,r.useState)(!1),[i,l]=(0,r.useState)({title:"",description:"",priority:"medium",assigned_to:""});return(0,a.jsxs)(Q,{open:s,onOpenChange:n,children:[(0,a.jsx)(J,{asChild:!0,children:(0,a.jsxs)(g,{size:"sm",className:"bg-teal-600 hover:bg-teal-700 text-white shadow-lg hover:shadow-teal-500/25 transition-all duration-200",children:[(0,a.jsx)(V.A,{className:"h-4 w-4 mr-1.5"}),"Create Task"]})}),(0,a.jsxs)(Y,{className:"sm:max-w-md bg-card border-border text-card-foreground",children:[(0,a.jsxs)(ee,{children:[(0,a.jsx)(es,{className:"text-lg",children:"Create Task"}),(0,a.jsx)(ea,{className:"text-muted-foreground",children:"Define a new task for the system to execute."})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.title.trim()&&(t({title:i.title.trim(),description:i.description.trim()||void 0,priority:i.priority,assigned_to:i.assigned_to.trim()||void 0}),l({title:"",description:"",priority:"medium",assigned_to:""}),n(!1))},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider block mb-2",children:"Task Title"}),(0,a.jsx)(p,{value:i.title,onChange:e=>l(t=>({...t,title:e.target.value})),placeholder:"Analyze dataset and generate report",className:"bg-background border-border text-foreground",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider block mb-2",children:"Description"}),(0,a.jsx)(tm,{value:i.description,onChange:e=>l(t=>({...t,description:e.target.value})),placeholder:"Detailed task requirements and objectives...",className:"bg-background border-border text-foreground h-20 resize-none"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider block mb-2",children:"Priority"}),(0,a.jsxs)(tn,{value:i.priority,onValueChange:e=>l(t=>({...t,priority:e})),children:[(0,a.jsx)(tl,{className:"bg-background border-border text-foreground",children:(0,a.jsx)(ti,{})}),(0,a.jsxs)(td,{className:"bg-background border-border",children:[(0,a.jsx)(to,{value:"low",children:"Low"}),(0,a.jsx)(to,{value:"medium",children:"Medium"}),(0,a.jsx)(to,{value:"high",children:"High"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider block mb-2",children:"Assign To"}),(0,a.jsx)(p,{value:i.assigned_to,onChange:e=>l(t=>({...t,assigned_to:e.target.value})),placeholder:"agent-01",className:"bg-background border-border text-foreground font-mono text-sm"})]})]}),(0,a.jsxs)(et,{className:"gap-2",children:[(0,a.jsx)(g,{type:"button",variant:"outline",onClick:()=>n(!1),size:"sm",children:"Cancel"}),(0,a.jsx)(g,{type:"submit",size:"sm",className:"bg-teal-600 hover:bg-teal-700 shadow-lg hover:shadow-teal-500/25 transition-all",children:"Create Task"})]})]})]})]})});function tF(){let{tasks:e,loading:t,error:s,refresh:i,lastFetch:l,isConnected:d}=tP(),{servers:o,activeServerId:c}=(0,er.m)(),x=o.find(e=>e.id===c),[m,h]=(0,r.useState)(""),[f,v]=(0,r.useState)("all"),[j,b]=(0,r.useState)("all"),N=(0,r.useMemo)(()=>e.filter(e=>{let t=e.title.toLowerCase().includes(m.toLowerCase())||e.description&&e.description.toLowerCase().includes(m.toLowerCase()),s="all"===f||e.status===f,a="all"===j||e.priority===j;return t&&s&&a}),[e,m,f,j]),w=(0,r.useMemo)(()=>({total:e.length,in_progress:e.filter(e=>"in_progress"===e.status).length,pending:e.filter(e=>"pending"===e.status).length,completed:e.filter(e=>"completed"===e.status).length,failed:e.filter(e=>"failed"===e.status).length}),[e]),y=(0,r.useCallback)(async e=>{try{await e$.uE.createTask(e),i()}catch(e){console.error("Failed to create task:",e)}},[i]);return d?t?(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Loading tasks..."})]})}):s?(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(O.A,{className:"h-12 w-12 text-destructive mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Connection Error"}),(0,a.jsx)("p",{className:"text-destructive text-sm",children:s})]})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white dark:text-white text-slate-900",children:"Task Operations"}),(0,a.jsx)("p",{className:"text-slate-400 dark:text-slate-400 text-slate-600 text-sm",children:"Orchestrate and monitor autonomous tasks"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(E,{variant:"outline",className:"text-xs bg-teal-500/15 text-teal-300 border-teal-500/30 font-medium",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-teal-400 rounded-full mr-2 animate-pulse"}),null==x?void 0:x.name]}),l>0&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date(l).toLocaleTimeString()]}),(0,a.jsxs)(g,{variant:"outline",size:"sm",onClick:i,disabled:t,className:"text-xs",children:[(0,a.jsx)(eX.A,{className:u("h-3.5 w-3.5 mr-1.5",t&&"animate-spin")}),"Refresh"]}),(0,a.jsx)(tU,{onCreateTask:y})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,a.jsx)(tV,{icon:tL.A,label:"Total",value:w.total,change:w.total>0?"".concat(w.in_progress," active"):void 0,trend:"neutral"}),(0,a.jsx)(tV,{icon:eV.A,label:"Active",value:w.in_progress,change:w.total>0?"".concat(Math.round(w.in_progress/w.total*100),"%"):"0%",trend:"up"}),(0,a.jsx)(tV,{icon:te.A,label:"Pending",value:w.pending,change:w.pending>0?"Queued":"None",trend:"neutral"}),(0,a.jsx)(tV,{icon:e7.A,label:"Completed",value:w.completed,change:w.total>0?"".concat(Math.round(w.completed/w.total*100),"% done"):"0%",trend:"up"}),(0,a.jsx)(tV,{icon:O.A,label:"Failed",value:w.failed,change:w.failed>0?"Need review":"All good",trend:w.failed>0?"down":"neutral"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,a.jsx)(n.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-teal-400 dark:text-teal-400 text-teal-600"}),(0,a.jsx)(p,{placeholder:"Search tasks...",value:m,onChange:e=>h(e.target.value),className:"pl-10 bg-slate-900/60 dark:bg-slate-900/60 bg-white/80 border-slate-700/60 dark:border-slate-700/60 border-slate-300 text-white dark:text-white text-slate-900 placeholder:text-slate-400 focus:border-teal-500/50 focus:ring-teal-500/20 transition-all"})]}),(0,a.jsxs)(tn,{value:f,onValueChange:v,children:[(0,a.jsx)(tl,{className:"w-36 bg-slate-900/60 dark:bg-slate-900/60 bg-white/80 border-slate-700/60 dark:border-slate-700/60 border-slate-300 text-white dark:text-white text-slate-900",children:(0,a.jsx)(ti,{})}),(0,a.jsxs)(td,{className:"bg-slate-900 dark:bg-slate-900 bg-white border-slate-800 dark:border-slate-800 border-slate-200",children:[(0,a.jsx)(to,{value:"all",children:"All Status"}),(0,a.jsx)(to,{value:"pending",children:"Pending"}),(0,a.jsx)(to,{value:"in_progress",children:"In Progress"}),(0,a.jsx)(to,{value:"completed",children:"Completed"}),(0,a.jsx)(to,{value:"failed",children:"Failed"}),(0,a.jsx)(to,{value:"cancelled",children:"Cancelled"})]})]}),(0,a.jsxs)(tn,{value:j,onValueChange:b,children:[(0,a.jsx)(tl,{className:"w-32 bg-slate-900/60 dark:bg-slate-900/60 bg-white/80 border-slate-700/60 dark:border-slate-700/60 border-slate-300 text-white dark:text-white text-slate-900",children:(0,a.jsx)(ti,{})}),(0,a.jsxs)(td,{className:"bg-slate-900 dark:bg-slate-900 bg-white border-slate-800 dark:border-slate-800 border-slate-200",children:[(0,a.jsx)(to,{value:"all",children:"All Priority"}),(0,a.jsx)(to,{value:"high",children:"High"}),(0,a.jsx)(to,{value:"medium",children:"Medium"}),(0,a.jsx)(to,{value:"low",children:"Low"})]})]})]}),(0,a.jsxs)("div",{className:"bg-slate-900/50 dark:bg-slate-900/50 bg-white/90 border border-teal-500/20 dark:border-teal-500/20 border-teal-600/30 rounded-xl overflow-hidden backdrop-blur-md shadow-xl shadow-teal-500/10",children:[(0,a.jsxs)(tu,{children:[(0,a.jsx)(th,{children:(0,a.jsxs)(tp,{className:"border-teal-500/10 dark:border-teal-500/10 border-teal-600/20 hover:bg-transparent",children:[(0,a.jsx)(tf,{className:"text-white/70 dark:text-white/70 text-slate-700 font-medium text-xs uppercase tracking-wider",children:"Task"}),(0,a.jsx)(tf,{className:"text-white/70 dark:text-white/70 text-slate-700 font-medium text-xs uppercase tracking-wider",children:"Status"}),(0,a.jsx)(tf,{className:"text-white/70 dark:text-white/70 text-slate-700 font-medium text-xs uppercase tracking-wider",children:"Details"}),(0,a.jsx)(tf,{className:"text-white/70 dark:text-white/70 text-slate-700 font-medium text-xs uppercase tracking-wider",children:"Priority"}),(0,a.jsx)(tf,{className:"text-white/70 dark:text-white/70 text-slate-700 font-medium text-xs uppercase tracking-wider",children:"Relations"}),(0,a.jsx)(tf,{className:"text-white/70 dark:text-white/70 text-slate-700 font-medium text-xs uppercase tracking-wider",children:"Updated"}),(0,a.jsx)(tf,{className:"text-white/70 dark:text-white/70 text-slate-700 font-medium text-xs uppercase tracking-wider w-24",children:"Actions"})]})}),(0,a.jsx)(tg,{children:N.map(e=>(0,a.jsx)(tR,{task:e},e.task_id))})]}),0===N.length&&(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)(eM.A,{className:"h-12 w-12 text-teal-400/50 dark:text-teal-400/50 text-teal-600/50 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-white dark:text-white text-slate-900 mb-2",children:"No tasks found"}),(0,a.jsx)("p",{className:"text-white/60 dark:text-white/60 text-slate-600 text-sm mb-4",children:0===e.length?"Create your first task to get started":"No tasks match your current filters"}),0===e.length&&(0,a.jsx)(tU,{onCreateTask:y})]})]})]}):(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(eM.A,{className:"h-12 w-12 text-muted-foreground mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No Server Connection"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Connect to an MCP server to manage tasks"})]})]})})}tU.displayName="CreateTaskModal";var tq=s(4211),tG=s(5541),tZ=s(9295);s(1687);var tH=s(704);function tW(e){let{className:t,...s}=e;return(0,a.jsx)(tH.bL,{"data-slot":"tabs",className:u("flex flex-col gap-2",t),...s})}function tX(e){let{className:t,...s}=e;return(0,a.jsx)(tH.B8,{"data-slot":"tabs-list",className:u("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...s})}function tB(e){let{className:t,...s}=e;return(0,a.jsx)(tH.l9,{"data-slot":"tabs-trigger",className:u("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function tQ(e){let{className:t,...s}=e;return(0,a.jsx)(tH.UC,{"data-slot":"tabs-content",className:u("flex-1 outline-none",t),...s})}var tJ=s(7434),tK=s(8749),t$=s(81);let tY={agent:e=>{let{data:t,selected:s}=e;return console.log("Rendering AgentNode:",t.label,t),(0,a.jsxs)("div",{className:u("px-4 py-3 rounded-lg border-2 bg-card transition-all",s?"border-primary shadow-lg":"border-border",t.highlighted&&"ring-2 ring-primary ring-offset-2"),children:[(0,a.jsx)(tq.h7,{type:"target",position:tq.yX.Top,className:"w-3 h-3"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-[120px]",children:[(0,a.jsx)("div",{className:u("w-3 h-3 rounded-full",{active:"bg-green-500",created:"bg-blue-500",terminated:"bg-gray-500"}[t.status]||"bg-gray-400")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-sm",children:t.label}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:t.status}),t.currentTask&&(0,a.jsxs)("div",{className:"text-xs text-primary mt-1",children:["→ ",t.currentTask]})]})]}),(0,a.jsx)(tq.h7,{type:"source",position:tq.yX.Bottom,className:"w-3 h-3"})]})},task:e=>{let{data:t,selected:s}=e;return console.log("Rendering TaskNode:",t.label,t),(0,a.jsxs)("div",{className:u("px-3 py-2 rounded-md border bg-card transition-all min-w-[200px]",s?"border-primary shadow-lg":"border-border",t.highlighted&&"ring-2 ring-primary ring-offset-2"),children:[(0,a.jsx)(tq.h7,{type:"target",position:tq.yX.Top,className:"w-2 h-2"}),(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-sm truncate",children:t.label}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,a.jsx)("div",{className:u("w-2 h-2 rounded-full",{pending:"bg-yellow-500",in_progress:"bg-blue-500",completed:"bg-green-500",failed:"bg-red-500",cancelled:"bg-gray-500"}[t.status]||"bg-gray-400")}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:t.status})]})]}),t.priority&&(0,a.jsx)(E,{variant:"secondary",className:u("text-xs px-1 py-0",{high:"text-red-600 bg-red-50",medium:"text-yellow-600 bg-yellow-50",low:"text-blue-600 bg-blue-50"}[t.priority]),children:t.priority})]}),t.assignedTo&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["→ ",t.assignedTo]}),(0,a.jsx)(tq.h7,{type:"source",position:tq.yX.Bottom,className:"w-2 h-2"})]})},context:e=>{let{data:t,selected:s}=e;return(0,a.jsxs)("div",{className:u("px-3 py-2 rounded border bg-card/50 backdrop-blur transition-all",s?"border-primary shadow-lg":"border-border/50"),children:[(0,a.jsx)(tq.h7,{type:"target",position:tq.yX.Left,className:"w-2 h-2"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eR.A,{className:"h-3 w-3 text-muted-foreground"}),(0,a.jsx)("div",{className:"text-xs font-medium",children:t.label})]}),(0,a.jsx)(tq.h7,{type:"source",position:tq.yX.Right,className:"w-2 h-2"})]})},file:e=>{let{data:t,selected:s}=e,r={reading:"text-blue-600",editing:"text-orange-600",locked:"text-red-600"};return(0,a.jsxs)("div",{className:u("px-3 py-2 rounded border bg-card/50 backdrop-blur transition-all",s?"border-primary shadow-lg":"border-border/50"),children:[(0,a.jsx)(tq.h7,{type:"target",position:tq.yX.Top,className:"w-2 h-2"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(tJ.A,{className:u("h-3 w-3",r[t.status]||"text-muted-foreground")}),(0,a.jsxs)("div",{className:"text-xs",children:[(0,a.jsx)("div",{className:"font-medium truncate max-w-[150px]",children:t.label}),t.status&&(0,a.jsx)("div",{className:u("text-xs",r[t.status]),children:t.status})]})]})]})}},t0={custom:e=>{let{id:t,sourceX:s,sourceY:r,targetX:n,targetY:i,sourcePosition:l,targetPosition:d,data:o,style:c,markerEnd:x}=e,[m,u,h]=(0,tq.Fp)({sourceX:s,sourceY:r,sourcePosition:l,targetX:n,targetY:i,targetPosition:d});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tq.tE,{id:t,path:m,style:c,markerEnd:x}),(null==o?void 0:o.label)&&(0,a.jsx)(tq.rV,{children:(0,a.jsx)("div",{style:{position:"absolute",transform:"translate(-50%, -50%) translate(".concat(u,"px,").concat(h,"px)"),fontSize:10,pointerEvents:"all"},className:"px-2 py-1 rounded bg-background/80 backdrop-blur text-xs border border-border/50",children:o.label})})]})}},t2={};function t1(){let{}=(0,D.DP)(),{activeServerId:e,servers:t}=(0,er.m)(),s=t.find(t=>t.id===e),[n,i,l]=(0,tq.ck)([]),[d,o,c]=(0,tq.fM)([]),[x,m]=(0,r.useState)(null),[h,p]=(0,r.useState)(!0),[f,v]=(0,r.useState)(null),[j,b]=(0,r.useState)("physics"),[N,w]=(0,r.useState)(!0),[y,k]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),S=(0,r.useCallback)((e,t)=>{try{if(!e||!e.nodes||!e.edges)return void console.warn("Invalid graph data structure:",e);console.log("Converting ".concat(e.nodes.length," nodes and ").concat(e.edges.length," edges")),console.log("Sample node:",e.nodes[0]),console.log("Sample edge:",e.edges[0]);let s=e.nodes.map((e,s)=>{let a="default",r={x:0,y:0};t?r={x:200+s%5*150,y:100+100*Math.floor(s/5)}:"agent"===e.group?(a="agent",r={x:100+s%3*300,y:100}):"task"===e.group?(a="task",r={x:100+s%4*250,y:300+150*Math.floor(s/4)}):"context"===e.group?(a="context",r={x:800,y:100+80*s}):"file"===e.group?(a="file",r={x:600,y:500+60*s}):"admin"===e.group&&(a="agent",r={x:400,y:50});let n={id:e.id,type:a,position:r,data:{...e,label:e.label||e.id}};return console.log("Created node: ".concat(e.id,", type: ").concat(a,", group: ").concat(e.group,", position:"),r),n}),a=new Set(s.map(e=>e.id));console.log("Valid node IDs:",Array.from(a));let r=[];e.edges.forEach((e,t)=>{var s,n,i,l,d;let o,c;if(!e.from||!e.to)return void console.warn("Edge ".concat(t," missing from/to:"),e);if(!a.has(e.from)||!a.has(e.to))return void console.warn("Edge references non-existent nodes: ".concat(e.from," -> ").concat(e.to));let x={},m=!1;(null==(s=e.title)?void 0:s.includes("Created by"))?x={stroke:"#888",strokeWidth:1,opacity:.3}:(null==(n=e.title)?void 0:n.includes("Parent of"))?(x={stroke:"#10b981",strokeWidth:2},o={type:tq.TG.ArrowClosed,color:"#10b981"}):(null==(i=e.title)?void 0:i.includes("Depends on"))?(x={stroke:"#f59e0b",strokeWidth:1.5,strokeDasharray:"5,5"},o={type:tq.TG.Arrow,color:"#f59e0b"}):(null==(l=e.title)?void 0:l.includes("Working on"))?(x={stroke:"#3b82f6",strokeWidth:2},m=!0,o={type:tq.TG.ArrowClosed,color:"#3b82f6"}):(null==(d=e.title)?void 0:d.includes("accessing"))&&(x={stroke:"#ef4444",strokeWidth:1.5},c=e.title.split(" ")[1]),r.push({id:"edge-".concat(t),source:e.from,target:e.to,type:"custom",animated:m,style:x,markerEnd:o,data:{label:c}})}),console.log("Converted to ".concat(s.length," nodes and ").concat(r.length," valid edges")),t?(console.log("Debug mode: Using test nodes"),i([{id:"test-1",type:"default",position:{x:250,y:100},data:{label:"Test Node 1"}},{id:"test-2",type:"default",position:{x:100,y:200},data:{label:"Test Node 2"}},{id:"test-3",type:"default",position:{x:400,y:200},data:{label:"Test Node 3"}}]),o([{id:"e1-2",source:"test-1",target:"test-2",type:"default"},{id:"e1-3",source:"test-1",target:"test-3",type:"default"}])):(i(s),o(r))}catch(e){console.error("Error converting graph data:",e),v("Failed to process graph data")}},[i,o,v]),_=(0,r.useCallback)(async()=>{if(!e||!s||"connected"!==s.status){i([]),o([]),v("No active server connection"),p(!1);return}try{p(!0),v(null),console.log("Fetching graph data from:",e$.uE.getServerUrl());let e=await e$.uE.getGraphData();if(console.log("Raw graph data received:",e),!e)throw Error("No data received from server");S(e,C)}catch(e){v(e instanceof Error?e.message:"Failed to fetch graph data"),console.error("Error fetching graph data:",e),e instanceof Error&&e.message.includes("404")&&console.error("API endpoint not found. Check if the backend is running and the routes are correct.")}finally{p(!1)}},[e,s,S,i,o,C]);(0,r.useEffect)(()=>{if(console.log("SystemGraph mounted, fetching initial data..."),_(),y){let e=setInterval(_,5e3);return()=>clearInterval(e)}},[_,y]),(0,r.useEffect)(()=>{if(n.length>0){let e=n.filter(e=>!e.position||void 0===e.position.x||void 0===e.position.y);e.length>0&&console.error("Nodes with invalid positions:",e)}},[n]),(0,r.useEffect)(()=>{console.log("React Flow State:",{nodesCount:n.length,edgesCount:d.length,nodes:n.slice(0,5),edges:d.slice(0,5),loading:h,error:f})},[n,d,h,f]);let z=(0,r.useCallback)((e,t)=>{m(t.id)},[]),T=(0,r.useCallback)(()=>{let e=[...n],t=new Map(e.map(e=>[e.id,e])),s=new Map;d.forEach(e=>{s.set(e.target,(s.get(e.target)||0)+1)});let a=e.filter(e=>!s.has(e.id)),r=new Set,l=new Map,o=a.map(e=>({node:e,level:0}));for(;o.length>0;){let{node:e,level:s}=o.shift();r.has(e.id)||(r.add(e.id),l.set(e.id,s),d.filter(t=>t.source===e.id).map(e=>t.get(e.target)).filter(Boolean).forEach(e=>{o.push({node:e,level:s+1})}))}let c=new Map;e.forEach(e=>{let t=l.get(e.id)||0;c.has(t)||c.set(t,[]),c.get(t).push(e)}),c.forEach((e,t)=>{let s=100+200*t;e.forEach((e,t)=>{e.position={x:100+250*t,y:s}})}),i(e)},[n,d,i]),L=(0,r.useMemo)(()=>n.find(e=>e.id===x),[n,x]);return e&&s&&"connected"===s.status?h&&0===n.length?(0,a.jsxs)(q,{children:[(0,a.jsxs)(G,{children:[(0,a.jsx)(Z,{children:"System Graph"}),(0,a.jsx)(H,{children:"Visual representation of agents, tasks, and their relationships"})]}),(0,a.jsx)(W,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-[600px]",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(eX.A,{className:"h-12 w-12 mx-auto animate-spin text-primary"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading graph data..."})]})})})]}):f&&0===n.length?(0,a.jsxs)(q,{children:[(0,a.jsxs)(G,{children:[(0,a.jsx)(Z,{children:"System Graph"}),(0,a.jsx)(H,{children:"Visual representation of agents, tasks, and their relationships"})]}),(0,a.jsx)(W,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-[600px]",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(O.A,{className:"h-12 w-12 mx-auto text-destructive"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:f}),(0,a.jsx)(g,{onClick:()=>_(),variant:"outline",children:"Retry"})]})})})]}):(0,a.jsxs)(q,{className:"h-full",children:[(0,a.jsx)(G,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(Z,{children:"System Graph"}),(0,a.jsx)(H,{children:"Visual representation of agents, tasks, and their relationships"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[n.length," nodes, ",d.length," edges"]}),(0,a.jsx)(g,{variant:"outline",size:"sm",onClick:()=>w(!N),children:N?(0,a.jsx)(e3.A,{className:"h-4 w-4"}):(0,a.jsx)(tK.A,{className:"h-4 w-4"})}),(0,a.jsx)(g,{variant:"outline",size:"sm",onClick:()=>k(!y),className:u(y&&"bg-primary/10"),children:(0,a.jsx)(eX.A,{className:u("h-4 w-4",y&&"animate-spin")})}),(0,a.jsx)(g,{variant:"outline",size:"sm",onClick:_,disabled:h,children:h?(0,a.jsx)(eX.A,{className:"h-4 w-4 animate-spin"}):"Refresh"})]})]})}),(0,a.jsx)(W,{className:"p-0",children:(0,a.jsxs)(tW,{defaultValue:"graph",className:"h-full",children:[(0,a.jsxs)(tX,{className:"w-full rounded-none border-b",children:[(0,a.jsxs)(tB,{value:"graph",className:"flex-1",children:[(0,a.jsx)(t$.A,{className:"h-4 w-4 mr-2"}),"Graph View"]}),(0,a.jsxs)(tB,{value:"details",className:"flex-1",children:[(0,a.jsx)(e3.A,{className:"h-4 w-4 mr-2"}),"Node Details"]})]}),(0,a.jsx)(tQ,{value:"graph",className:"h-[600px] m-0 relative overflow-hidden",children:(0,a.jsx)(tq.Ln,{children:(0,a.jsx)("div",{className:"absolute inset-0",style:{width:"100%",height:"100%"},children:(0,a.jsxs)(tq.Gc,{nodes:n,edges:d,onNodesChange:l,onEdgesChange:c,onNodeClick:z,nodeTypes:C?t2:tY,edgeTypes:C?{}:t0,connectionMode:tq.WZ.Loose,fitView:!0,minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.5},className:"bg-background",onInit:e=>{console.log("React Flow initialized:",e),console.log("Nodes in view:",e.getNodes()),console.log("Edges in view:",e.getEdges()),console.log("Viewport:",e.getViewport()),console.log("Node types registered:",Object.keys(tY)),setTimeout(()=>{e.fitView({padding:.2,maxZoom:1}),console.log("After fit view - Viewport:",e.getViewport())},500)},onError:(e,t)=>{console.error("React Flow error:",e,t)},children:[(0,a.jsx)(tG.V,{variant:tG._.Dots,gap:12,size:1,className:"bg-muted/20"}),(0,a.jsx)(tZ.H,{className:"bg-background border border-border"}),(0,a.jsx)(tq.Zk,{position:"top-left",className:"bg-background/80 backdrop-blur p-2 rounded border border-border",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(g,{size:"sm",variant:"physics"===j?"default":"outline",onClick:()=>b("physics"),children:[(0,a.jsx)(e9.A,{className:"h-4 w-4 mr-1"}),"Physics"]}),(0,a.jsxs)(g,{size:"sm",variant:"hierarchical"===j?"default":"outline",onClick:()=>{b("hierarchical"),T()},children:[(0,a.jsx)(tz.A,{className:"h-4 w-4 mr-1"}),"Hierarchy"]}),(0,a.jsx)(g,{size:"sm",variant:C?"default":"outline",onClick:()=>A(!C),children:"Debug"})]})}),(0,a.jsx)(tq.Zk,{position:"bottom-left",className:"bg-background/80 backdrop-blur p-3 rounded border border-border",children:(0,a.jsxs)("div",{className:"text-xs space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,a.jsx)("span",{children:"Active/Completed"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,a.jsx)("span",{children:"In Progress"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,a.jsx)("span",{children:"Pending"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,a.jsx)("span",{children:"Failed"})]})]})})]})})})}),(0,a.jsx)(tQ,{value:"details",className:"p-6",children:L?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:L.data.label}),(0,a.jsxs)("div",{className:"grid gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Type:"}),(0,a.jsx)("span",{className:"font-medium",children:L.type})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"ID:"}),(0,a.jsx)("span",{className:"font-mono text-xs",children:L.id})]}),L.data.status&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,a.jsx)(E,{variant:"outline",children:L.data.status})]}),L.data.priority&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Priority:"}),(0,a.jsx)(E,{variant:"secondary",children:L.data.priority})]}),L.data.assignedTo&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Assigned to:"}),(0,a.jsx)("span",{className:"font-medium",children:L.data.assignedTo})]}),L.data.description&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Description:"}),(0,a.jsx)("p",{className:"mt-1 text-sm",children:L.data.description})]})]})]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(e3.A,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"Select a node to view details"})]})})})]})})]}):(0,a.jsxs)(q,{children:[(0,a.jsxs)(G,{children:[(0,a.jsx)(Z,{children:"System Graph"}),(0,a.jsx)(H,{children:"Visual representation of agents, tasks, and their relationships"})]}),(0,a.jsx)(W,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-[600px] text-muted-foreground",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(e9.A,{className:"h-16 w-16 mx-auto opacity-50"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-medium",children:"No active server connection"}),(0,a.jsx)("p",{className:"text-sm mt-2",children:"Please select a server from the dropdown in the header to view the system graph"})]}),t.length>0&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"Available servers:"}),(0,a.jsx)("div",{className:"space-y-1",children:t.map(e=>(0,a.jsxs)("div",{className:"text-xs",children:[e.name," (",e.host,":",e.port,")"]},e.id))})]})]})})})]})}let t5=[{id:"1",type:"default",position:{x:250,y:100},data:{label:"Test Node 1"},style:{background:"#ff0072",color:"white",border:"2px solid #222",borderRadius:"8px",padding:"10px"}},{id:"2",type:"default",position:{x:100,y:200},data:{label:"Test Node 2"},style:{background:"#0072ff",color:"white",border:"2px solid #222",borderRadius:"8px",padding:"10px"}},{id:"3",type:"default",position:{x:400,y:200},data:{label:"Test Node 3"},style:{background:"#00ff72",color:"black",border:"2px solid #222",borderRadius:"8px",padding:"10px"}}],t4=[{id:"e1-2",source:"1",target:"2",animated:!0},{id:"e1-3",source:"1",target:"3",animated:!0}];function t3(){return(0,a.jsx)("div",{style:{width:"100%",height:"400px",border:"2px solid red"},children:(0,a.jsx)(tq.Ln,{children:(0,a.jsxs)(tq.Gc,{nodes:t5,edges:t4,fitView:!0,fitViewOptions:{padding:.2},children:[(0,a.jsx)(tZ.H,{}),(0,a.jsx)(tG.V,{variant:tG._.Dots,gap:12,size:1})]})})})}var t6=s(5880),t8=s(1284),t9=s(7242);let t7=()=>{let{activeServerId:e,servers:t}=(0,er.m)(),s=t.find(t=>t.id===e);if(!s||"connected"!==s.status)return(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(e=>(0,a.jsxs)(q,{className:"animate-pulse",children:[(0,a.jsx)(G,{className:"pb-2",children:(0,a.jsx)("div",{className:"h-4 bg-muted rounded w-24"})}),(0,a.jsxs)(W,{children:[(0,a.jsx)("div",{className:"h-8 bg-muted rounded w-16 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-muted rounded w-32"})]})]},e))});let r=[{title:"CPU Usage",value:"45%",icon:e5.A,trend:"stable",color:"text-blue-600"},{title:"Memory",value:"2.4GB",icon:t6.A,trend:"up",color:"text-green-600"},{title:"Active Connections",value:"12",icon:e9.A,trend:"up",color:"text-purple-600"},{title:"Response Time",value:"120ms",icon:te.A,trend:"down",color:"text-orange-600"}];return(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:r.map((e,t)=>(0,a.jsxs)(q,{children:[(0,a.jsxs)(G,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(Z,{className:"text-sm font-medium",children:e.title}),(0,a.jsx)(e.icon,{className:sa("h-4 w-4",e.color)})]}),(0,a.jsxs)(W,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.value}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["up"===e.trend&&"↑","down"===e.trend&&"↓","stable"===e.trend&&"→"," ","from last hour"]})]})]},t))})},se=()=>{let e=[{timestamp:new Date().toISOString(),level:"info",message:"System initialized successfully",source:"core"},{timestamp:new Date(Date.now()-3e5).toISOString(),level:"warning",message:"High memory usage detected",source:"monitor"},{timestamp:new Date(Date.now()-6e5).toISOString(),level:"error",message:"Failed to connect to external service",source:"api"},{timestamp:new Date(Date.now()-9e5).toISOString(),level:"success",message:"Database backup completed",source:"backup"}],t={info:(0,a.jsx)(t8.A,{className:"h-4 w-4 text-blue-600"}),warning:(0,a.jsx)(O.A,{className:"h-4 w-4 text-yellow-600"}),error:(0,a.jsx)(t9.A,{className:"h-4 w-4 text-red-600"}),success:(0,a.jsx)(e7.A,{className:"h-4 w-4 text-green-600"})},s={info:"text-blue-600 bg-blue-50",warning:"text-yellow-600 bg-yellow-50",error:"text-red-600 bg-red-50",success:"text-green-600 bg-green-50"};return(0,a.jsxs)(q,{children:[(0,a.jsxs)(G,{children:[(0,a.jsx)(Z,{children:"System Logs"}),(0,a.jsx)(H,{children:"Recent system events and activities"})]}),(0,a.jsx)(W,{children:(0,a.jsx)("div",{className:"space-y-3",children:e.map((e,r)=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/30",children:[t[e.level],(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsx)("p",{className:"text-sm",children:e.message}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:new Date(e.timestamp).toLocaleTimeString()}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:e.source})]})]}),(0,a.jsx)(E,{variant:"secondary",className:sa("text-xs",s[e.level]),children:e.level})]},r))})})]})},st=()=>(0,a.jsxs)(q,{children:[(0,a.jsxs)(G,{children:[(0,a.jsx)(Z,{children:"Resource Usage"}),(0,a.jsx)(H,{children:"System resource allocation and limits"})]}),(0,a.jsx)(W,{className:"space-y-4",children:[{name:"Database Storage",used:45,total:100,unit:"GB"},{name:"RAG Embeddings",used:12e3,total:5e4,unit:"vectors"},{name:"API Requests",used:8500,total:1e4,unit:"req/day"},{name:"Agent Slots",used:8,total:12,unit:"agents"}].map((e,t)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"font-medium",children:e.name}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[e.used.toLocaleString()," / ",e.total.toLocaleString()," ",e.unit]})]}),(0,a.jsx)(eK,{value:e.used/e.total*100,className:"h-2"})]},t))})]});function ss(){return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"System"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"System architecture, performance metrics, and health monitoring"})]}),(0,a.jsxs)(E,{variant:"outline",className:"status-online",children:[(0,a.jsx)(eQ.A,{className:"h-3 w-3 mr-1"}),"All Systems Operational"]})]}),(0,a.jsx)(t7,{}),(0,a.jsxs)(tW,{defaultValue:"graph",className:"space-y-4",children:[(0,a.jsxs)(tX,{className:"grid w-full grid-cols-4",children:[(0,a.jsxs)(tB,{value:"graph",children:[(0,a.jsx)(e9.A,{className:"h-4 w-4 mr-2"}),"System Graph"]}),(0,a.jsx)(tB,{value:"test",children:"Test Graph"}),(0,a.jsxs)(tB,{value:"resources",children:[(0,a.jsx)(eR.A,{className:"h-4 w-4 mr-2"}),"Resources"]}),(0,a.jsxs)(tB,{value:"logs",children:[(0,a.jsx)(tJ.A,{className:"h-4 w-4 mr-2"}),"Logs"]})]}),(0,a.jsx)(tQ,{value:"graph",className:"space-y-4",children:(0,a.jsx)(t1,{})}),(0,a.jsx)(tQ,{value:"test",className:"space-y-4",children:(0,a.jsxs)(q,{children:[(0,a.jsxs)(G,{children:[(0,a.jsx)(Z,{children:"React Flow Test"}),(0,a.jsx)(H,{children:"Simple test to verify React Flow is working"})]}),(0,a.jsx)(W,{children:(0,a.jsx)(t3,{})})]})}),(0,a.jsx)(tQ,{value:"resources",className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid gap-4 lg:grid-cols-2",children:[(0,a.jsx)(st,{}),(0,a.jsxs)(q,{children:[(0,a.jsxs)(G,{children:[(0,a.jsx)(Z,{children:"RAG System"}),(0,a.jsx)(H,{children:"Retrieval Augmented Generation statistics"})]}),(0,a.jsxs)(W,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Documents"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:"1,247"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Index Size"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:"2.3GB"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Query Time"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:"45ms"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Cache Hit Rate"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:"87%"})]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{children:"Embedding Model"}),(0,a.jsx)(E,{variant:"secondary",children:"text-embedding-3-small"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm mt-2",children:[(0,a.jsx)("span",{children:"Vector Database"}),(0,a.jsx)(E,{variant:"secondary",children:"sqlite-vec"})]})]})]})]})]})}),(0,a.jsx)(tQ,{value:"logs",className:"space-y-4",children:(0,a.jsx)(se,{})})]})]})}function sa(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function sr(){let{currentView:e}=(0,D.MZ)();return(0,a.jsx)(eZ,{children:(0,a.jsx)(eW,{children:(()=>{switch(e){case"overview":default:return(0,a.jsx)(e1,{});case"agents":return(0,a.jsx)(tA,{});case"tasks":return(0,a.jsx)(tF,{});case"system":return(0,a.jsx)(ss,{})}})()})})}},8990:(e,t,s)=>{"use strict";s.d(t,{m:()=>i});var a=s(5453),r=s(6786),n=s(1886);let i=(0,a.v)()((0,r.Zr)((e,t)=>({servers:[{id:"default",name:"Local Development",host:"localhost",port:8080,status:"disconnected",description:"Default local MCP server"}],activeServerId:null,isConnecting:!1,connectionError:null,addServer:t=>{let s={...t,id:"server_".concat(Date.now()),status:"disconnected"};e(e=>({servers:[...e.servers,s]}))},removeServer:t=>{e(e=>({servers:e.servers.filter(e=>e.id!==t),activeServerId:e.activeServerId===t?null:e.activeServerId}))},updateServer:(t,s)=>{e(e=>({servers:e.servers.map(e=>e.id===t?{...e,...s}:e)}))},setActiveServer:async s=>{let a=t().servers.find(e=>e.id===s);if(a){e({isConnecting:!0,connectionError:null});try{if(n.uE.setServer(a.host,a.port),await t().checkServerHealth(s))e(e=>({activeServerId:s,isConnecting:!1,servers:e.servers.map(e=>({...e,status:e.id===s?"connected":"disconnected",lastConnected:e.id===s?new Date().toISOString():e.lastConnected}))}));else throw Error("Server health check failed")}catch(t){e(e=>({isConnecting:!1,connectionError:t instanceof Error?t.message:"Connection failed",servers:e.servers.map(e=>({...e,status:e.id===s?"error":e.status}))}))}}},checkServerHealth:async e=>{try{let s=t().servers.find(t=>t.id===e);if(!s)return!1;n.uE.getServerUrl(),n.uE.setServer(s.host,s.port);let a=await n.uE.getSystemStatus();if(t().activeServerId!==e){let e=t().servers.find(e=>e.id===t().activeServerId);e&&n.uE.setServer(e.host,e.port)}return!0===a.server_running}catch(t){return console.error("Health check failed for server ".concat(e,":"),t),!1}},refreshAllServers:async()=>{let s=t().servers.map(async e=>{let s=await t().checkServerHealth(e.id);return{id:e.id,status:s?"connected":"disconnected"}}),a=await Promise.all(s);e(e=>({servers:e.servers.map(e=>{let t=a.find(t=>t.id===e.id);return t?{...e,status:t.status}:e})}))},disconnectServer:()=>{e(e=>({activeServerId:null,servers:e.servers.map(e=>({...e,status:"disconnected"}))})),n.uE.setServer("",0)}}),{name:"mcp-server-store",partialize:e=>({servers:e.servers,activeServerId:e.activeServerId})}))}},e=>{var t=t=>e(e.s=t);e.O(0,[294,702,371,441,684,358],()=>t(2207)),_N_E=e.O()}]);